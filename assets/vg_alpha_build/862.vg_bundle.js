"use strict";(self.webpackChunkcustom_vf_nextjs=self.webpackChunkcustom_vf_nextjs||[]).push([[862],{43351:(e,t,n)=>{n.d(t,{Z:()=>R});var a=n(87462),r=n(92167),l=n(59748),o=n(15607),i=l.default.createElement,s=function(){return i("svg",{"aria-hidden":"true",fill:"none",height:"80%",role:"presentation",viewBox:"0 0 24 24",width:"80%"},i("path",{d:"M12 2C9.38 2 7.25 4.13 7.25 6.75C7.25 9.32 9.26 11.4 11.88 11.49C11.96 11.48 12.04 11.48 12.1 11.49C12.12 11.49 12.13 11.49 12.15 11.49C12.16 11.49 12.16 11.49 12.17 11.49C14.73 11.4 16.74 9.32 16.75 6.75C16.75 4.13 14.62 2 12 2Z",fill:"currentColor"}),i("path",{d:"M17.0809 14.1489C14.2909 12.2889 9.74094 12.2889 6.93094 14.1489C5.66094 14.9989 4.96094 16.1489 4.96094 17.3789C4.96094 18.6089 5.66094 19.7489 6.92094 20.5889C8.32094 21.5289 10.1609 21.9989 12.0009 21.9989C13.8409 21.9989 15.6809 21.5289 17.0809 20.5889C18.3409 19.7389 19.0409 18.5989 19.0409 17.3589C19.0309 16.1289 18.3409 14.9889 17.0809 14.1489Z",fill:"currentColor"}))},u=n(45987),c=n(42982),v=n(87487),g=n(33899),d=n(58473),f=(0,v.tv)({slots:{base:[" vg-flex "," vg-relative "," vg-justify-center "," vg-items-center "," vg-box-border "," vg-overflow-hidden "," vg-align-middle "," vg-text-white "," vg-z-0 "].concat((0,c.Z)(g.Dh)),img:[" vg-flex "," vg-object-cover "," vg-w-full "," vg-h-full "," vg-transition-opacity "," vg-!duration-500 "," vg-opacity-0 "," vg-data-[loaded=true]:opacity-100 "],fallback:[].concat((0,c.Z)(g.z6),[" vg-flex "," vg-items-center "," vg-justify-center "]),name:[].concat((0,c.Z)(g.z6),[" vg-font-normal "," vg-text-center "," vg-text-inherit "]),icon:[].concat((0,c.Z)(g.z6),[" vg-flex "," vg-items-center "," vg-justify-center "," vg-text-inherit "," vg-w-full "," vg-h-full "])},variants:{size:{sm:{base:" vg-w-8 vg-h-8 vg-text-tiny "},md:{base:" vg-w-10 vg-h-10 vg-text-tiny "},lg:{base:" vg-w-14 vg-h-14 vg-text-small "}},color:{default:{base:d.J.solid.default},primary:{base:d.J.solid.primary},secondary:{base:d.J.solid.secondary},success:{base:d.J.solid.success},warning:{base:d.J.solid.warning},danger:{base:d.J.solid.danger}},radius:{none:{base:" vg-rounded-none "},sm:{base:" vg-rounded-small "},md:{base:" vg-rounded-medium "},lg:{base:" vg-rounded-large "},full:{base:" vg-rounded-full "}},isBordered:{true:{base:" vg-ring-2 vg-ring-offset-2 vg-ring-offset-background vg-dark:ring-offset-background-dark "}},isDisabled:{true:{base:" vg-opacity-disabled "}},isInGroup:{true:{base:[" vg--ms-2 vg-data-[hover=true]:-translate-x-3 vg-transition-transform "," vg-data-[focus-visible=true]:-translate-x-3 "]}},isInGridGroup:{true:{base:" vg-m-0 vg-data-[hover=true]:translate-x-0 "}}},defaultVariants:{size:"md",color:"default",radius:"full"},compoundVariants:[{color:"default",isBordered:!0,class:{base:" vg-ring-default "}},{color:"primary",isBordered:!0,class:{base:" vg-ring-primary "}},{color:"secondary",isBordered:!0,class:{base:" vg-ring-secondary "}},{color:"success",isBordered:!0,class:{base:" vg-ring-success "}},{color:"warning",isBordered:!0,class:{base:" vg-ring-warning "}},{color:"danger",isBordered:!0,class:{base:" vg-ring-danger "}}]}),m=((0,v.tv)({base:" vg-flex vg-items-center vg-justify-center vg-h-auto vg-w-max-content ",variants:{isGrid:{true:" vg-inline-grid vg-grid-cols-4 vg-gap-3 "}}}),n(61476)),p=n(33295),b=n(54720),h=n(49869),y=n(50262),w=n(2459),x=n(29261),O=n(18419),P=n(70885),N=(0,n(46347).k)({name:"AvatarGroupContext",strict:!1}),k=(0,P.Z)(N,2),j=(k[0],k[1]),D=["as","ref","src","name","icon","classNames","fallback","alt","imgRef","color","radius","size","isBordered","isDisabled","isFocusable","getInitials","ignoreFallback","showFallback","ImgComponent","imgProps","className","onError"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=l.default.createElement;function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=(0,o.Gp)((function(e,t){var n=function(){var e,t,n,a,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=j(),s=!!i,c=o.as,v=o.ref,g=o.src,d=o.name,P=o.icon,N=o.classNames,k=o.fallback,C=o.alt,I=void 0===C?d||"avatar":C,Z=o.imgRef,E=o.color,_=void 0===E?null!==(e=null==i?void 0:i.color)&&void 0!==e?e:"default":E,R=o.radius,M=void 0===R?null!==(t=null==i?void 0:i.radius)&&void 0!==t?t:"full":R,T=o.size,V=void 0===T?null!==(n=null==i?void 0:i.size)&&void 0!==n?n:"md":T,B=o.isBordered,z=void 0===B?null!==(a=null==i?void 0:i.isBordered)&&void 0!==a&&a:B,F=o.isDisabled,L=void 0===F?null!==(r=null==i?void 0:i.isDisabled)&&void 0!==r&&r:F,U=o.isFocusable,A=void 0!==U&&U,G=o.getInitials,W=void 0===G?b.e:G,H=o.ignoreFallback,J=void 0!==H&&H,q=o.showFallback,K=void 0!==q&&q,X=o.ImgComponent,Q=void 0===X?"img":X,Y=o.imgProps,$=o.className,ee=o.onError,te=(0,u.Z)(o,D),ne=c||"span",ae=(0,p.gy)(v),re=(0,p.gy)(Z),le=(0,w.F)(),oe=le.isFocusVisible,ie=le.isFocused,se=le.focusProps,ue=(0,O.X)({isDisabled:L}),ce=ue.isHovered,ve=ue.hoverProps,ge="loaded"===(0,x.d)({src:g,onError:ee,ignoreFallback:J}),de=(!g||!ge)&&K,fe=(0,l.useMemo)((function(){var e;return f({color:_,radius:M,size:V,isBordered:z,isDisabled:L,isInGroup:s,isInGridGroup:null!==(e=null==i?void 0:i.isGrid)&&void 0!==e&&e})}),[_,M,V,z,L,s,null==i?void 0:i.isGrid]),me=(0,h.W)(null==N?void 0:N.base,$),pe=(0,l.useMemo)((function(){return A||"button"===c}),[A,c]),be=(0,l.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return S({ref:ae,tabIndex:pe?0:-1,"data-hover":(0,y.PB)(ce),"data-focus":(0,y.PB)(ie),"data-focus-visible":(0,y.PB)(oe),className:fe.base({class:(0,h.W)(me,null==e?void 0:e.className)})},(0,m.d)(te,ve,pe?se:{}))}),[pe,fe,me,se,te]),he=(0,l.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return S({ref:re,src:g,"data-loaded":(0,y.PB)(ge),className:fe.img({class:null==N?void 0:N.img})},(0,m.d)(Y,e))}),[fe,ge,Y,g,re]);return{Component:ne,ImgComponent:Q,src:g,alt:I,icon:P,name:d,imgRef:re,slots:fe,classNames:N,fallback:k,isImgLoaded:ge,showFallback:de,ignoreFallback:J,getInitials:W,getAvatarProps:be,getImageProps:he}}(E(E({},e),{},{ref:t})),r=n.Component,o=n.ImgComponent,i=n.src,c=n.icon,v=void 0===c?I(s,null):c,g=n.alt,d=n.classNames,P=n.slots,N=n.name,k=n.showFallback,C=n.fallback,Z=n.getInitials,_=n.getAvatarProps,R=n.getImageProps,M=(0,l.useMemo)((function(){return!k&&i?null:C?I("div",{"aria-label":g,className:P.fallback({class:null==d?void 0:d.fallback}),role:"img"},C):N?I("span",{"aria-label":g,className:P.name({class:null==d?void 0:d.name}),role:"img"},Z(N)):I("span",{"aria-label":g,className:P.icon({class:null==d?void 0:d.icon}),role:"img"},v)}),[k,i,C,N,d]);return I(r,_(),i&&I(o,(0,a.Z)({},R(),{alt:g})),M)}));_.displayName="NextUI.Avatar";const R=_},94653:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(38997),r=n(59748),l=n(48676),o=r.default.createElement;const i=function(e){var t,n,i,s=(0,l.useRuntime)().runtime,u=r.default.useMemo((function(){var e,t;return(null==s||null===(e=s.variables)||void 0===e?void 0:e.avatarImageUrl)||(null===(t=s.variables)||void 0===t?void 0:t.roundedImageURL)||"https://static.vecteezy.com/system/resources/previews/005/337/802/non_2x/icon-symbol-chat-outline-illustration-free-vector.jpg"}),[null===(t=s.variables)||void 0===t?void 0:t.roundedImageURL,null==s||null===(n=s.variables)||void 0===n?void 0:n.avatarImageUrl,null===(i=s.variables)||void 0===i?void 0:i.theme]);return o("div",{key:e.key||"",id:e.id||"",className:" vg-w-8 vg-h-8 vg-chat-avatar vg-relative "},o(a.Z,{classNames:{wrapper:" vg-rounded-full vg-overflow-hidden "},className:" vg-w-[32px] vg-h-[32px] vg-rounded-full vg-object-cover vg-chat-avatar--img",src:u}),s.agentName&&o("p",{className:" vg-absolute vg-text-tiny vg-opacity-80 vg-top-[-20px] vg-left-1 vg-z-[50] vg-chat-agent-name"},s.agentName))}},10695:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HANDOFF_SUBTITLE:()=>O,DEFAULT_HANDOFF_TITLE:()=>x,default:()=>P});var a=n(92167),r=n(15861),l=n(64687),o=n.n(l),i=n(48676),s=n(91148),u=n(17828),c=n(84962),v=n(59748),g=n(43351),d=n(49660),f=n(73850),m=n(82280),p=n(96225),b=n(4070),h=v.default.createElement;function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x="Support Team",O="We reply within minutes âš¡";const P=function(e){var t,n,a,l,y,P,N,k,j,D,C,S,I,Z,E=(0,v.useState)({}),_=E[0],R=E[1],M=(0,i.useRuntime)(),T=M.lightConvoData,V=M.runtime,B=M.confirmedBucket,z=M.handleRequestHandoffInit,F=(M.handleVGHandoffReject,M.setRuntime),L=(M.formattedTurnsValue,V.isSuperAdmin),U=(0,v.useState)(!1),A=(U[0],U[1]);function G(){return(G=(0,r.Z)(o().mark((function e(t){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.agentID,e.next=3,fetch("".concat((0,s.Sw)({region:"voiceglow-eu"===B?"eu":"na"}),"/vg/").concat(n,"/safe-data")).then((function(e){return e.json()})).catch((function(e){}));case 3:null!=(a=e.sent)&&a.orgUsers?(R(a),F((function(e){return w(w({},e),{},{orgUsers:a.orgUsers})}))):(R({}),F((function(e){return w(w({},e),{},{orgUsers:[]})})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}v.default.useEffect((function(){var e,t;null!==(e=V.variables)&&void 0!==e&&e.ID&&B&&(!function(e){G.apply(this,arguments)}({agentID:null===(t=V.variables)||void 0===t?void 0:t.ID}),A(!0))}),[null===(t=V.variables)||void 0===t?void 0:t.ID,B]);var W=v.default.useMemo((function(){var e;return null==_||null===(e=_.orgUsers)||void 0===e?void 0:e.sort((function(e,t){return"online"===e.status&&"online"!==t.status?-1:"online"!==e.status&&"online"===t.status?1:0})).slice(0,3)}),[_.orgUsers]),H=v.default.useMemo((function(){var e;return null==_||null===(e=_.orgUsers)||void 0===e?void 0:e.some((function(e){return"online"===e.status}))}),[null==_?void 0:_.orgUsers]);return h(u.M,null,null!=_&&null!==(n=_.orgUsers)&&void 0!==n&&n.length&&e.active&&"human-chatting"!==T.state&&(H||null!=V&&null!==(a=V.variables)&&void 0!==a&&a.alwaysShowHandoff)?h(c.E.div,{initial:{opacity:0,top:0,left:"4%"},animate:{opacity:1,top:20,left:"4%"},exit:{opacity:0,top:0,left:"4%"},transition:{duration:.2},key:"vg-live-agents",className:" vg-sticky vg-w-[90%] vg-rounded-large vg-z-[50] vg-backdrop-blur vg-bg-background/50 vg-ml-1 vg-p-3 vg-rounded-large vg-border vg-border-foreground-200 vg-live-agents"},h("div",{className:" vg-w-full vg-flex vg-justify-between vg-live-agents--container"},h("div",{className:" vg-flex vg-gap-2 vg-live-agents--avatars"},h("div",{className:" vg-flex vg-justify-start vg-items-center vg-live-agents--avatars-container"},null==W?void 0:W.map((function(e,t){return h("div",{style:{zIndex:W.length-t},key:"human_agent_".concat(t),className:" vg-relative vg-w-auto vg-live-agents--avatar"},h(g.Z,{className:" vg-w-[35px] vg-h-[35px] vg-relative vg-border vg-border-2 vg-border-background ".concat(0!==t?" vg-ml-[-15px] ":" "," vg-live-agents--avatar-img"),size:"sm",src:e.squarePhotoURL}),h("div",{className:" vg-w-2 vg-h-2 vg-absolute vg-bottom-1 vg-right-1 vg-rounded-full ".concat("online"===e.status?" vg-bg-green-500 ":" vg-bg-gray-500 "," vg-live-agents--avatar-status")}))})),(null==_||null===(l=_.orgUsers)||void 0===l?void 0:l.length)>=3?h("p",{className:" vg-flex vg-text-small vg-opacity-80 vg-ml-1 vg-live-agents--avatars-more-label"},"+",(null==_||null===(y=_.orgUsers)||void 0===y?void 0:y.length)-3):null),h("div",{className:"vg-live-agents--text"},V.isSuperAdmin?h(d.Z,{classNames:{base:" vg-h-4 vg-min-h-0 vg-bg-transparent vg-mb-2 ",input:" vg-h-4 vg-min-h-0 vg-bg-transparent ",inputWrapper:" vg-h-4 vg-min-h-0 vg-m-0 vg-p-0 vg-bg-transparent ",innerWrapper:" vg-pb-1 "},type:"text",variant:"underlined",onValueChange:function(t){L&&null!=e&&e.setLocalData&&e.setLocalData((function(e){return w(w({},e),{},{UIhandoffTitle:t})}))},value:void 0===(null==V||null===(P=V.variables)||void 0===P?void 0:P.UIhandoffTitle)?x:null==e||null===(N=e.localRuntimeData)||void 0===N?void 0:N.UIhandoffTitle,size:"sm"}):h("p",null,h(m.Z,{className:" vg-text-small vg-leading-4 vg-live-agents--header",to:null===(k=V.variables)||void 0===k?void 0:k.lang,text:(null==V||null===(j=V.variables)||void 0===j?void 0:j.UIhandoffTitle)||x})),null!=V&&V.isSuperAdmin?h(d.Z,{classNames:{base:" vg-h-4 vg-min-h-0 vg-bg-transparent ",input:" vg-h-4 vg-min-h-0 vg-bg-transparent ",inputWrapper:" vg-h-4 vg-min-h-0 vg-m-0 vg-p-0 vg-bg-transparent ",innerWrapper:" vg-pb-1 "},type:"text",variant:"underlined",onValueChange:function(t){L&&null!=e&&e.setLocalData&&e.setLocalData((function(e){return w(w({},e),{},{UIhandoffSubtitle:t})}))},value:void 0===(null==V||null===(D=V.variables)||void 0===D?void 0:D.UIhandoffSubtitle)?O:null==e||null===(C=e.localRuntimeData)||void 0===C?void 0:C.UIhandoffSubtitle,size:"sm"}):h("p",{className:" vg-flex vg-items-center vg-opacity-80 vg-live-agents--description-container"},h(p.wGS,{className:" vg-w-3 vg-h-3 vg-mr-1 vg-live-agents--description-icon"}),h(m.Z,{limit:25,className:" vg-text-tiny vg-leading-4 vg-live-agents--description",to:null===(S=V.variables)||void 0===S?void 0:S.lang,text:(null==V||null===(I=V.variables)||void 0===I?void 0:I.UIhandoffSubtitle)||O})))),h("div",{className:"vg-live-agents--buttons"},h(f.Z,{isDisabled:"requested_chat"===T.state,onPress:(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z({instant:!0}),F((function(e){return w(w({},e),{},{notice:w(w({},e.notice),{},{custom:h(b.Z,{cancelToIntent:!0})})})}));case 2:case"end":return e.stop()}}),e)}))),className:" vg-font-bold vg-live-agents--button",color:"primary",size:"sm"},h(m.Z,{className:"vg-live-agents--button-text",limit:10,to:null===(Z=V.variables)||void 0===Z?void 0:Z.lang,text:"âš¡ Chat"}))))):null)}},45392:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var a=n(59748),r=n(94653),l=n(17828),o=n(84962),i=a.default.createElement;const s=function(e){return i("div",{id:e.id||"actually_loading",className:" vg-w-full vg-h-auto vg-flex vg-relative vg-loading-animation-container",key:"loading_thing"},e.variant?null:i(r.Z,null),i("div",{className:" ".concat(e.variant?" ":" vg-md:ml-4 vg-ml-2 "," vg-w-14 vg-h-8 vg-relative vg-loading-animation--inner")},i(l.M,null,i(o.E.div,{initial:{scale:1},animate:{scale:1.1},exit:{scale:1},transition:{repeat:1/0,repeatType:"mirror",duration:1},key:"dots_container",className:" vg-flex vg-gap-1 vg-items-center vg-h-full vg-justify-center vg-rounded-lg vg-w-full ".concat("light"===e.variant&&" vg-bg-transparent vg-border-none "," vg- ").concat(!e.variant&&" vg-bg-background vg-border vg-border-foreground-200 "," vg- vg-loading-animation ")},i(o.E.div,{style:{display:"unset"},key:"1_dots_circle",animate:{y:[-2,0,2,0,-2],backgroundColor:["#C8C8C8","#E3E3E3","#C8C8C8"]},transition:{repeat:1/0,repeatType:"reverse",duration:.8},className:" vg-w-2 vg-h-2 vg-rounded-full vg-loading--dot"}),i(o.E.div,{style:{display:"unset"},key:"2_dots_circle",animate:{y:[2,0,-2,0,2],backgroundColor:["#C8C8C8","#E3E3E3","#C8C8C8"]},transition:{repeat:1/0,repeatType:"mirror",delay:.2,duration:.8},className:" vg-w-2 vg-h-2 vg-rounded-full vg-loading--dot"}),i(o.E.div,{style:{display:"unset"},key:"3_dots_circle",animate:{y:[-2,0,2,0,-2],backgroundColor:["#C8C8C8","#E3E3E3","#C8C8C8"]},transition:{repeat:1/0,repeatType:"mirror",delay:.4,duration:.8},className:" vg-w-2 vg-h-2 vg-rounded-full vg-loading--dot"})))))}},63862:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Vo});var a=n(87462),r=n(92167),l=n(70885),o=n(59748),i=n(48676),s=n(5152),u=n.n(s),c=n(45987),v=["children"],g=o.default.createElement;const d=function(e){var t,n,a=e.children,r=(0,c.Z)(e,v),l=(0,o.useRef)(null),i=(0,o.useRef)(null),s=(0,o.useRef)(null),u=(0,o.useState)(!1),d=u[0],f=u[1],m=(0,o.useState)(0),p=m[0],b=m[1],h=(0,o.useState)(0),y=h[0],w=h[1],x=(0,o.useState)(!1),O=x[0],P=x[1],N=function(e){var t,n;if(d&&s.current&&i.current){var a=e.clientY-p,r=Math.min(s.current.clientHeight-i.current.clientHeight,Math.max(0,y+a));i.current.style.top=r+"px";var o=r/(s.current.clientHeight-i.current.clientHeight);l.current.scrollTop=o*((null==l||null===(t=l.current)||void 0===t?void 0:t.scrollHeight)-(null===(n=l.current)||void 0===n?void 0:n.clientHeight))}},k=function(){f(!1),document.body.style.userSelect=""};return(0,o.useEffect)((function(){return document.addEventListener("mousemove",N),document.addEventListener("mouseup",k),function(){document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",k)}}),[d]),(0,o.useEffect)((function(){var e,t;if(l.current&&(null===(e=l.current)||void 0===e?void 0:e.scrollHeight)>(null===(t=l.current)||void 0===t?void 0:t.clientHeight)){if(P(!0),O&&i.current){var n,a,r,o,u,c,v;if(!l.current||!i.current)return;var g=(null===(n=l.current)||void 0===n?void 0:n.clientHeight)/(null===(a=l.current)||void 0===a?void 0:a.scrollHeight)*(null===(r=l.current)||void 0===r?void 0:r.clientHeight)*.8;i.current.style.height=g+"px",i.current.style.top=(null===(o=l.current)||void 0===o?void 0:o.scrollTop)/((null===(u=l.current)||void 0===u?void 0:u.scrollHeight)-(null===(c=l.current)||void 0===c?void 0:c.clientHeight))*((null===(v=s.current)||void 0===v?void 0:v.clientHeight)-g)+"px",i.current.style.transform="translateY(5%)"}}else P(!1)}),[null==l||null===(t=l.current)||void 0===t?void 0:t.scrollHeight,null==l||null===(n=l.current)||void 0===n?void 0:n.clientHeight]),g("div",{className:" vg-scroll-container vg-fancy-scroll--container"},g("div",{style:null==r?void 0:r.style,id:null==r?void 0:r.id,className:" ".concat(null==r?void 0:r.className," vg-content vg-fancy-scroll--content"),ref:l,onScroll:function(e){var t,n,a,o,u;if(null!=r&&r.onScroll&&r.onScroll(e),!d&&s.current&&i.current){var c=(null===(t=l.current)||void 0===t?void 0:t.scrollTop)/((null===(n=l.current)||void 0===n?void 0:n.scrollHeight)-(null===(a=l.current)||void 0===a?void 0:a.clientHeight));i.current.style.top=c*((null===(o=s.current)||void 0===o?void 0:o.clientHeight)-(null===(u=i.current)||void 0===u?void 0:u.clientHeight))+"px"}}},a),O?g("div",{className:" vg-custom-scrollbar vg-z-[9999] vg-fancy-scroll--el-thumb",ref:s},g("div",{className:" vg-custom-scrollbar-thumb ",ref:i,onMouseDown:function(e){f(!0),b(e.clientY),w(i.current.offsetTop),document.body.style.userSelect="none"}})):null)};var f=n(44925),m=n(73850),p=n(43351),b=n(82280),h=n(11194),y=n(5434),w=n(8193),x=n(97693),O=n(84962),P=n(17828),N=n(60155),k=n(57479),j=o.default.createElement;const D=function(e){var t=(0,i.useRuntime)().runtime,n=o.default.useMemo((function(){var e=null==t?void 0:t.orgUsers;return null==e?void 0:e.sort((function(e,t){return"online"===e.status&&"online"!==t.status?-1:"online"!==e.status&&"online"===t.status?1:0})).slice(0,3)}),[null==t?void 0:t.orgUsers]);return j("div",{className:" vg-flex vg-justify-start vg-items-center vg-live-agents--avatars-container"},null==n?void 0:n.map((function(t,a){var r,l;return j("div",{style:{zIndex:n.length-a},key:"human_agent_".concat(a),className:" vg-relative vg-w-auto vg-live-agents--avatar"},j(p.Z,{className:" ".concat(null!==(r=e.classNames)&&void 0!==r&&r.image?null==e||null===(l=e.classNames)||void 0===l?void 0:l.image:" vg-w-[35px] vg-h-[35px] "," vg-object-cover vg-relative vg-border vg-border-2 vg-border-background ").concat(0!==a?" vg-ml-[-15px] ":" "," vg-live-agents--avatar-img"),size:"sm",src:t.squarePhotoURL}),j("div",{className:" vg-w-2 vg-h-2 vg-absolute vg-bottom-1 vg-right-1 vg-rounded-full ".concat("online"===t.status?" vg-bg-green-500 ":" vg-bg-gray-500 "," vg-live-agents--avatar-status")}))})))};var C=o.default.createElement;const S=function(){var e=(0,k.F)().getColor;return C("svg",{width:"100%",height:"100%",viewBox:"0 0 760 600",fill:"none",xmlns:"http://www.w3.org/2000/svg"},C("defs",null,C("linearGradient",{id:"paint0_linear_1205_49",x1:"380",y1:"0",x2:"380",y2:"588",gradientUnits:"userSpaceOnUse"},C(O.E.stop,{key:"stop1",animate:{stopColor:[e("primary-700"),e("primary-500")]},transition:{duration:10,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}}),C(O.E.stop,{key:"stop2",offset:"1",animate:{stopColor:[e("primary-500"),e("primary-700")]},transition:{duration:10,ease:"backInOut",repeat:1/0,repeatType:"reverse"}}))),C(O.E.path,{key:"path1",fill:"url(#paint0_linear_1205_49)",variants:{initial:{d:"M374.753 562.628C173.886 507.008 65.4569 513.566 0 562.628V0H760V493.387C716.362 565.528 593.278 623.136 374.753 562.628Z"},alternate:{d:"M374.753 562.628C191.011 625.254 74 619 0 500V0H760V493.387C697 500 558.5 500 374.753 562.628Z"}},initial:"initial",animate:"alternate",transition:{duration:10,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}}))};var I=n(70231),Z=o.default.createElement;function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){return Z(o.default.Fragment,null,!(null!=e&&e.responsive)&&Z("div",{id:"vg-header-right",className:" vg-flex vg-gap-2 vg-header-right "},Z(m.Z,{id:"vg_chat_toggle",onPress:function(){return e.setChatOpen?e.closeChatBox():""},isIconOnly:!0,className:" vg-bg-white/10 vg-flex vg-items-center vg-text-white vg-minimize-btn"},Z(y.kIL,{className:" vg-w-6 vg-h-6 "})),Z(m.Z,{id:"vg-close-btn",onPress:function(){return e.setChatOpen?e.handleCloseChat():""},isIconOnly:!0,className:" vg-bg-white/10 vg-flex vg-items-center vg-text-white vg-close-btn"},Z(w.oHP,{className:" vg-w-6 vg-h-6 "}))))};const M=function(e){var t,n,a,r,l,s,u,c,v,g,d,y,w,j,C,E,M,T,V=(0,k.F)().getColor,B=(0,f.B)().config,z=(0,i.useRuntime)(),F=z.runtime,L=z.setRuntime,U=z.lightConvoData,A=o.default.useMemo((function(){var e,t;return(null==F||null===(e=F.variables)||void 0===e?void 0:e.headerImageUrl)||(null===(t=F.variables)||void 0===t?void 0:t.roundedImageURL)||"https://static.vecteezy.com/system/resources/previews/005/337/802/non_2x/icon-symbol-chat-outline-illustration-free-vector.jpg"}),[null===(t=F.variables)||void 0===t?void 0:t.roundedImageURL,null==F||null===(n=F.variables)||void 0===n?void 0:n.headerImageUrl,null===(a=F.variables)||void 0===a?void 0:a.theme]);function G(){try{document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"chat_close",data:{chatOpened:!1,ts:Date.now()/1e3},ts:Date.now()/1e3}}))}catch(e){}e.setChatOpen(!1),L((function(e){return _(_({},e),{},{blockInput:!1})}))}var W=function(){L((function(t){var n,a;return _(_({},t),{},{notice:_(_({},t.notice),{},{custom:Z(x.Z,{divKey:"should_end_chat",className:" vg-absolute vg-bottom-0 vg-w-full vg-h-auto vg-z-[50] vg-rounded-large vg-notice-container vg-w-full vg-bg-background/25 vg-backdrop-blur "},Z("div",{className:" vg-p-5 "},Z("div",{className:" vg-flex vg-flex-col vg-gap-2 "},Z(m.Z,{onPress:function(){try{document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"chat_restart",data:{chatOpened:!0,ts:Date.now()/1e3},ts:Date.now()/1e3}}))}catch(e){}e.setChatOpen&&G(),L((function(e){return _(_({},e),{},{reload:!0,notice:_(_({},e.notice),{},{custom:""})})}))},variant:"solid",color:"danger"},Z(b.Z,{text:"End Chat",to:null===(n=F.variables)||void 0===n?void 0:n.lang})),Z(m.Z,{onPress:function(){L((function(e){return _(_({},e),{},{notice:_(_({},e.notice),{},{custom:""})})}))},variant:"light",className:" vg-bg-background vg-text-foreground "},Z(b.Z,{text:"Cancel",to:null===(a=F.variables)||void 0===a?void 0:a.lang})))))})})}))},H=null==F||null===(r=F.variables)||void 0===r||null===(r=r.tabs)||void 0===r?void 0:r.find((function(e){return e.key===F.tabKey}));return Z(O.E.div,{key:"vg-header-container",transition:{type:"spring",stiffness:860,damping:100,mass:.6},animate:{height:"tabs"===(null==F||null===(l=F.variables)||void 0===l||null===(l=l.ui)||void 0===l?void 0:l.widgetType)?"home"===F.tabKey?"250px":"convos"===F.tabKey?(null!=F&&F.selectedSessionId,"65px"):"65px":"65px"},id:"vg-header-container",className:" vg-relative vg-backdrop-blur vg-z-50 vg-w-full vg-text-white vg-flex vg-justify-between vg-absolute vg-top-0 ".concat("full-width"===(null==B?void 0:B.render)?" ":" vg-md:rounded-large "," vg-header-container")},Z(O.E.div,{animate:{background:["linear-gradient(30deg, ".concat(V("primary-500"),", ").concat(V("primary-600"),")"),"linear-gradient(45deg, ".concat(V("primary-700"),", ").concat(V("primary-800"),")"),"linear-gradient(60deg, ".concat(V("primary-800"),", ").concat(V("primary-500"),")")],transition:{duration:10,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}},className:" vg-w-full vg-h-full ",key:"vg-header-gradient-animatiopn"},Z(P.M,null,"home"===F.tabKey&&"tabs"===(null===(s=F.variables)||void 0===s||null===(s=s.ui)||void 0===s?void 0:s.widgetType)?Z("div",{key:"home-cool-thing",className:" vg-absolute vg-top-0 vg-left-0 vg-w-[105%] vg-h-auto vg-opacity-100 "},Z(S,null)):null,"home"===F.tabKey&&"tabs"===(null==F||null===(u=F.variables)||void 0===u||null===(u=u.ui)||void 0===u?void 0:u.widgetType)?Z(x.Z,{className:" vg-z-50 vg-absolute vg-top-0 vg-left-0 vg-flex vg-flex-col vg-items-center vg-gap-2 vg-w-full vg-h-full vg-py-3 vg-px-5 vg-z-50 vg-w-full vg-text-white vg-header-container",key:"vg-header-home"},Z("div",{className:" vg-w-full vg-flex vg-justify-between vg-mt-2 "},Z("div",{className:" vg-gap-2 vg-divide-x vg-flex vg-items-center "},Z(p.Z,{src:A,alt:"chat header image",className:" vg-rounded-full vg-object-cover vg-w-10 vg-h-10 "}),Z(D,{classNames:{image:" vg-w-10 vg-h-10 vg-ml-2 "}})),Z(R,{responsive:e.responsive,setChatOpen:e.setChatOpen,setChatMinimized:e.setChatMinimized,closeChatBox:G,handleCloseChat:W})),Z("div",{className:" vg-flex vg-flex-col vg-gap-2 vg-w-full vg-mt-4 "},Z(b.Z,{to:null==F||null===(c=F.variables)||void 0===c?void 0:c.lang,className:" vg-font-bold vg-text-2xl vg-leading-[100%] "},"Hello ".concat((null==B||null===(v=B.user)||void 0===v?void 0:v.name)||(null==U?void 0:U.userName)||"there",",")),Z(b.Z,{className:" vg-text-2xl vg-leading-[100%] ",to:null==F||null===(g=F.variables)||void 0===g?void 0:g.lang},"How can we help you today?"))):null,"convos"!==F.tabKey&&"faq"!==(null==F?void 0:F.tabKey)||F.selectedSessionId||"tabs"!==(null==F||null===(d=F.variables)||void 0===d||null===(d=d.ui)||void 0===d?void 0:d.widgetType)?null:Z(x.Z,{className:" vg-absolute vg-top-0 vg-left-0 vg-flex vg-items-center vg-justify-between vg-gap-2 vg-w-full vg-h-full vg-py-3 vg-px-5 vg-z-50 vg-w-full vg-text-white vg-header--convos",key:"vg-header-convos"},Z("div",{className:" vg-flex vg-gap-2 vg-items-center "},"convos"===(null==F?void 0:F.tabKey)?Z(N._j0,{className:" vg-w-6 vg-h-6 vg-flex-shrink-0 vg-header--icon"}):null,"faq"===(null==F?void 0:F.tabKey)?Z(I.g_g,{className:" vg-w-6 vg-h-6 vg-flex-shrink-0 vg-header--icon"}):null,Z(b.Z,{to:null==F||null===(y=F.variables)||void 0===y?void 0:y.lang,className:" vg-font-bold vg-text-large vg-leading-[100%] vg-header--text"},null==H?void 0:H.label)),Z(R,{responsive:e.responsive,setChatOpen:e.setChatOpen,setChatMinimized:e.setChatMinimized,closeChatBox:G,handleCloseChat:W})),null!=F&&F.selectedSessionId||"tabs"!==(null==F||null===(w=F.variables)||void 0===w||null===(w=w.ui)||void 0===w?void 0:w.widgetType)?Z(x.Z,{className:" vg-absolute vg-top-0 vg-left-0 vg-py-3 vg-px-5 vg-z-50 vg-w-full vg-text-white vg-flex vg-justify-between vg-absolute vg-top-0 ".concat("full-width"===(null==B?void 0:B.render)?" ":" vg-md:rounded-large "," vg-header-container"),key:"vg-header-chat"},Z("div",{id:"vg-header-left",className:" vg-flex vg-gap-3 vg-items-center vg-header-left"},F.selectedSessionId?Z(m.Z,{onPress:function(){L((function(e){return _(_({},e),{},{selectedSessionId:"",notice:_(_({},e.notice),{},{custom:""}),showVapiUI:!1})}))},variant:"light",color:"default",className:" vg-bg-background-50 vg-flex-shrink-0 vg-text-white ",isIconOnly:!0},Z(N.dUf,{className:" vg-w-5 vg-h-5 vg-header-left--img"})):Z(p.Z,{className:" vg-w-10 vg-h-10 vg-rounded-full vg-object-cover vg-header-left--img",src:A}),Z("div",{id:"vg-header-left-text",className:" vg-flex vg-flex-col vg-gap-0 "},Z("p",{id:"vg-header-left-title",className:" vg-text-medium vg-font-bold vg-leading-5 vg-text-white vg-header-left-text--title"},(0,h.MB)((null===(j=F.variables)||void 0===j?void 0:j.title)||"",35)||""),null!=F&&null!==(C=F.variables)&&void 0!==C&&C.description?Z(b.Z,{to:null==F||null===(E=F.variables)||void 0===E?void 0:E.lang,text:"full-width"===(null==B?void 0:B.render)?null==F||null===(M=F.variables)||void 0===M?void 0:M.description:(0,h.MB)((null===(T=F.variables)||void 0===T?void 0:T.description)||"",35)||"",className:" vg-w-52 vg-truncate vg-text-small vg-opacity-75 vg-leading-5 vg-text-white vg-header-left-text--desc"}):null)),Z(R,{responsive:e.responsive,setChatOpen:e.setChatOpen,setChatMinimized:e.setChatMinimized,closeChatBox:G,handleCloseChat:W})):null)))};var T=n(42982),V=n(15861),B=n(64687),z=n.n(B),F=n(22931),L=n(38997),U=n(53990),A=n(1451),G=n(30381),W=n.n(G),H=n(91148),J=n(39332),q=n(31300),K=n(8871),X=o.default.createElement;const Q=function(e){var t=e.onAudioStart,n=e.onAudioComplete,r=e.buttonProps,l=e.setIsRecordingParent,i=(0,o.useState)(null),s=i[0],u=i[1],c=(0,o.useState)(!1),v=c[0],g=c[1],d=(0,o.useState)(!1),f=(d[0],d[1]);o.default.useEffect((function(){l&&l(v)}),[v]),o.default.useEffect((function(){try{var e;null===(e=navigator)||void 0===e||null===(e=e.permissions)||void 0===e||e.query({name:"microphone"}).then((function(e){"granted"===(null==e?void 0:e.state)?f(!0):f(!1)})).catch((function(e){}))}catch(e){}}),[]);var p=function(){var e=(0,V.Z)(z().mark((function e(){var t,n,a,r,l;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=window)||void 0===t||!t.MediaRecorder||null===(n=navigator)||void 0===n||!n.mediaDevices){e.next=15;break}return e.prev=1,e.next=4,null===(a=navigator)||void 0===a||null===(a=a.mediaDevices)||void 0===a?void 0:a.getUserMedia({audio:!0});case 4:r=e.sent,l=new MediaRecorder(r),u(l),b(l),f(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),f(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,V.Z)(z().mark((function e(a){var r,l;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(r=a||s)?(l=[],r.ondataavailable=function(e){e.data.size>0&&l.push(e.data)},r.onstop=(0,V.Z)(z().mark((function e(){var t;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Blob(l,{type:"audio/wav"}),g(!1),n&&n(t);case 3:case"end":return e.stop()}}),e)}))),r.start(),g(!0),t&&t()):p()}catch(e){}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){try{var e;s.stop(),null==s||null===(e=s.stream)||void 0===e||null===(e=e.getTracks())||void 0===e||e.forEach((function(e){return e.stop()}))}catch(e){}};return X(m.Z,(0,a.Z)({color:v?"danger":"primary",variant:"light",className:"vg-audio-recorder--button",isIconOnly:!0,type:"button",onPressStart:function(){"recording"===(null==s?void 0:s.state)?h():p()},onPressEnd:function(){"recording"===(null==s?void 0:s.state)&&h()}},r),X(I.uYL,{className:" vg-w-5 vg-h-5 vg-object-cover vg-audio-recorder--icon"}))};var Y=n(79352),$=n(69690),ee=o.default.createElement;function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ae=function(e){(0,f.B)().config,(0,J.useSearchParams)();var t,n,a,r,s,u,c=(0,i.useRuntime)(),v=c.runtime,g=c.setRuntime,d=(c.handleNewResponse,c.handlePushMessage),p=c.pushChatNotice,y=c.isTest,w=c.formattedTurnsValue,k=c.lightConvoData,j=c.confirmedBucket,D=o.default.useState(""),C=(0,l.Z)(D,2),S=C[0],I=C[1],Z=o.default.useState(!1),E=(0,l.Z)(Z,2),_=E[0],R=E[1],M=o.default.useState(!1),B=(0,l.Z)(M,2),G=B[0],X=B[1],te=o.default.useState(null),ae=(0,l.Z)(te,2),re=ae[0],le=ae[1],oe=o.default.useState({from:"bot",messages:[]}),ie=(0,l.Z)(oe,2),se=ie[0],ue=ie[1],ce=function(){var e=(0,V.Z)(z().mark((function e(t){var n,a,r,l,o,i,s,u,c;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=31;break}return e.next=3,ve(t);case 3:return n=e.sent,e.prev=4,e.next=7,fetch("".concat((0,H.Sw)({region:v.region}),"/vg/").concat(v.variables.ID,"/stt"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vg_id:v.variables.ID,base64Audio:n,lang:(null===(a=v.variables)||void 0===a?void 0:a.lang)||"en"})});case 7:return r=e.sent,e.next=10,r.json();case 10:if(l=e.sent,!(o=l.text)){e.next=16;break}I((function(e){return e+" "+o})),e.next=20;break;case 16:return e.next=18,(0,h.cG)({translateTo:(null===(i=v.variables)||void 0===i?void 0:i.lang)||"en",text:"No text understood, please make sure to hold > speak > release."});case 18:s=e.sent,p(s,"fail",2500);case 20:e.next=28;break;case 22:return e.prev=22,e.t0=e.catch(4),e.next=26,(0,h.cG)({translateTo:(null===(u=v.variables)||void 0===u?void 0:u.lang)||"en",text:"Error during API call"});case 26:c=e.sent,p(c,"fail",2500);case 28:return e.prev=28,R(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[4,22,28,31]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){var e,a=null==n||null===(e=n.result)||void 0===e?void 0:e.toString().split(",")[1];t(a||"")},n.readAsDataURL(e)}))},ge=o.default.useMemo((function(){var e;return null!==(e=v.variables)&&void 0!==e&&e.customButtonJSON_STRING?JSON.parse(v.variables.customButtonJSON_STRING||"{}"):{viewValue:"default",type:"default"}}),[null==v?void 0:v.variables]);function de(){return(de=(0,V.Z)(z().mark((function e(t){var n;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(0,i.handlePushMessageNoInteract)({agentID:null===(n=v.variables)||void 0===n?void 0:n.ID,userID:v.userID,messages:[{from:"human",type:"visual",item:{payload:{image:t}},isLoading:!0}],bucket:v.bucket});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.default.useEffect((function(){var e;window.innerWidth>=900&&!1===v.loading&&(0,h.PZ)(document.getElementById("VG_TEXT_INPUT_CHATBOT"))&&(null===(e=document.getElementById("VG_TEXT_INPUT_CHATBOT"))||void 0===e||e.focus())}),[v.loading]);var fe=(null==k?void 0:k.chatAssignedTo)&&"human-chatting"===(null==k?void 0:k.state);function me(){return pe.apply(this,arguments)}function pe(){return(pe=(0,V.Z)(z().mark((function e(){var t,n,a;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(""),!S){e.next=6;break}return"bot"===(null==(n=w[w.length-1])?void 0:n.from)&&document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"new_turn",data:{from:"human",message:S},ts:W()().unix()}})),e.next=6,d(S,{type:"text",payload:S},(null===(t=v.variables)||void 0===t?void 0:t.delayBeforeSubmit)||!1);case 6:window.innerWidth>=900&&(null===(a=document.getElementById("VG_TEXT_INPUT_CHATBOT"))||void 0===a||a.focus());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.default.useEffect((function(){var e,t;if("in-footer"===(null==v||null===(e=v.variables)||void 0===e?void 0:e.buttonsLayout)&&(null!=se&&null!==(t=se.messages)&&void 0!==t&&t.length&&ue({from:"bot",messages:[]}),re&&clearTimeout(re),0!==w.length)){var n=(0,T.Z)(w),a=n[n.length-1],r=null!=a&&a.messages?a.messages[a.messages.length-1]:null,l=a.messages.slice(0,a.messages.length-1).reduce((function(e,t){return e+(t.delay||1e3)}),0),o=setTimeout((function(){"choice"===(null==r?void 0:r.type)&&"bot"===a.from&&ue(a)}),l);le(o)}}),[w]);var be=null!=se&&se.messages?se.messages[se.messages.length-1]:null;return ee("div",{className:" vg-w-[95%] vg-h-full vg-footer-container"},ee(P.M,null,"bot"===(null==se?void 0:se.from)&&"choice"===(null==be?void 0:be.type)?ee(O.E.div,{initial:{opacity:0,height:0,marginBottom:0},animate:{opacity:1,height:"auto",marginBottom:10},exit:{opacity:0,height:0,marginBottom:0},key:"proactive-message-container"},ee($.Z,{isCarousel:!0,messageTurnIndex:999,size:"sm",item:be.item,index:0,className:" vg-tw-ltr vg-proactive-message--btn",containerClassname:" vg-proactive-message-btn-container"})):null),ee("form",{className:" vg-w-full vg-h-full vg-flex vg-items-center vg-m-0 vg-footer-form",onSubmit:function(){var e=(0,V.Z)(z().mark((function e(t){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),me();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ee(F.Z,{maxRows:5,minRows:1,placeholder:G?"Recording..":_?"Loading..":"",autoComplete:"off",id:"VG_TEXT_INPUT_CHATBOT",onKeyDown:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),me())},classNames:{base:" vg-h-auto vg-border-none vg-shadow-none vg-outline-none vg-footer-input-base",mainWrapper:" vg-py-2 vg-border-none vg-shadow-none vg-outline-none vg-footer-input-main-wrapper",helperWrapper:" vg-py-4 vg-relative vg-border-none vg-shadow-none vg-outline-none vg-footer-input-helper-wrapper",inputWrapper:" vg-h-14 vg-border-none vg-shadow-none vg-outline-none vg-min-h-0 vg-footer-input-wrapper",input:" vg-font-bold vg-text-primary-900 vg-text-[16px] vg-h-[20px] vg-border-none vg-shadow-none vg-outline-none vg-min-h-0 vg-footer-input",label:" vg-text-primary vg-border-none vg-shadow-none vg-outline-none vg-mb-0 vg-footer-input--label"},isDisabled:!fe&&!v.callOngoing&&(!!y&&!(0,h.JB)(w,q.s)||!(null==v||!v.blockInput)||v.loading&&!v.blockLoading),variant:"flat",className:" vg-text-foreground vg-h-full ",color:"primary",label:ee("div",{className:" vg-flex vg-items-center vg-gap-1 "},ee(A.zYI,{className:" vg-w-4 vg-h-4 "}),ee(b.Z,{text:"Message",to:(null===(t=v.variables)||void 0===t?void 0:t.lang)||"en"})),value:S,onValueChange:function(e){return I(e)},endContent:ee("div",{className:" vg-flex vg-items-center vg-gap-1 vg-justify-center vg-h-full vg-w-auto vg-mt-[-20px] vg-footer-icons-container",key:"submit-icon-button-thing"},fe?ee(K.Z,{noOptions:!0,bucket:j,callback:function(e){!function(e){de.apply(this,arguments)}(e.url)},className:"vg-footer--attachment vg-w-10 vg-h-10 vg-flex vg-justify-center vg-items-center vg-mr-1 vg-mt-1 "},ee(Y.G1z,{className:"vg-footer-attachment--icon vg-w-6 vg-h-6 vg-text-primary "})):null,null!=v&&null!==(n=v.variables)&&void 0!==n&&n.enableQuickFileUpload&&"vg"!==(null==v||null===(a=v.variables)||void 0===a?void 0:a.agentPlatform)?ee(K.Z,{noOptions:!0,className:" vg-w-10 vg-h-10 ",bucket:j,callback:function(e){var t={type:"VGVF_Channel",vf_variables:{vg_media_url:e.url},data:e};d(JSON.stringify(t),{type:"intent",payload:{entities:[{name:"vg_media_url",value:e.url}],intent:{name:"VG_MEDIA_UPLOAD"}}})}},ee(Y.G1z,{className:"vg-footer-attachment--icon vg-w-6 vg-h-6 vg-text-primary "})):null,null!==(r=v.variables)&&void 0!==r&&null!==(r=r.vapi)&&void 0!==r&&r.id&&null!=v&&null!==(s=v.variables)&&void 0!==s&&null!==(s=s.vapiConfig)&&void 0!==s&&s.enableVapiOnWeb?ee(m.Z,{variant:"light",color:"primary",isIconOnly:!0,onPress:function(){g((function(e){return ne(ne({},e),{},{showVapiUI:!e.showVapiUI})}))}}," ",ee(N.DsV,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 "})):null,(null==v||null===(u=v.variables)||void 0===u?void 0:u.enableAudioSupport)&&ee(o.default.Fragment,null,ee(Q,{setIsRecordingParent:X,buttonProps:{isDisabled:_},onAudioComplete:function(e){!function(e){R(!0),ce(e).then((function(){R(!1)})).catch((function(e){R(!1)}))}(e)},onAudioStart:function(){}})),"default"===ge.type&&ee(m.Z,{onPress:function(){g((function(e){var t,n;return ne(ne({},e),{},{notice:ne(ne({},e.notice),{},{custom:ee(x.Z,{divKey:"should_end_chat",className:" vg-absolute vg-bottom-0 vg-w-full vg-h-auto vg-z-50 vg-rounded-large vg-notice-container vg-w-full vg-bg-background/50 vg-backdrop-blur "},ee("div",{className:" vg-p-5 "},ee("div",{className:" vg-flex vg-flex-col vg-gap-2 "},ee(m.Z,{onPress:function(){document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"chat_restart",data:{chatOpened:!0,ts:W()().unix()},ts:W()().unix()}})),g((function(e){return ne(ne({},e),{},{reload:!0,notice:ne(ne({},e.notice),{},{custom:""})})}))},variant:"solid",color:"danger"},ee(b.Z,{text:"Refresh the Conversation",to:null===(t=v.variables)||void 0===t?void 0:t.lang})),ee(m.Z,{onPress:function(){g((function(e){return ne(ne({},e),{},{notice:ne(ne({},e.notice),{},{custom:""})})}))},variant:"light",className:" vg-bg-background vg-text-foreground "},ee(b.Z,{text:"Cancel",to:null===(n=v.variables)||void 0===n?void 0:n.lang})))))})})}))},isIconOnly:!0,className:"vg-footer-reload vg-flex vg-justify-center vg-items-center vg-mr-1 vg-mt-1 ",color:"primary",variant:"light"},ee(U.Ilr,{className:"vg-footer-reload--icon vg-w-4 vg-h-4 vg-text-primary "})),"intent"===ge.type&&ee(m.Z,{onPress:function(){ge.viewValue?d(ge.viewValue,{type:"intent",payload:{entities:[],intent:{name:ge.viewValue},name:ge.viewValue,query:ge.viewValue}}):p("Intent value is null","fail",2500)},isIconOnly:!0,className:"vg-footer-reload vg-flex vg-justify-center vg-items-center vg-mr-1 vg-mt-1 ",color:"primary",variant:"light"},ee(L.Z,{className:" vg-w-5 vg-h-5 vg-object-cover ",src:ge.iconLink||"https://firebasestorage.googleapis.com/v0/b/voiceglow-eu/o/BsStars.svg?alt=media&token=5ef66b51-19c2-4a15-bfd3-18d41b6323c7"})),"link"===ge.type&&ee(m.Z,{onPress:function(){ge.viewValue||p("Link value is null","fail",2500),window.open(ge.viewValue,"_blank")},isIconOnly:!0,className:"vg-footer-reload vg-flex vg-justify-center vg-items-center vg-mr-1 vg-mt-1 ",color:"primary",variant:"light"},ee(L.Z,{className:" vg-w-5 vg-h-5 vg-object-cover ",src:ge.iconLink||"https://firebasestorage.googleapis.com/v0/b/voiceglow-eu/o/BsStars.svg?alt=media&token=5ef66b51-19c2-4a15-bfd3-18d41b6323c7"})),ee(m.Z,{onPress:function(){return me()},isDisabled:0===S.length,isIconOnly:!0,className:"vg-footer-submit vg-flex vg-justify-center vg-items-center vg-mt-1 ",color:"primary",variant:"solid"},ee(N.yhK,{className:"vg-footer-submit--icon vg-w-4 vg-h-4 vg-text-white "})))})))};var re=n(66653),le=o.default.createElement;function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=[{key:"home",label:"Home",icon:le(re.Noz,{className:" vg-w-6 vg-h-6 vg-flex-shrink-0 "})},{key:"convos",label:"Chats",icon:le(N._j0,{className:" vg-w-6 vg-h-6 vg-flex-shrink-0 "})},{key:"faq",label:"FAQ",icon:le(re.Noz,{className:" vg-w-6 vg-h-6 vg-flex-shrink-0 "})}];const ue=function(e){var t,n=(0,i.useRuntime)(),a=n.runtime,r=n.setRuntime;var l=(null==a||null===(t=a.variables)||void 0===t||null===(t=t.tabs)||void 0===t?void 0:t.filter((function(e){return!(null!=e&&e.hide)})))||se;return le("div",{className:" vg-w-full vg-h-full vg-flex vg-gap-2 vg-p-2 vg-pt-0 "},l.map((function(e,t){var n;return le(m.Z,{style:{width:100/l.length+"%"},variant:"light",isIconOnly:!0,color:a.tabKey===e.key?"primary":"default",key:e.key,className:" vg-w-auto vg-h-auto vg-py-2 vg-flex vg-flex-col vg-gap-2 vg-items-center vg-justify-center vg-w-1/3 ".concat(a.tabKey===e.key?" vg-text-primary ":" vg-bg-background vg-text-foreground-500 "," vg-cursor-pointer "),onPress:function(){"convos"===e.key&&r((function(e){return ie(ie({},e),{},{selectedSessionId:""})})),r((function(t){return ie(ie({},t),{},{tabKey:e.key})}))}},e.iconUrl?le(p.Z,{src:e.iconUrl,alt:e.label,className:" vg-w-6 vg-h-6 vg-flex-shrink-0 "}):null==se||null===(n=se.find((function(t){return t.key===e.key})))||void 0===n?void 0:n.icon,le("p",{className:" vg-text-xs vg-leading-[100%] vg-mt-2 "},e.label))})))};var ce=o.default.createElement;const ve=function(e){var t,n=(0,i.useRuntime)().runtime;(0,f.B)().safeOwnerData;return ce(O.E.div,{transition:{type:"spring",stiffness:600,damping:60,mass:.6},animate:{height:"auto"},className:" vg-bg-gradient-to-b vg-from-background/25 vg-to-background/90 vg-backdrop-blur vg-w-full vg-mx-auto vg-border-t vg-border-t-primary-100 vg-pt-3 vg-absolute vg-bottom-0 vg-z-50 vg-footer-mother-container"},"tabs"!==(null==n||null===(t=n.variables)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.widgetType)||null!=n&&n.selectedSessionId?ce("div",{className:" vg-w-full vg-h-auto vg-flex vg-flex-col vg-justify-center vg-items-center vg-footer-inner-container vg-pb-2 "},ce(ae,e),ce("p",{className:" vg-text-small vg-mt-1 vg-opacity-75 vg-footer-branding"})):ce(ue,null))};var ge=n(37106),de=o.default.createElement;function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=function(e){var t,n=(0,i.useRuntime)().runtime;return de(m.Z,{color:"primary",variant:"light",className:" vg-py-4 vg-text-primary-900 ".concat(e.fromConvos?" vg-w-full ":" vg-px-4 vg-w-[90%] "," vg-backdrop-blur vg-bg-primary-50/80 vg-data-[hover=true]:bg-primary-50/90 vg-border vg-border-primary-100 vg-hover:opacity-100 vg-data-[hover=true]:bg-primary-50 vg-hover:bg-primary-50 vg-mx-auto vg-flex vg-justify-between vg-gap-2 vg-items-center vg-home--button"),onPress:e.onPress},de("div",{className:" vg-flex vg-items-center vg-gap-2 "},e.icon,de(b.Z,{to:null==n||null===(t=n.variables)||void 0===t?void 0:t.lang,className:" vg-font-bold "},e.label)),de(y.sOJ,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 "}))};const be=function(e){var t,n,a,r=(0,i.useRuntime)(),l=r.runtime,s=r.setRuntime,u=r.formattedTurnsValue,c=r.handleRequestHandoffInit,v=r.handlePushMessage,g=null==l||null===(t=l.variables)||void 0===t||null===(t=t.tabs)||void 0===t?void 0:t.find((function(e){return"home"===e.key}));return de("div",{className:" vg-mt-[-25px] vg-h-auto vg-pb-5 vg-relative vg-w-[90%] vg-mx-auto vg-z-[99] vg-w-full vg-flex vg-flex-col vg-gap-3 vg-home-tab"},null==g||null===(n=g.homeSpecific)||void 0===n||null===(n=n.buttons)||void 0===n?void 0:n.map((function(e,t){var n,a;return e.show?"recentConvo"===e.key?de("div",{className:" vg-w-[90%] vg-mx-auto vg-relative vg-home-recent"},de(Oe,{key:e.key,fromHome:!0,session:u,index:0})):de("div",null,de(pe,{key:e.key,onPress:function(){"liveCall"===e.key&&s((function(e){return me(me({},e),{},{showVapiUI:!e.showVapiUI,tabKey:"convos",selectedSessionId:"".concat(l.userID)})})),"directHandoff"===e.key&&(s((function(e){return me(me({},e),{},{selectedSessionId:"".concat(l.userID),tabKey:"convos"})})),c({actionMessage:null,instant:null})),"askQuestion"===e.key&&s((function(e){return me(me({},e),{},{selectedSessionId:"".concat(l.userID),tabKey:"convos"})}))},label:e.label,icon:e.iconUrl?de(p.Z,{src:e.iconUrl}):"recentConvo"===e.key?de(ge.Rwq,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 "}):"liveCall"===e.key?de(ge.ri8,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 "}):"directHandoff"===e.key?de(y.AMb,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 "}):"askQuestion"===e.key?de(ge.Rwq,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 "}):null}),"askQuestion"===e.key&&null!=e&&null!==(n=e.iceBreakers)&&void 0!==n&&n.length?de("div",{className:" vg-w-[90%] vg-mx-auto vg-overflow-x-auto vg-flex vg-gap-2 vg-mt-2 "},null===(a=e.iceBreakers)||void 0===a?void 0:a.map((function(e,t){return de(o.default.Fragment,null,de(m.Z,{onPress:function(){s((function(e){return me(me({},e),{},{selectedSessionId:"".concat(l.userID),tabKey:"convos"})})),v(e)},variant:"faded",color:"primary",size:"sm",className:" vg-flex-shrink-0 vg-text-tiny vg-home-icebreaker vg-data-[hover=true]:opacity-100 vg-container-snap-chat "},e))}))):null):null})),null!=g&&null!==(a=g.homeSpecific)&&void 0!==a&&a.showRecentConvo?de("div",{className:" vg-w-[90%] vg-mx-auto vg-relative vg-home-recent"},de(Oe,{fromHome:!0,session:u,index:0})):null,null!=g&&g.iframeUrl?de("iframe",{style:{height:(null==g?void 0:g.iframeHeight)||500},id:"home-iframe",className:" vg-w-[90%] vg-mx-auto vg-mt-2 vg-iframe",src:null==g?void 0:g.iframeUrl}):null)};var he=n(51649),ye=o.default.createElement;function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe=function(e){for(var t,n,a,r,s=o.default.useState(!1),u=(0,l.Z)(s,2),c=(u[0],u[1]),v=(0,i.useRuntime)(),g=v.runtime,d=v.setRuntime,f=(0,i.useRuntime)().confirmedBucket,w=e.session,x=w[w.length-1],O=w.length-1;O>=0;O--){var P=w[O];if(P.messages.find((function(e){return"text"===e.type}))){x=P;break}}var N=null===(t=x)||void 0===t||null===(t=t.messages)||void 0===t?void 0:t.findLast((function(e){if("text"===e.type)return e}));function k(){return k=(0,V.Z)(z().mark((function e(t){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,fetch("".concat((0,h.MC)({region:"voiceglow-eu"===f?"eu":"na"}),"/agents/").concat(null==g?void 0:g.variables.ID,"/convos/").concat(g.userID,"/sessions/").concat(t[0].session_id,"/rollback"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:t,safeAgentData:g.variables})});case 4:200===e.sent.status&&d((function(e){return xe(xe({},e),{},{selectedSessionId:t[0].session_id})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1);case 11:c(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),k.apply(this,arguments)}var j=o.default.useMemo((function(){var e=null==g?void 0:g.orgUsers;return null==e?void 0:e.sort((function(e,t){return"online"===e.status&&"online"!==t.status?-1:"online"!==e.status&&"online"===t.status?1:0})).slice(0,3)}),[null==g?void 0:g.orgUsers]);return ye(m.Z,{color:"default",variant:"light",isIconOnly:!0,onPress:function(){e.fromHome?d((function(e){return xe(xe({},e),{},{tabKey:"convos",selectedSessionId:null==g?void 0:g.userID})})):function(e){return k.apply(this,arguments)}(e.session).then((function(){}))},key:e.key||e.index,className:" ".concat(e.fromHome?" vg-backdrop-blur vg-bg-primary-50/80 vg-data-[hover=true]:bg-primary-50/90 vg-border vg-border-primary-100 vg-flex vg-flex-col vg-items-center vg-justify-between vg-w-full vg-h-auto vg-px-3 vg-gap-3 vg-w-full vg-border vg-whitespace-normal vg-py-3 ":" vg-flex vg-items-center vg-justify-between vg-w-full vg-h-auto vg-px-3 vg-gap-3 vg-w-full vg-border vg-border-foreground-300 vg-whitespace-normal vg-py-3 vg-mx-1 "," ")},e.fromHome?ye(b.Z,{to:null==g||null===(n=g.variables)||void 0===n?void 0:n.lang,className:" vg-w-full vg-font-bold vg-text-left vg-mb-2 "},"Recent Conversation"):null,ye("div",{className:" vg-flex vg-items-center vg-justify-between vg-w-full vg-h-auto vg-gap-3 vg-w-full "},ye("div",{className:" vg-flex vg-item-center vg-whitespace-normal vg-grow vg-gap-2 vg-w-[50%] "},ye("div",{className:" vg-flex vg-justify-start vg-items-center vg-live-agents--avatars-container"},null==j?void 0:j.map((function(e,t){return ye("div",{style:{zIndex:j.length-t},key:"human_agent_".concat(t),className:" vg-relative vg-w-auto vg-live-agents--avatar"},ye(p.Z,{className:" vg-w-[35px] vg-h-[35px] vg-relative vg-border vg-border-2 vg-border-background ".concat(0!==t?" vg-ml-[-15px] ":" "," vg-live-agents--avatar-img"),size:"sm",src:e.squarePhotoURL}),ye("div",{className:" vg-w-2 vg-h-2 vg-absolute vg-bottom-1 vg-right-1 vg-rounded-full ".concat("online"===e.status?" vg-bg-green-500 ":" vg-bg-gray-500 "," vg-live-agents--avatar-status")}))}))),ye("div",{className:" vg-flex vg-flex-col vg-gap-1 vg-items-start vg-justify-start vg-w-[50%] "},ye("p",{className:" vg-text-sm vg-text-left vg-truncate vg-w-52 vg-overflow-hidden vg-leading-[100%] "},null==N||null===(a=N.item)||void 0===a||null===(a=a.payload)||void 0===a?void 0:a.message),ye("p",{className:" vg-text-xs vg-opacity-80 vg-leading-[100%] "},W().unix(null===(r=x)||void 0===r?void 0:r.ts).fromNow()))),ye("div",{className:" vg-flex vg-flex-row vg-items-center vg-justify-end "},ye(y.sOJ,{className:" vg-w-5 vg-h-5 vg-text-foreground "}))))};const Pe=function(e){var t,n,a,r,s,u=(0,i.useRuntime)(),c=u.runtime,v=u.setRuntime,g=u.formattedTurnsValue,d=o.default.useState(null),f=(0,l.Z)(d,2),m=(f[0],f[1],o.default.useMemo((function(){var e;return null==c||null===(e=c.sessions)||void 0===e?void 0:e.filter((function(e,t){var n,a,r,l,o,i;return(null===(n=g[0])||void 0===n?void 0:n.session_id)!==(null===(a=e[0])||void 0===a?void 0:a.session_id)&&(!!("vg"===(null==c||null===(r=c.variables)||void 0===r?void 0:r.agentPlatform)||null!==(l=e[0])&&void 0!==l&&l.vf_stack&&null!==(o=e[0])&&void 0!==o&&o.session_id)&&(null!==(i=e[0])&&void 0!==i&&i.session_id?(null==e?void 0:e.length)>0&&e.find((function(e){return"human"===e.from})):void 0))}))}),[c.sessions]));return ye(x.Z,{className:" vg-mx-auto vg-w-[90%] vg-flex vg-flex-col vg-gap-2 vg-py-5 "},ye(pe,{fromConvos:!0,icon:ye(he.qAq,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 "}),label:"New Chat",onPress:function(){v((function(e){return xe(xe({},e),{},{selectedSessionId:null==c?void 0:c.userID,reload:!0})}))}}),ye(Oe,{index:-1,session:g,fromHome:!0}),ye("div",null,ye(b.Z,{to:null==c||null===(t=c.variables)||void 0===t?void 0:t.lang,className:" vg-text-small vg-opacity-80 vg-mb-2 "},"Previous conversations"),ye("div",{className:" vg-flex vg-flex-col vg-gap-2 "},null==m||null===(n=m.slice(0,10))||void 0===n?void 0:n.map((function(e,t){return ye(Oe,{key:t,session:e,index:t})})),null==m||null===(a=m.slice(0,10))||void 0===a?void 0:a.map((function(e,t){return ye(Oe,{key:t,session:e,index:t})})),null==m||null===(r=m.slice(0,10))||void 0===r?void 0:r.map((function(e,t){return ye(Oe,{key:t,session:e,index:t})}))),null!=m&&m.length?null:ye(x.Z,{key:"no-recent-conversations",className:" vg-flex vg-flex-col vg-gap-2 vg-items-center vg-justify-center vg-w-full vg-h-auto vg-py-10 vg-convos-tab--no-recent-conversations"},ye(b.Z,{to:null==c||null===(s=c.variables)||void 0===s?void 0:s.lang},"No recent conversations"))))};var Ne=n(7860),ke=n(10695),je=o.default.createElement;function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Se=function(e){var t,n,a,r,l,s,u,c,v,g=(0,f.B)().config,d=(0,i.useRuntime)().runtime,m=d.isSuperAdmin,p=o.default.useMemo((function(){var e,t,n;return(null==d||null===(e=d.variables)||void 0===e?void 0:e.bannerImageUrl)||(null==d||null===(t=d.variables)||void 0===t?void 0:t.avatarImageUrl)||(null===(n=d.variables)||void 0===n?void 0:n.roundedImageURL)||"https://static.vecteezy.com/system/resources/previews/005/337/802/non_2x/icon-symbol-chat-outline-illustration-free-vector.jpg"}),[null===(t=d.variables)||void 0===t?void 0:t.roundedImageURL,null==d||null===(n=d.variables)||void 0===n?void 0:n.avatarImageUrl,null==d||null===(a=d.variables)||void 0===a?void 0:a.bannerImageUrl,null===(r=d.variables)||void 0===r?void 0:r.theme]);return je(x.Z,{className:" vg-flex vg-flex-col vg-justify-center vg-items-center vg-gap-2 vg-w-[80%] vg-mx-auto vg-chat-header--container",divKey:"chat_top_banner"},m?je(K.Z,{callback:function(t){e.setLocalData((function(e){return Ce(Ce({},e),{},{bannerImageUrl:t.url})}))}},je(L.Z,{classNames:{wrapper:" vg-rounded-full vg-overflow-none "},className:" vg-w-18 vg-h-18 vg-rounded-full vg-object-cover vg-chat-header--image",src:p})):je(L.Z,{classNames:{wrapper:" vg-rounded-full vg-overflow-none "},className:" vg-w-18 vg-h-18 vg-rounded-full vg-object-cover vg-chat-header--image",src:p}),je("div",{className:" vg-text-center vg-chat-header--inner"},je("p",{className:" vg-text-large vg-font-bold vg-chat-header--title"},null===(l=d.variables)||void 0===l?void 0:l.title),null!==(s=d.variables)&&void 0!==s&&s.description?je(b.Z,{to:null==d||null===(u=d.variables)||void 0===u?void 0:u.lang,text:"full-width"===(null==g?void 0:g.render)?null==d||null===(c=d.variables)||void 0===c?void 0:c.description:(0,h.MB)((null===(v=d.variables)||void 0===v?void 0:v.description)||"",350)||"",className:" vg-text-small vg-opacity-80 vg-chat-header--desc"}):null))};var Ie=n(36103),Ze=n(46985),Ee=o.default.createElement;const _e=function(e){var t,n,a,r,s,u,c,v,g=(0,i.useRuntime)(),d=g.runtime,f=(g.handlePushMessage,g.formattedTurnsValue),m=o.default.useState(!1),p=(0,l.Z)(m,2),b=p[0],y=p[1],w=f.length-1,x=o.default.useState(!1),O=(0,l.Z)(x,2),P=O[0],N=O[1];return Ee("div",{id:e.domID,key:e.key,className:" vg-flex vg-flex-col vg-w-72 vg-h-auto vg-object-cover vg-border vg-border-primary-100 vg-rounded-large vg-bg-gradient-to-t vg-from-content2 vg-to-content2 vg-card"},e.imageUrl&&Ee("div",{className:" vg-w-full vg-h-full vg-rounded-large vg-overflow-none vg-relative "},!b&&Ee(Ie.Z,{className:" vg-w-full vg-h-full vg-rounded-large vg-absolute vg-z-[10] vg-top-0 vg-left-0 "}),P?null:Ee(L.Z,{onError:function(){return y(!1),void N(!0)},disableSkeleton:!0,onLoad:function(){return y(!0),void N(!1)},className:" vg-aspect-video vg-w-full vg-h-auto ".concat(b?" vg-object-cover ":" vg-aspect-video vg-w-72 vg-h-full vg-overflow-none vg-rounded-[20px] "," vg-rounded-large vg-card-image"),alt:"Image",src:null!==(t=e.imageUrl)&&void 0!==t&&t.includes("https://")?e.imageUrl:"https://".concat(e.imageUrl)})),Ee("div",{className:" vg-p-0 vg-m-0 vg-card--content"},(e.title||(null===(n=e.description)||void 0===n?void 0:n.text)||0!==(null===(a=e.buttons)||void 0===a?void 0:a.length))&&Ee("div",{className:" ".concat(e.title||null!==(r=e.description)&&void 0!==r&&r.text?" vg-px-4 vg-py-2 ":" vg-pb-3 "," vg-flex vg-flex-col vg-mt-2 vg-card-inner")},(e.title||(null===(s=e.description)||void 0===s?void 0:s.text))&&Ee("div",{className:" vg-flex vg-flex-col vg-gap-1 vg-mb-3 "},null!=e&&e.title?Ee(Ze.Z,{className:" vg-font-bold vg-text-foreground vg-mb-1 vg-leading-[100%] vg-card-title"},e.title):null,null!=e&&null!==(u=e.description)&&void 0!==u&&u.text?Ee(Ze.Z,{className:" vg-text-small vg-opacity-75 vg-text-foreground vg-leading-[135%] vg-truncate-2-lines vg-card-desc"},null!==(c=e.description)&&void 0!==c&&c.text?(0,h.MB)(null===(v=e.description)||void 0===v?void 0:v.text,500):""):null),Ee($.Z,{noAnimation:!0,isDisabled:(null==e||e.turnIndex,d.manualControl),inCard:!0,item:{payload:{buttons:e.buttons}},index:w,messageTurnIndex:e.turnIndex}))))};var Re=n(63750),Me=n(94653),Te=o.default.createElement;const Ve=function(e){var t,n,r,i=o.default.useState(0),s=(0,l.Z)(i,2),u=s[0],c=s[1],v=o.default.useState(!1),g=(0,l.Z)(v,2),d=g[0],f=g[1],p=o.default.useState(!1),b=(0,l.Z)(p,2),h=b[0],y=b[1],w=o.default.useRef(null);return o.default.useEffect((function(){if(d&&fo("carousel_card_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex,"_").concat(u)).then((function(e){e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})),h){var t=setTimeout((function(){y(!1)}),1e3);return function(){clearTimeout(t)}}}),[u]),0!==(null==e||null===(t=e.cards)||void 0===t?void 0:t.length)?Te("div",{key:"carousel_container_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex),onScroll:function(t){f(!0),function(t){var n=t.target.scrollLeftMax||t.target.scrollWidth-t.target.clientWidth;if(!h&&d){var a,r;if(0===t.target.scrollLeft)return c(0);if(t.target.scrollLeft===n)return c((null===(r=e.cards)||void 0===r?void 0:r.length)-1);var l=Math.floor(t.target.scrollLeft*(null===(a=e.cards)||void 0===a?void 0:a.length)/n);c((function(t){var n;return"number"==typeof l&&l<=(null===(n=e.cards)||void 0===n?void 0:n.length)-1&&l>=0?l:t}))}}(t)},ref:w,className:" vg-overflow-x-auto vg-flex vg-flex-row vg-overflow-y-hidden vg-h-auto vg-container-snap vg-mt-2 vg-carousel-container"},Te("div",{className:" vg-absolute vg-top-1/2 vg-transform vg--translate-y-1/2 vg-z-20 vg-left-5 vg-w-auto vg-carousel-back-control"},Te(P.M,null,0!==u&&d&&Te(x.Z,{key:"carousel__controls_turn_".concat(e.turnIndex,"_decrement")},Te(m.Z,{onPress:function(){y(!0),c((function(e){return 0===u||isNaN(e-1)?0:e-1}))},isIconOnly:!0,className:" vg-rounded-full vg-bg-content2 vg-border vg-shadow "},Te(Re.M_S,{className:" vg-w-4 vg-h-4 vg-opacity-80 "}))))),Te("div",{className:" vg-absolute vg-top-1/2 vg-transform vg--translate-y-1/2 vg-right-5 vg-w-fit vg-z-20 vg-carousel-next-control"},Te(P.M,null,u!==(null==e||null===(n=e.cards)||void 0===n?void 0:n.length)-1&&Te(x.Z,{key:"carousel__controls_turn_".concat(e.turnIndex,"_increment")},Te(m.Z,{onPress:function(){f(!0),y(!0),c((function(t){var n,a;return u===(null===(n=e.cards)||void 0===n?void 0:n.length)-1||isNaN(t+1)?(null===(a=e.cards)||void 0===a?void 0:a.length)-1:t+1}))},isIconOnly:!0,className:" vg-rounded-full vg-bg-content2 vg-border vg-shadow "},Te(Re.E8f,{className:" vg-w-4 vg-h-4 vg-opacity-80 "}))))),Te("div",{className:" vg-flex vg-h-full vg-gap-4 vg-pr-4 vg-relative vg-carousel-container"},Te("div",{className:" vg-ml-4 vg-md:ml-6 vg-message-avatar-container"},Te(Me.Z,{key:"carousel_chat_avatar_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex)})),null==e||null===(r=e.cards)||void 0===r?void 0:r.map((function(t,n){return Te("div",{className:" vg-w-auto vg-h-auto vg-card-container"},Te(_e,(0,a.Z)({},t,{turnIndex:e.turnIndex,domID:"carousel_card_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex,"_").concat(n),key:"carousel_card_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex,"_").concat(n)})))})),Te("div",{className:" vg-w-5 "}))):null};var Be=n(46271),ze=n(13356),Fe=n(13068),Le=n(73711),Ue=n(71257),Ae=o.default.createElement;function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const He=function(e){var t,n,r,s,u,c,v,g=(0,i.useRuntime)(),d=g.runtime,m=(g.setRuntime,g.pushChatNotice),p=g.confirmedBucket,y=((0,f.B)().config,(0,o.useState)(e.default||null)),x=y[0],O=y[1],P=(0,o.useState)(!1),N=P[0],k=P[1],j=(0,o.useState)(0),D=j[0],C=j[1],S=(0,o.useState)(0),I=S[0],Z=S[1],E=o.default.useState({fileName:!1}),_=(0,l.Z)(E,2),R=_[0],M=_[1],T=(0,Be.cF)(Le.l2,"voiceglow-cdn");o.default.useEffect((function(){return function(){I&&(null==I||I.cancel())}}),[I]);var B=function(){var t=(0,V.Z)(z().mark((function t(n){var a,r,l,o,i,s,u,c,v;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isDisabled){t.next=2;break}return t.abrupt("return");case 2:if(O(!1),e.onStartUpload&&e.onStartUpload(),r=n[0],l=r.size,o=Math.ceil(l/1e6),i="/public",(null===(a=r.name)||void 0===a||null===(a=a.split(".")[1])||void 0===a?void 0:a.toLowerCase())||!1,!e.maxSizeMB){t.next=13;break}if(!(1e6*e.maxSizeMB<l)){t.next=13;break}return m("Max size: ".concat(e.maxSizeMB,"MB"),"fail",2e3),t.abrupt("return");case 13:s=Math.random().toString(36).slice(2,10),u="".concat(i,"/").concat(s,".").concat(r.name.split(".")[1]),c=(0,Be.iH)(T,"".concat(u)),v=(0,Be.B0)(c,r,{cacheControl:"public,max-age=31536000"}),Z(v),v.on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);C(t)}),(function(e){}),(function(){(0,Be.Jt)(c).then(function(){var t=(0,V.Z)(z().mark((function t(n){var a;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.callback&&e.callback({url:n,path:"".concat(i),id:e.id||!1,dbFilePath:u}),O(n),M((function(e){return We(We({},e),{},{fileName:r.name})})),k(!1),C(0),!e.consumeLT){t.next=10;break}return t.next=8,Ue.Z.post("".concat((0,H.Sw)({region:"voiceglow-eu"===p?"eu":"na"}),"/public/users/").concat(null==d||null===(a=d.variables)||void 0===a?void 0:a.ownerID,"/consume-credits"),{consume:o||1});case 8:t.sent.data;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),k(!0);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=(0,ze.uI)({onDrop:B}),L=F.getRootProps,U=F.getInputProps;return F.isDragActive,Ae("div",{className:" vg-w-full vg-h-full vg-mx-auto ".concat(x?" vg-bg-primary-400 ":" vg-bg-primary-50 "," vg-p-2 vg-rounded-lg vg-transition-all vg-duration-500 vg-text-primary-800 ").concat(e.isDisabled&&" vg-opacity-75 "," vg-upload-container")},Ae("div",(0,a.Z)({},L(),{className:" vg-w-full vg-h-full vg-flex-all-center vg-border-dashed vg-border-2 ".concat(x?" vg-border-foreground ":" vg-border-primary-400 "," vg-rounded-lg ").concat(e.className||" "," vg-transition-all vg-duration-500 vg-upload-drop-container")}),Ae("input",U()),x&&!N&&"img"==e.type?Ae("img",{className:" vg-w-32 vg-h-32 vg-upload--img-placeholder",src:x}):!x&&!N&&Ae(w.IEK,{className:" vg-w-12 vg-h-12 vg-upload--icon"}),N?Ae(o.default.Fragment,null,Ae(Fe.Z,{className:" vg-mb-2 vg-upload-spinner",color:"primary"}),Ae("p",{className:" vg-opacity-50 vg-mb-2 vg-text-small vg-text-center vg-leading-5 vg-upload-text"},Ae(b.Z,{to:(null===(t=d.variables)||void 0===t?void 0:t.lang)||"en",text:"Uploading.."})," ",Ae("br",null),Ae(b.Z,{text:"Please Keep This Tab Open",to:(null===(n=d.variables)||void 0===n?void 0:n.lang)||"en"})),Ae("div",{className:" vg-w-[80%] vg-h-5 vg-bg-primary-100 vg-rounded-full vg-overflow-hidden vg-mx-auto vg-upload-loading-container"},Ae("div",{className:" vg-h-full vg-bg-primary-700 vg-relative vg-upload-loading--bar",style:{width:"".concat(D||1,"%")}},Ae("p",{className:" vg-absolute vg-right-1 vg-top-[2px] vg-text-small vg-text-primary-100 vg-upload-loading--text"},"".concat(D||1,"%"))))):Ae(o.default.Fragment,null,x?Ae("div",{className:" vg-text-white "},Ae("div",{className:" vg-mb-1 vg-flex vg-items-center vg-font-medium "},Ae(he.DVR,{className:" vg-w-4 vg-h-4 vg-mr-2 "}),Ae("p",null,Ae(b.Z,{to:(null===(r=d.variables)||void 0===r?void 0:r.lang)||"en",text:"Uploaded Successfully"}))),Ae("p",{className:" vg-opacity-75 vg-text-center "},(0,h.MB)(R.fileName,20))):Ae(o.default.Fragment,null,Ae("p",{className:" vg-text-small "},Ae(b.Z,{to:(null===(s=d.variables)||void 0===s?void 0:s.lang)||"en",text:"Drag and Drop Here"})),e.maxSizeMB&&Ae("p",{className:" vg-opacity-75 vg-mb-3 vg-text-small "},Ae(b.Z,{to:(null===(u=d.variables)||void 0===u?void 0:u.lang)||"en",text:"Max Size:"})," ",Ae("strong",null,e.maxSizeMB,"MB")),e.accept?Ae("p",{className:" vg-opacity-75 vg-text-small "},Ae(b.Z,{to:(null===(c=d.variables)||void 0===c?void 0:c.lang)||"en",text:"Only"})," ",e.accept.length?e.accept.map((function(e){return e+" "})):""," ",Ae(b.Z,{to:(null===(v=d.variables)||void 0===v?void 0:v.lang)||"en",text:"Files"})):""))))};var Je=o.default.createElement;function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Xe=function(e){var t=(0,i.useRuntime)(),n=t.runtime,a=t.setRuntime,r=t.handlePushMessage,s=t.clearNoReplyTimeout,u=o.default.useState(!1),c=(0,l.Z)(u,2),v=c[0],g=c[1];return o.default.useEffect((function(){a((function(e){return Ke(Ke({},e),{},{blockInput:!0})}))}),[]),Je("div",{className:" vg-flex vg-flex-col vg-gap-2 vg-w-full vg-bg-transparent vg-message-upload-container"},Je("div",{key:"file_upload_instance_turn".concat(e.turnIndex,"_message").concat(e.messageIndex," vg-message-upload-inner"),className:" vg-w-full vg-h-[175px] "},Je(He,{onStartUpload:function(){s()},consumeLT:!0,isDisabled:v,maxSizeMB:30,path:"vg-widgets/".concat(n.variables.ID,"/user-uploads"),callback:function(e){g(!0),a((function(e){return Ke(Ke({},e),{},{blockInput:!1})})),r("".concat(e.url),{type:"text",payload:"".concat(e.url)})}})),Je(m.Z,{isDisabled:v,onPress:function(){g(!0),a((function(e){return Ke(Ke({},e),{},{blockInput:!1})})),r("VG_Cancel",{type:"text",payload:"VG_Cancel"})},className:" vg-py-2 vg-w-full ",color:"danger"},"Cancel"))};var Qe=o.default.createElement;const Ye=function(e){return Qe(x.Z,{key:"chat_timestamb_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex),className:" vg-w-5 vg-h-full vg-flex vg-items-center vg-justify-center vg-mr-1 "},Qe("p",{className:" vg-text-[10px] vg-opacity-50 vg-whitespace-nowrap vg-text-foreground "},e.ts?W().unix(e.ts).format("HH:mm"):W()().format("HH:mm")))};var $e=n(15607),et=n(73699),tt=n(74619),nt=n(87487),at=n(33899),rt=(0,nt.tv)({slots:{base:" vg-group vg-relative vg-max-w-fit vg-inline-flex vg-items-center vg-justify-start vg-cursor-pointer vg-tap-highlight-transparent vg-p-2 vg--m-2 ",wrapper:[" vg-relative "," vg-inline-flex "," vg-items-center "," vg-justify-center "," vg-flex-shrink-0 "," vg-overflow-hidden "," vg-before:content-[''] "," vg-before:absolute "," vg-before:inset-0 "," vg-before:border-solid "," vg-before:border-2 "," vg-before:box-border "," vg-before:border-default "," vg-after:content-[''] "," vg-after:absolute "," vg-after:inset-0 "," vg-after:scale-50 "," vg-after:opacity-0 "," vg-after:origin-center "," vg-group-data-[selected=true]:after:scale-100 "," vg-group-data-[selected=true]:after:opacity-100 "," vg-group-data-[hover=true]:before:bg-default-100 "].concat((0,T.Z)(at.ID)),icon:" vg-z-10 vg-w-4 vg-h-3 vg-opacity-0 vg-group-data-[selected=true]:opacity-100 ",label:" vg-relative vg-text-foreground vg-select-none "},variants:{color:{default:{wrapper:" vg-after:bg-default vg-after:text-default-foreground vg-text-default-foreground "},primary:{wrapper:" vg-after:bg-primary vg-after:text-primary-foreground vg-text-primary-foreground "},secondary:{wrapper:" vg-after:bg-secondary vg-after:text-secondary-foreground vg-text-secondary-foreground "},success:{wrapper:" vg-after:bg-success vg-after:text-success-foreground vg-text-success-foreground "},warning:{wrapper:" vg-after:bg-warning vg-after:text-warning-foreground vg-text-warning-foreground "},danger:{wrapper:" vg-after:bg-danger vg-after:text-danger-foreground vg-text-danger-foreground "}},size:{sm:{wrapper:[" vg-w-4 vg-h-4 vg-mr-2 "," vg-rounded-[calc(theme(borderRadius.medium)*0.5)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.5)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.5)] "],label:" vg-text-small ",icon:" vg-w-3 vg-h-2 "},md:{wrapper:[" vg-w-5 vg-h-5 vg-mr-2 "," vg-rounded-[calc(theme(borderRadius.medium)*0.6)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.6)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.6)] "],label:" vg-text-medium ",icon:" vg-w-4 vg-h-3 "},lg:{wrapper:[" vg-w-6 vg-h-6 vg-mr-2 "," vg-rounded-[calc(theme(borderRadius.medium)*0.7)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.7)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.7)] "],label:" vg-text-large ",icon:" vg-w-5 vg-h-4 "}},radius:{none:{wrapper:" vg-rounded-none vg-before:rounded-none vg-after:rounded-none "},sm:{wrapper:[" vg-rounded-[calc(theme(borderRadius.medium)*0.5)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.5)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.5)] "]},md:{wrapper:[" vg-rounded-[calc(theme(borderRadius.medium)*0.6)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.6)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.6)] "]},lg:{wrapper:[" vg-rounded-[calc(theme(borderRadius.medium)*0.7)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.7)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.7)] "]},full:{wrapper:" vg-rounded-full vg-before:rounded-full vg-after:rounded-full "}},lineThrough:{true:{label:[" vg-inline-flex "," vg-items-center "," vg-justify-center "," vg-before:content-[''] "," vg-before:absolute "," vg-before:bg-foreground "," vg-before:w-0 "," vg-before:h-0.5 "," vg-group-data-[selected=true]:opacity-60 "," vg-group-data-[selected=true]:before:w-full "]}},isDisabled:{true:{base:" vg-opacity-disabled vg-pointer-events-none "}},isInvalid:{true:{wrapper:" vg-before:border-danger ",label:" vg-text-danger "}},disableAnimation:{true:{wrapper:" vg-transition-none ",icon:" vg-transition-none ",label:" vg-transition-none "},false:{wrapper:[" vg-before:transition-colors "," vg-group-data-[pressed=true]:scale-95 "," vg-transition-transform "," vg-after:transition-transform-opacity "," vg-after:!ease-linear "," vg-after:!duration-200 "," vg-motion-reduce:transition-none "],icon:" vg-transition-opacity vg-motion-reduce:transition-none ",label:" vg-transition-colors-opacity vg-before:transition-width vg-motion-reduce:transition-none "}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1,lineThrough:!1,disableAnimation:!1}}),lt=(0,nt.tv)({slots:{base:" vg-relative vg-flex vg-flex-col vg-gap-2 ",label:" vg-relative vg-text-medium vg-text-foreground-500 ",wrapper:" vg-flex vg-flex-col vg-flex-wrap vg-gap-2 vg-data-[orientation=horizontal]:flex-row ",description:" vg-text-small vg-text-foreground-400 ",errorMessage:" vg-text-small vg-text-danger "},variants:{isRequired:{true:{label:" vg-after:content-['*'] vg-after:text-danger vg-after:ml-0.5 "}},isInvalid:{true:{description:" vg-text-danger "}},disableAnimation:{true:{},false:{description:" vg-transition-colors vg-!duration-150 vg-motion-reduce:transition-none "}}},defaultVariants:{isInvalid:!1,isRequired:!1,disableAnimation:!1}}),ot=n(18419),it=n(68552),st=n(2459),ut=n(61476),ct=n(11086),vt=n(33295),gt=n(50262),dt=n(52046),ft=n(54720),mt=n(49869),pt=n(4446),bt=n(69538),ht=n(46347),yt=(0,ht.k)({name:"CheckboxGroupContext",strict:!1}),wt=(0,l.Z)(yt,2),xt=wt[0],Ot=wt[1],Pt=["as","ref","value","children","icon","name","isRequired","isReadOnly","autoFocus","isSelected","validationState","size","color","radius","lineThrough","isDisabled","disableAnimation","isInvalid","isIndeterminate","defaultSelected","classNames","onChange","className","onValueChange"];function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jt=["isSelected","disableAnimation"],Dt=["isSelected","disableAnimation"],Ct=["isIndeterminate"],St=o.default.createElement;function It(e){var t=e.isSelected,n=e.disableAnimation,r=(0,c.Z)(e,jt);return St("svg",(0,a.Z)({"aria-hidden":"true",role:"presentation",viewBox:"0 0 17 18"},r),St("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:t?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,style:!n&&t?{transition:"stroke-dashoffset 250ms linear 0.2s"}:{}}))}function Zt(e){e.isSelected,e.disableAnimation;var t=(0,c.Z)(e,Dt);return St("svg",(0,a.Z)({stroke:"currentColor",strokeWidth:3,viewBox:"0 0 24 24"},t),St("line",{x1:"21",x2:"3",y1:"12",y2:"12"}))}function Et(e){var t=e.isIndeterminate,n=(0,c.Z)(e,Ct);return St(t?Zt:It,n)}var _t=o.default.createElement;function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tt=(0,$e.Gp)((function(e,t){var n=function(){var e,t,n,a,r,l,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=Ot(),u=!!s,v=i.as,g=i.ref,d=i.value,f=void 0===d?"":d,m=i.children,p=i.icon,b=i.name,h=i.isRequired,y=void 0!==h&&h,w=i.isReadOnly,x=void 0!==w&&w,O=i.autoFocus,P=void 0!==O&&O,N=i.isSelected,k=i.validationState,j=i.size,D=void 0===j?null!==(e=null==s?void 0:s.size)&&void 0!==e?e:"md":j,C=i.color,S=void 0===C?null!==(t=null==s?void 0:s.color)&&void 0!==t?t:"primary":C,I=i.radius,Z=void 0===I?null==s?void 0:s.radius:I,E=i.lineThrough,_=void 0===E?null!==(n=null==s?void 0:s.lineThrough)&&void 0!==n&&n:E,R=i.isDisabled,M=void 0===R?null!==(a=null==s?void 0:s.isDisabled)&&void 0!==a&&a:R,T=i.disableAnimation,V=void 0===T?null!==(r=null==s?void 0:s.disableAnimation)&&void 0!==r&&r:T,B=i.isInvalid,z=void 0===B?k?"invalid"===k:null!==(l=null==s?void 0:s.isInvalid)&&void 0!==l&&l:B,F=i.isIndeterminate,L=void 0!==F&&F,U=i.defaultSelected,A=i.classNames,G=i.onChange,W=i.className,H=i.onValueChange,J=(0,c.Z)(i,Pt);s&&gt.Ts&&(N&&(0,dt.Z)("The Checkbox.Group is being used, `isSelected` will be ignored. Use the `value` of the Checkbox.Group instead.","Checkbox"),U&&(0,dt.Z)("The Checkbox.Group is being used, `defaultSelected` will be ignored. Use the `defaultValue` of the Checkbox.Group instead.","Checkbox"));var q=v||"label",K=(0,o.useRef)(null),X=(0,vt.rV)(g,K),Q=(0,o.useId)(),Y=(0,o.useMemo)((function(){return{name:b,value:f,children:m,autoFocus:P,defaultSelected:U,isIndeterminate:L,isRequired:y,isInvalid:z,isSelected:N,isDisabled:M,isReadOnly:x,"aria-label":(0,ft.x)(J["aria-label"],m),"aria-labelledby":J["aria-labelledby"]||Q,onChange:H}}),[f,b,Q,m,P,z,L,M,x,N,U,J["aria-label"],J["aria-labelledby"],H]),$=u?(0,pt.a)(kt(kt({},Y),{},{isInvalid:z}),s.groupState,K):(0,bt.O)(Y,(0,tt.l)(Y),K),ee=$.inputProps,te=$.isSelected,ne=$.isDisabled,ae=$.isReadOnly,re=$.isPressed,le=ne||ae,oe=(0,o.useState)(!1),ie=oe[0],se=oe[1],ue=(0,it.r)({isDisabled:le,onPressStart:function(e){"keyboard"!==e.pointerType&&se(!0)},onPressEnd:function(e){"keyboard"!==e.pointerType&&se(!1)}}).pressProps,ce=!le&&(ie||re);y&&(ee.required=!0);var ve=(0,ot.X)({isDisabled:ee.disabled}),ge=ve.hoverProps,de=ve.isHovered,fe=(0,st.F)({autoFocus:ee.autoFocus}),me=fe.focusProps,pe=fe.isFocused,be=fe.isFocusVisible,he=(0,o.useMemo)((function(){return rt({color:S,size:D,radius:Z,isInvalid:z,lineThrough:_,isDisabled:ne,disableAnimation:V})}),[S,D,Z,z,_,ne,V]),ye=(0,mt.W)(null==A?void 0:A.base,W),we=(0,o.useCallback)((function(){return kt({ref:X,className:he.base({class:ye}),"data-disabled":(0,gt.PB)(ne),"data-selected":(0,gt.PB)(te||L),"data-invalid":(0,gt.PB)(z),"data-hover":(0,gt.PB)(de),"data-focus":(0,gt.PB)(pe),"data-pressed":(0,gt.PB)(ce),"data-readonly":(0,gt.PB)(ee.readOnly),"data-focus-visible":(0,gt.PB)(be),"data-indeterminate":(0,gt.PB)(L)},(0,ut.d)(ge,ue,J))}),[he,ye,ne,te,L,z,de,pe,ce,ee.readOnly,be,ge,ue,J]),xe=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kt(kt({},e),{},{"aria-hidden":!0,className:(0,mt.W)(he.wrapper({class:(0,mt.W)(null==A?void 0:A.wrapper,null==e?void 0:e.className)}))})}),[he,null==A?void 0:A.wrapper]),Oe=(0,o.useCallback)((function(){return kt(kt({ref:K},(0,ut.d)(ee,me)),{},{onChange:(0,ct.t)(ee.onChange,G)})}),[ee,me,G]),Pe=(0,o.useCallback)((function(){return{id:Q,className:he.label({class:null==A?void 0:A.label})}}),[he,null==A?void 0:A.label,ne,te,z]),Ne=(0,o.useCallback)((function(){return{isSelected:te,isIndeterminate:!!L,disableAnimation:!!V,className:he.icon({class:null==A?void 0:A.icon})}}),[he,null==A?void 0:A.icon,te,L,V]);return{Component:q,icon:p,children:m,isSelected:te,isDisabled:ne,isInvalid:z,isFocused:pe,isHovered:de,isFocusVisible:be,getBaseProps:we,getWrapperProps:xe,getInputProps:Oe,getLabelProps:Pe,getIconProps:Ne}}(Mt(Mt({},e),{},{ref:t})),a=n.Component,r=n.children,l=n.icon,i=void 0===l?_t(Et,null):l,s=n.getBaseProps,u=n.getWrapperProps,v=n.getInputProps,g=n.getIconProps,d=n.getLabelProps,f="function"==typeof i?i(g()):(0,o.cloneElement)(i,g());return _t(a,s(),_t(et.T,null,_t("input",v())),_t("span",u(),f),r&&_t("span",d(),r))}));Tt.displayName="NextUI.Checkbox";const Vt=Tt;var Bt=o.default.createElement;function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Lt=function(e){var t,n,a,r,s=(0,i.useRuntime)(),u=s.runtime,c=s.setRuntime,v=s.handlePushMessage,g=s.pushChatNotice,d=s.formattedTurnsValue,f=o.default.useState([]),p=(0,l.Z)(f,2),y=p[0],w=p[1],x=o.default.useState(!1),O=(0,l.Z)(x,2),P=O[0],N=O[1],k=d.length-1,j=e.buttons[e.buttons.length-1],D=Number((null==j||null===(t=j.name)||void 0===t||null===(t=t.split(":"))||void 0===t?void 0:t.length)>=2?null==j||null===(n=j.name)||void 0===n||null===(n=n.split(":")[1])||void 0===n?void 0:n.replace(/[^0-9.]/g,""):99),C=e.buttons.slice(0,e.buttons.length-1).filter((function(e){return"0"!=e.name&&e.name&&"VG_Block"!==e.name})),S=y.length?JSON.stringify({maskAs:{from:"human",type:"info:success",item:"Successfully Selected",delay:0},origin:"VG_Response",type:"VG_MultiSelect",selected:C.flatMap((function(e,t){return y.includes(t)?e.name:[]}))}):"VG_Cancel";return o.default.useEffect((function(){e.buttons.find((function(e){return"VG_Block"===e.name}))?c((function(t){return Ft(Ft({},t),{},{blockInput:!(k>e.turnIndex)})})):c((function(e){return Ft(Ft({},e),{},{blockInput:!1})}))}),[]),Bt("div",{className:" vg-w-full vg-flex vg-flex-col vg-gap-4 vg-multiselect-container",key:"VG_MultiSelect_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex)},Bt("div",{className:" vg-grid vg-grid-cols-2 vg-gap-3 vg-w-full vg-multiselect-options-container"},C.map((function(t,n){return Bt(Vt,{className:" vg-w-full vg-flex ".concat(t.name.length>=15?" vg-col-span-2 ":" vg-col-span-1 "," vg-multiselect-option"),classNames:{base:" vg-w-full vg-inline vg-multiselect-option--base",label:" vg-w-full vg-p-1 vg-px-3 vg-rounded-large vg-text-left vg-word-wrap ".concat(y.includes(n)?" vg-bg-primary vg-text-white ":" vg-bg-primary-50 vg-hover:bg-primary-100 "," vg-multiselect-option--label")},isSelected:y.includes(n),onValueChange:function(){var e=(0,V.Z)(z().mark((function e(t){var a;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return e.next=3,(0,h.cG)({translateTo:u.lang,text:"Maximum selection is ".concat(D," items.")});case 3:if(a=e.sent,!(D<y.length+1)){e.next=6;break}return e.abrupt("return",g(a,"fail",2500));case 6:w((function(e){return[].concat((0,T.Z)(e),[n]).sort((function(e,t){return e-t}))})),e.next=10;break;case 9:w((function(e){return(0,T.Z)(e.filter((function(e){return e!==n})))}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),key:"VG_MultiSelect_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex,"_index_").concat(n),color:"primary"},Bt("p",{className:" vg-w-full vg-multiselect-option--text"},t.name))}))),Bt("div",{className:" vg-grid vg-grid-cols-3 vg-gap-3 vg-col-span-full vg-w-full vg-multiselect-btns-container"},Bt(m.Z,{isDisabled:P||k!==e.turnIndex,variant:"ghost",color:"primary",className:" vg-w-full vg-col-span-2 vg-bg-primary-50 vg-multiselect-submit-btn",onPress:(0,V.Z)(z().mark((function e(){var t;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),c((function(e){return Ft(Ft({},e),{},{blockInput:!1})})),e.next=4,(0,h.cG)({translateTo:u.lang,text:"Successfully Selected"});case 4:t=e.sent,v(j.name,j.request,null,{from:"human",messages:[{from:"human",type:"info:success",item:t,delay:0}],ts:W()().unix()}).then((function(){setTimeout((0,V.Z)(z().mark((function e(){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(S,{type:"text",payload:S},null,{from:"human",messages:[{from:"human",type:"info:success",item:t,delay:0}],ts:W()().unix()},!0);case 2:case"end":return e.stop()}}),e)}))),1500)}));case 6:case"end":return e.stop()}}),e)})))},Bt(b.Z,{to:null===(a=u.variables)||void 0===a?void 0:a.lang,text:"Select"})),Bt(m.Z,{isDisabled:P||k!==e.turnIndex,variant:"faded",color:"danger",className:" vg-w-full vg-col-span-1 vg-multiselect-cancel-btn",onPress:(0,V.Z)(z().mark((function e(){var t;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),c((function(e){return Ft(Ft({},e),{},{blockInput:!1})})),e.next=4,(0,h.cG)({translateTo:u.lang,text:"Cancelled Selection"});case 4:return t=e.sent,e.next=7,v(j.name,j.request,null,{from:"human",messages:[{from:"human",type:"info:danger",item:t,delay:0}],ts:W()().unix()});case 7:setTimeout((0,V.Z)(z().mark((function e(){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(S,{type:"text",payload:"VG_Cancel"},null,{from:"human",messages:[{from:"human",type:"info:danger",item:t,delay:0}],ts:W()().unix()},!0);case 2:case"end":return e.stop()}}),e)}))),500);case 8:case"end":return e.stop()}}),e)})))},Bt(b.Z,{to:null===(r=u.variables)||void 0===r?void 0:r.lang,text:"Cancel"}))))};var Ut=n(83260),At=n(25935),Gt=o.default.createElement;function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Jt=function(e){var t,n,a,r,i,s,u,c,v=o.default.useRef(null),g=null!=e&&null!==(t=e.itemData)&&void 0!==t&&null!==(t=t.payload)&&void 0!==t&&t.url?null==e||null===(n=e.itemData)||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.url:null!=e&&null!==(a=e.itemData)&&void 0!==a&&null!==(a=a.payload)&&void 0!==a&&a.url?"":null!=e&&e.hardLink||null!=e&&null!==(r=e.itemData)&&void 0!==r&&r.payload?null!==(i=(null==e?void 0:e.hardLink)||(null==e||null===(s=e.itemData)||void 0===s?void 0:s.payload)||"")&&void 0!==i&&i.includes("https://")?(null==e?void 0:e.hardLink)||(null==e||null===(u=e.itemData)||void 0===u?void 0:u.payload):"https://"+((null==e?void 0:e.hardLink)||(null==e||null===(c=e.itemData)||void 0===c?void 0:c.payload)):"",d=o.default.useState(!e.iFrame),f=(0,l.Z)(d,2),m=f[0],p=f[1],b=(0,o.useState)({url:g,height:"55dvh"}),h=b[0],y=b[1],w=o.default.useMemo((function(){try{var t,n;return null!=e&&null!==(t=e.itemData)&&void 0!==t&&null!==(t=t.payload)&&void 0!==t&&t.height&&y((function(t){var n;return Ht(Ht({},t),{},{height:null==e||null===(n=e.itemData)||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.height})})),null!=e&&null!==(n=e.itemData)&&void 0!==n&&null!==(n=n.payload)&&void 0!==n&&n.url&&y((function(t){var n;return Ht(Ht({},t),{},{url:null==e||null===(n=e.itemData)||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.url})})),!0}catch(e){return!1}}),[e.websiteUrl]);return Gt(Ie.Z,{className:" vg-rounded-xl vg-overflow-x-auto vg-!w-fit vg-h-auto ".concat((e.iFrame," ")," vg-iframe--container"),isLoaded:!m},g.includes("<iframe")&&g.includes("</iframe>")?(0,At.ZP)(g):Gt("iframe",{allowFullScreen:!0,style:{height:e.iFrame?"100%":e.iframeOptions?e.iframeOptions.height:"55vh"},ref:v,onLoad:function(){p(!1)},src:w?h.url:g,className:" vg-w-full vg-overflow-auto vg-relative ".concat(e.iFrame?" vg-aspect-video ":" "," vg-iframe"),width:"100%",height:"100%"}))};var qt=n(30168),Kt=n(32973),Xt=n(61491),Qt=n(37773),Yt=n(87474),$t=["as","ref","classNames","children","label","radius","value","name","defaultValue","size","color","orientation","lineThrough","isDisabled","disableAnimation","validationState","isInvalid","isReadOnly","isRequired","onValueChange","description","errorMessage","className"];function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nn=o.default.createElement;function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ln=(0,$e.Gp)((function(e,t){var n=function(e){var t=e.as,n=e.ref,a=e.classNames,r=e.children,l=e.label,i=e.radius,s=e.value,u=e.name,v=e.defaultValue,g=e.size,d=void 0===g?"md":g,f=e.color,m=void 0===f?"primary":f,p=e.orientation,b=void 0===p?"vertical":p,h=e.lineThrough,y=void 0!==h&&h,w=e.isDisabled,x=void 0!==w&&w,O=e.disableAnimation,P=void 0!==O&&O,N=e.validationState,k=e.isInvalid,j=void 0===k?"invalid"===N:k,D=e.isReadOnly,C=e.isRequired,S=e.onValueChange,I=e.description,Z=e.errorMessage,E=e.className,_=(0,c.Z)(e,$t),R=t||"div",M=(0,vt.gy)(n),T=(0,o.useMemo)((function(){return tn({value:s,name:u,"aria-label":(0,ft.x)(_["aria-label"],l),defaultValue:v,isRequired:C,isInvalid:j,isReadOnly:D,orientation:b,onChange:S},_)}),[s,u,l,v,C,D,j,b,S,_["aria-label"],_]),V=(0,Yt.$)(T),B=(0,Qt.u)(T,V),z=B.labelProps,F=B.groupProps,L=B.descriptionProps,U=B.errorMessageProps,A=(0,o.useMemo)((function(){return{size:d,color:m,radius:i,lineThrough:y,isInvalid:j,isDisabled:x,disableAnimation:P,groupState:V}}),[d,m,i,y,x,P,j,null==V?void 0:V.value,null==V?void 0:V.isDisabled,null==V?void 0:V.isReadOnly,null==V?void 0:V.isInvalid,null==V?void 0:V.isSelected]),G=(0,o.useMemo)((function(){return lt({isRequired:C,isInvalid:j,disableAnimation:P})}),[C,j,P]),W=(0,mt.W)(null==a?void 0:a.base,E),H=(0,o.useCallback)((function(){return tn({ref:M,className:G.base({class:W})},(0,ut.d)(F,_))}),[G,M,W,F,_]),J=(0,o.useCallback)((function(){return tn({className:G.label({class:null==a?void 0:a.label})},z)}),[G,z,null==a?void 0:a.label]),q=(0,o.useCallback)((function(){return{className:G.wrapper({class:null==a?void 0:a.wrapper}),role:"presentation","data-orientation":b}}),[G,b,null==a?void 0:a.wrapper]),K=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tn(tn(tn({},e),L),{},{className:G.description({class:(0,mt.W)(null==a?void 0:a.description,null==e?void 0:e.className)})})}),[G,L,null==a?void 0:a.description]),X=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tn(tn(tn({},e),U),{},{className:G.errorMessage({class:(0,mt.W)(null==a?void 0:a.errorMessage,null==e?void 0:e.className)})})}),[G,U,null==a?void 0:a.errorMessage]);return{Component:R,children:r,label:l,context:A,description:I,errorMessage:Z,getGroupProps:H,getLabelProps:J,getWrapperProps:q,getDescriptionProps:K,getErrorMessageProps:X}}(rn(rn({},e),{},{ref:t})),a=n.children,r=n.context,l=n.label,i=n.description,s=n.errorMessage,u=n.getGroupProps,v=n.getLabelProps,g=n.getWrapperProps,d=n.getDescriptionProps,f=n.getErrorMessageProps;return nn("div",u(),l&&nn("span",v(),l),nn("div",g(),nn(xt,{value:r},a)),s?nn("div",f(),s):i?nn("div",d(),i):null)}));ln.displayName="NextUI.CheckboxGroup";const on=ln;var sn,un,cn=n(49660),vn=o.default.createElement;Kt.ZP.div(sn||(sn=(0,qt.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),Kt.ZP.div(un||(un=(0,qt.Z)(["\n"])));function gn(e){var t=e.id,n=e.setIntData,a=(e.intData,(0,Xt.xB)(t)),r=a.options,l=a.customOption,i=(0,o.useState)([]),s=i[0],u=i[1],c=(0,o.useState)(!1),v=c[0],g=(c[1],(0,o.useState)("")),d=g[0],f=g[1];return o.default.useEffect((function(){n((function(e){var n=e,a=s.map((function(e){return"Other"===e?d:e}));return n[t]=a,n}))}),[s,d]),vn(on,{onValueChange:function(e){u(e)},value:s},r.map((function(e){return vn(Vt,{id:e.id,key:e.id,value:e.label},e.label)})),l&&vn(o.default.Fragment,null,vn(Vt,{id:t,key:t,value:"Other",isSelected:v},"Other"),vn(cn.Z,{classNames:{input:" vg-font-bold "},variant:"bordered",onValueChange:function(e){f(e)},value:d,size:"sm"})))}var dn=(0,ht.k)({name:"RadioGroupContext",strict:!1}),fn=(0,l.Z)(dn,2),mn=fn[0],pn=fn[1],bn=(0,nt.tv)({slots:{base:" vg-group vg-relative vg-max-w-fit vg-inline-flex vg-items-center vg-justify-start vg-cursor-pointer vg-tap-highlight-transparent vg-p-2 vg--m-2 ",wrapper:[" vg-relative "," vg-inline-flex "," vg-items-center "," vg-justify-center "," vg-flex-shrink-0 "," vg-overflow-hidden "," vg-border-solid "," vg-border-medium "," vg-box-border "," vg-border-default "," vg-rounded-full "," vg-group-data-[hover-unselected=true]:bg-default-100 "].concat((0,T.Z)(at.ID)),labelWrapper:" vg-flex vg-flex-col vg-ml-1 ",control:[" vg-z-10 "," vg-w-2 "," vg-h-2 "," vg-opacity-0 "," vg-scale-0 "," vg-origin-center "," vg-rounded-full "," vg-group-data-[selected=true]:opacity-100 "," vg-group-data-[selected=true]:scale-100 "],label:" vg-relative vg-text-foreground vg-select-none ",description:" vg-relative vg-text-foreground-400 "},variants:{color:{default:{control:" vg-bg-default-500 vg-text-default-foreground ",wrapper:" vg-group-data-[selected=true]:border-default-500 "},primary:{control:" vg-bg-primary vg-text-primary-foreground ",wrapper:" vg-group-data-[selected=true]:border-primary "},secondary:{control:" vg-bg-secondary vg-text-secondary-foreground ",wrapper:" vg-group-data-[selected=true]:border-secondary "},success:{control:" vg-bg-success vg-text-success-foreground ",wrapper:" vg-group-data-[selected=true]:border-success "},warning:{control:" vg-bg-warning vg-text-warning-foreground ",wrapper:" vg-group-data-[selected=true]:border-warning "},danger:{control:" vg-bg-danger vg-text-danger-foreground ",wrapper:" vg-group-data-[selected=true]:border-danger "}},size:{sm:{wrapper:" vg-w-4 vg-h-4 ",control:" vg-w-1.5 vg-h-1.5 ",labelWrapper:" vg-ml-1 ",label:" vg-text-small ",description:" vg-text-tiny "},md:{wrapper:" vg-w-5 vg-h-5 ",control:" vg-w-2 vg-h-2 ",labelWrapper:" vg-ml-2 ",label:" vg-text-medium ",description:" vg-text-small "},lg:{wrapper:" vg-w-6 vg-h-6 ",control:" vg-w-2.5 vg-h-2.5 ",labelWrapper:" vg-ml-2 ",label:" vg-text-large ",description:" vg-text-medium "}},isDisabled:{true:{base:" vg-opacity-disabled vg-pointer-events-none "}},isInvalid:{true:{control:" vg-bg-danger vg-text-danger-foreground ",wrapper:" vg-border-danger vg-group-data-[selected=true]:border-danger ",label:" vg-text-danger ",description:" vg-text-danger-300 "}},disableAnimation:{true:{},false:{wrapper:[" vg-group-data-[pressed=true]:scale-95 "," vg-transition-transform-colors "," vg-motion-reduce:transition-none "],control:" vg-transition-transform-opacity vg-motion-reduce:transition-none ",label:" vg-transition-colors vg-motion-reduce:transition-none ",description:" vg-transition-colors vg-motion-reduce:transition-none "}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1,isInvalid:!1,disableAnimation:!1}}),hn=(0,nt.tv)({slots:{base:" vg-relative vg-flex vg-flex-col vg-gap-2 ",label:" vg-relative vg-text-foreground-500 ",wrapper:" vg-flex vg-flex-col vg-flex-wrap vg-gap-2 vg-data-[orientation=horizontal]:flex-row ",description:" vg-text-tiny vg-text-foreground-400 ",errorMessage:" vg-text-tiny vg-text-danger "},variants:{isRequired:{true:{label:" vg-after:content-['*'] vg-after:text-danger vg-after:ml-0.5 "}},isInvalid:{true:{description:" vg-text-danger "}},disableAnimation:{true:{},false:{description:" vg-transition-colors vg-!duration-150 vg-motion-reduce:transition-none "}}},defaultVariants:{isInvalid:!1,isRequired:!1,disableAnimation:!1}}),yn=n(10888),wn=n(90277),xn=["as","ref","classNames","children","label","value","name","size","color","isDisabled","disableAnimation","orientation","isRequired","validationState","isInvalid","isReadOnly","errorMessage","description","className","onChange","onValueChange"];function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nn=o.default.createElement;function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dn=(0,$e.Gp)((function(e,t){var n=function(e){var t=e.as,n=e.ref,a=e.classNames,r=e.children,l=e.label,i=e.value,s=e.name,u=e.size,v=void 0===u?"md":u,g=e.color,d=void 0===g?"primary":g,f=e.isDisabled,m=void 0!==f&&f,p=e.disableAnimation,b=void 0!==p&&p,h=e.orientation,y=void 0===h?"vertical":h,w=e.isRequired,x=void 0!==w&&w,O=e.validationState,P=e.isInvalid,N=void 0===P?"invalid"===O:P,k=e.isReadOnly,j=e.errorMessage,D=e.description,C=e.className,S=e.onChange,I=e.onValueChange,Z=(0,c.Z)(e,xn),E=t||"div",_=(0,vt.gy)(n),R=(0,o.useMemo)((function(){return Pn(Pn({},Z),{},{value:i,name:s,"aria-label":(0,ft.x)(Z["aria-label"],l),isRequired:x,isReadOnly:k,isInvalid:N,orientation:y,onChange:I})}),[Z,i,s,l,x,k,N,y,I]),M=(0,yn.w)(R),T=(0,wn.a)(R,M),V=T.labelProps,B=T.radioGroupProps,z=T.errorMessageProps,F=T.descriptionProps,L=(0,o.useMemo)((function(){return{size:v,color:d,groupState:M,isRequired:x,isInvalid:N,isDisabled:m,disableAnimation:b,onChange:S}}),[v,d,x,m,N,S,b,M.name,null==M?void 0:M.isDisabled,null==M?void 0:M.isReadOnly,null==M?void 0:M.isRequired,null==M?void 0:M.selectedValue,null==M?void 0:M.lastFocusedValue]),U=(0,o.useMemo)((function(){return hn({isRequired:x,isInvalid:N,disableAnimation:b})}),[N,x,b]),A=(0,mt.W)(null==a?void 0:a.base,C),G=(0,o.useCallback)((function(){return Pn({ref:_,className:U.base({class:A})},(0,ut.d)(B,Z))}),[_,U,A,B,Z]),W=(0,o.useCallback)((function(){return Pn({className:U.label({class:null==a?void 0:a.label})},V)}),[U,null==a?void 0:a.label,V,null==a?void 0:a.label]),H=(0,o.useCallback)((function(){return{className:U.wrapper({class:null==a?void 0:a.wrapper}),role:"presentation","data-orientation":y}}),[U,null==a?void 0:a.wrapper,y,U.wrapper]),J=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Pn(Pn(Pn({},e),F),{},{className:U.description({class:(0,mt.W)(null==a?void 0:a.description,null==e?void 0:e.className)})})}),[U,null==a?void 0:a.description,F,U.description]),q=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Pn(Pn(Pn({},e),z),{},{className:U.errorMessage({class:(0,mt.W)(null==a?void 0:a.errorMessage,null==e?void 0:e.className)})})}),[U,null==a?void 0:a.errorMessage,z]);return{Component:E,children:r,label:l,context:L,errorMessage:j,description:D,getGroupProps:G,getLabelProps:W,getWrapperProps:H,getDescriptionProps:J,getErrorMessageProps:q}}(jn(jn({},e),{},{ref:t})),a=n.Component,r=n.children,l=n.label,i=n.context,s=n.description,u=n.errorMessage,v=n.getGroupProps,g=n.getLabelProps,d=n.getWrapperProps,f=n.getDescriptionProps,m=n.getErrorMessageProps;return Nn(a,v(),l&&Nn("span",g(),l),Nn("div",d(),Nn(mn,{value:i},r)),u?Nn("div",m(),u):s?Nn("div",f(),s):null)}));Dn.displayName="NextUI.RadioGroup";const Cn=Dn;var Sn=n(7572),In=["as","ref","classNames","id","value","children","description","size","color","isDisabled","disableAnimation","onChange","autoFocus","className"];function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _n=o.default.createElement;function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tn=(0,$e.Gp)((function(e,t){var n=function(e){var t,n,a,r,l=pn(),i=e.as,s=e.ref,u=e.classNames,v=e.id,g=e.value,d=e.children,f=e.description,m=e.size,p=void 0===m?null!==(t=null==l?void 0:l.size)&&void 0!==t?t:"md":m,b=e.color,h=void 0===b?null!==(n=null==l?void 0:l.color)&&void 0!==n?n:"primary":b,y=e.isDisabled,w=void 0===y?null!==(a=null==l?void 0:l.isDisabled)&&void 0!==a&&a:y,x=e.disableAnimation,O=void 0===x?null!==(r=null==l?void 0:l.disableAnimation)&&void 0!==r&&r:x,P=e.onChange,N=void 0===P?null==l?void 0:l.onChange:P,k=e.autoFocus,j=void 0!==k&&k,D=e.className,C=(0,c.Z)(e,In);l&&gt.Ts&&("checked"in C&&(0,dt.Z)('Remove props "checked" if in the Radio.Group.',"Radio"),void 0===g&&(0,dt.Z)('Props "value" must be defined if in the Radio.Group.',"Radio"));var S=i||"label",I=(0,vt.gy)(s),Z=(0,o.useRef)(null),E=(0,o.useId)(),_=(0,o.useMemo)((function(){var e;return null!==(e=l.isRequired)&&void 0!==e&&e}),[l.isRequired]),R=l.isInvalid,M=(0,o.useMemo)((function(){var e=C["aria-label"]||"string"==typeof d?d:void 0,t=C["aria-describedby"]||"string"==typeof f?f:void 0;return{id:v,isRequired:_,isDisabled:w,"aria-label":e,"aria-labelledby":C["aria-labelledby"]||E,"aria-describedby":t}}),[E,v,w,_]),T=(0,Sn.x)(En(En({value:g,children:d},l),M),l.groupState,Z),V=T.inputProps,B=T.isDisabled,z=T.isSelected,F=T.isPressed,L=(0,st.F)({autoFocus:j}),U=L.focusProps,A=L.isFocused,G=L.isFocusVisible,W=B||V.readOnly,H=(0,o.useState)(!1),J=H[0],q=H[1],K=(0,it.r)({isDisabled:W,onPressStart:function(e){"keyboard"!==e.pointerType&&q(!0)},onPressEnd:function(e){"keyboard"!==e.pointerType&&q(!1)}}).pressProps,X=(0,ot.X)({isDisabled:W}),Q=X.hoverProps,Y=X.isHovered,$=!W&&(J||F),ee=(0,o.useMemo)((function(){return bn({color:h,size:p,isInvalid:R,isDisabled:B,disableAnimation:O})}),[h,p,B,R,O]),te=(0,mt.W)(null==u?void 0:u.base,D),ne=(0,o.useCallback)((function(){return En(En({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{ref:I,className:ee.base({class:te}),"data-disabled":(0,gt.PB)(B),"data-focus":(0,gt.PB)(A),"data-focus-visible":(0,gt.PB)(G),"data-selected":(0,gt.PB)(z),"data-invalid":(0,gt.PB)(R),"data-hover":(0,gt.PB)(Y),"data-pressed":(0,gt.PB)($),"data-hover-unselected":(0,gt.PB)(Y&&!z),"data-readonly":(0,gt.PB)(V.readOnly),"aria-required":(0,gt.PB)(_)},(0,ut.d)(Q,K,C))}),[ee,te,I,B,A,G,z,R,Y,$,V.readOnly,_,C]),ae=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return En(En({},e),{},{"aria-hidden":!0,className:(0,mt.W)(ee.wrapper({class:(0,mt.W)(null==u?void 0:u.wrapper,e.className)}))})}),[ee,null==u?void 0:u.wrapper]),re=(0,o.useCallback)((function(){return En(En(En({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{ref:Z,required:_},(0,ut.d)(V,U)),{},{onChange:(0,ct.t)(V.onChange,N)})}),[V,U,_,N]),le=(0,o.useCallback)((function(){return En(En({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{id:E,className:ee.label({class:null==u?void 0:u.label})})}),[ee,null==u?void 0:u.label,B,z,R]),oe=(0,o.useCallback)((function(){return En(En({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{className:ee.labelWrapper({class:null==u?void 0:u.labelWrapper})})}),[ee,null==u?void 0:u.labelWrapper]),ie=(0,o.useCallback)((function(){return En(En({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{className:ee.control({class:null==u?void 0:u.control})})}),[ee,null==u?void 0:u.control]);return{Component:S,children:d,slots:ee,classNames:u,description:f,isSelected:z,isDisabled:B,isInvalid:R,isFocusVisible:G,getBaseProps:ne,getWrapperProps:ae,getInputProps:re,getLabelProps:le,getLabelWrapperProps:oe,getControlProps:ie}}(Mn(Mn({},e),{},{ref:t})),a=n.Component,r=n.children,l=n.slots,i=n.classNames,s=n.description,u=n.getBaseProps,v=n.getWrapperProps,g=n.getInputProps,d=n.getLabelProps,f=n.getLabelWrapperProps,m=n.getControlProps;return _n(a,u(),_n(et.T,null,_n("input",g())),_n("span",v(),_n("span",m())),_n("div",f(),r&&_n("span",d(),r),s&&_n("span",{className:l.description({class:null==i?void 0:i.description})},s)))}));Tn.displayName="NextUI.Radio";const Vn=Tn;var Bn,zn,Fn,Ln=o.default.createElement,Un=Kt.ZP.div(Bn||(Bn=(0,qt.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),An=(Kt.ZP.div(zn||(zn=(0,qt.Z)(["\n  display: flex;\n\n  & label {\n    margin: 0 10px;\n  }\n"]))),Kt.ZP.span(Fn||(Fn=(0,qt.Z)(["\n  color: red;\n  padding: 10px 0;\n"]))));function Gn(e){var t,n=e.id,a=e.setIntData,r=(e.intData,(0,Xt.Ge)(n)),l=r.options,i=r.customOption,s=r.error,u=(0,o.useState)(""),c=u[0],v=u[1];return Ln(Un,null,(null===(t=l[0])||void 0===t||null===(t=t.label)||void 0===t?void 0:t.toLowerCase())==="VG_FileUpload".toLowerCase()?Ln("div",{className:" vg-w-full vg-h-36 "},Ln(He,{callback:function(e){a((function(t){var a=t,r=e.url;return a[n]=r,a}))},variant:"plain",maxSizeMB:5,consumeLT:!0})):Ln(o.default.Fragment,null,Ln(Cn,null,l.map((function(e){return Ln(Vn,{onChange:function(e){return a((function(t){var a=t;return a[n]=e.target.value,a}))},value:e.label,id:n},e.label)})),i&&Ln(o.default.Fragment,null,Ln(Vn,{onChange:function(e){return a((function(e){var t=e;return t[n]=c,t}))},value:"Other",id:n},Ln(b.Z,null,"Other")),Ln(cn.Z,{classNames:{input:" vg-font-bold "},variant:"bordered",onValueChange:function(e){a((function(t){var a=t;return a[n]=e,a})),v(e)},value:c,size:"sm"}))),Ln(An,null,s&&"This field is required")))}var Wn=o.default.createElement;function Hn(e){var t=e.id,n=e.inputType,r=e.setIntData,i=(e.intData,(0,Xt.Tx)(t).register),s="email"===n?"email":"tel"===n?"phone number":"input",u=(0,o.useState)(!1),c=(u[0],u[1],o.default.useState(!1)),v=(0,l.Z)(c,2),g=(v[0],v[1]),d=o.default.useState(!1),f=(0,l.Z)(d,2),m=f[0],p=f[1],b=o.default.useState(!1),h=(0,l.Z)(b,2),x=h[0],O=h[1],P=o.default.useState(null),N=(0,l.Z)(P,2),k=N[0],j=N[1],D=o.default.useState(""),C=(0,l.Z)(D,2),S=C[0],I=C[1];function Z(e){if(!e)return!0;if("email"===n){return!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}if("tel"===n){return!/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[ 0-9]{3}[-\s\.]?[ 0-9]{4,6}$/im.test(e)}return!1}return o.default.useEffect((function(){if(S){p(!0),clearTimeout(k);var e=setTimeout((0,V.Z)(z().mark((function e(){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(Z(S)),p(!1);case 2:case"end":return e.stop()}}),e)}))),2e3);return j(e),function(){p(!1),clearTimeout(e)}}}),[S]),o.default.useEffect((function(){r&&r((function(e){var n=e,a=S;return n[t]=a,n}))}),[S]),Wn("div",null,Wn(cn.Z,(0,a.Z)({onValueChange:function(e){I(e),g(!0)},errorMessage:x&&"text"!==n&&"Please input a valid ".concat(s,"."),color:"primary",className:" vg-py-0 ",variant:"bordered",type:n,endContent:Wn(o.default.Fragment,null,m&&"text"!==n&&Wn(Fe.Z,{size:"sm"}),!1===x&&S&&!m&&"text"!==n&&Wn(w.KP3,{className:" vg-w-5 vg-h-5 "}),!0===x&&!m&&Wn(y.xg7,{className:" vg-w-5 vg-h-5 "}))},i())))}var Jn,qn,Kn,Xn,Qn=o.default.createElement;function Yn(e){var t=e.id,n=e.inputType,r=(0,Xt.yO)(t).register;return Qn("div",null,Qn(cn.Z,(0,a.Z)({color:"primary",variant:"bordered",type:n},r())))}var $n,ea,ta,na,aa=o.default.createElement,ra=Kt.ZP.div(Jn||(Jn=(0,qt.Z)(["\n  display: table;\n"]))),la=Kt.ZP.header(qn||(qn=(0,qt.Z)(["\n  display: table-row;\n"]))),oa=Kt.ZP.div(Kn||(Kn=(0,qt.Z)(["\n  display: table-row;\n"]))),ia=Kt.ZP.div(Xn||(Xn=(0,qt.Z)(["\n  display: table-cell;\n  padding: 5px;\n"])));function sa(e){var t=e.id,n=e.setIntData,r=(e.intData,(0,Xt.bk)(t)),l=r.columns,o=r.renderGrid;return aa(ra,null,aa(la,null,aa(ia,null),l.map((function(e){return aa(ia,{key:e.label},aa("span",{className:" vg-text-small "},e.label))}))),o((function(e){return aa(oa,{key:e.label},aa(ia,{className:" vg-text-small vg-font-bold vg-leading-5 "},e.label),e.renderColumns((function(t){return aa(ia,{key:t.label},aa("input",(0,a.Z)({type:"radio"},t.registerColumn(),{onChange:function(a){var r=a.target.value;n((function(n){var a=n;return a[t.id]={label:e.label,value:r},a}))}})))})))})))}var ua=o.default.createElement,ca=Kt.ZP.div($n||($n=(0,qt.Z)(["\n  display: table;\n"]))),va=Kt.ZP.header(ea||(ea=(0,qt.Z)(["\n  display: table-row;\n"]))),ga=Kt.ZP.div(ta||(ta=(0,qt.Z)(["\n  display: table-row;\n"]))),da=Kt.ZP.div(na||(na=(0,qt.Z)(["\n  display: table-cell;\n  padding: 5px;\n"])));function fa(e){var t=e.id,n=(0,Xt.ck)(t),r=n.columns,l=n.renderGrid;return ua(ca,{className:" vg-w-full "},ua(va,null,ua(da,null),r.map((function(e){return ua(da,{key:e.label},e.label)}))),l((function(e){return ua(ga,{key:e.label},ua(da,null,e.label),e.renderColumns((function(e){return ua(da,{key:e.label},ua("input",(0,a.Z)({type:"checkbox"},e.registerColumn())))})))})))}var ma=n(47602),pa=n(18266),ba=o.default.createElement;function ha(e){var t=e.id,n=e.setIntData,a=(e.intData,(0,Xt.M$)(t)),r=(a.register,a.options),l=(0,o.useState)(!0),i=l[0],s=l[1];return o.default.useEffect((function(){(0,h.eF)('[data-slot="popover"]').then((function(e){e.setAttribute("id","VG_OVERLAY_CONTAINER"),e.setAttribute("class","vg-render-container")}))}),[i]),ba(ma.Z,{onOpenChange:function(){return s((function(e){return!e}))},variant:"bordered",onChange:function(e){var a=e.target.value;n((function(e){var n=e;return n[t]=a,n}))},id:"VG_OVERLAY_CONTAINER",key:t,label:"Select",placeholder:"Select",defaultSelectedKeys:[],className:" vg-max-w-xs "},r.map((function(e){return ba(pa.R,{key:e.label,value:e.label},e.label)})))}var ya=n(45678),wa=n(75957),xa=n(21657),Oa=n(99696),Pa=["ref","as","state","index","name","trackRef","className","tooltipProps","isVertical","showTooltip","formatOptions","renderThumb"];function Na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Na(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ja=o.default.createElement;function Da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sa=(0,$e.Gp)((function(e,t){var n=function(e){var t=e.ref,n=e.as,a=e.state,r=e.index,l=e.name,i=e.trackRef,s=e.className,u=e.tooltipProps,v=e.isVertical,g=e.showTooltip,d=e.formatOptions,f=e.renderThumb,m=(0,c.Z)(e,Pa),p=n||"div",b=(0,vt.gy)(t),h=(0,o.useRef)(null),y=(0,Oa.U)(d),w=(0,xa.p)(ka({index:r,trackRef:i,inputRef:h,name:l},m),a),x=w.thumbProps,O=w.inputProps,P=w.isDragging,N=w.isFocused,k=(0,ot.X)({isDisabled:a.isDisabled}),j=k.hoverProps,D=k.isHovered,C=(0,st.F)(),S=C.focusProps,I=C.isFocusVisible,Z=(0,it.r)({isDisabled:a.isDisabled}),E=Z.pressProps,_=Z.isPressed;return{Component:p,index:r,showTooltip:g,renderThumb:f,getThumbProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ka(ka({ref:b,"data-slot":"thumb","data-hover":(0,gt.PB)(D),"data-pressed":(0,gt.PB)(_),"data-dragging":(0,gt.PB)(P),"data-focused":(0,gt.PB)(N),"data-focus-visible":(0,gt.PB)(I)},(0,ut.d)(x,E,j,m)),{},{className:s},e)},getTooltipProps:function(){var e=y?y.format(a.values[null!=r?r:0]):a.values[null!=r?r:0];return ka(ka({},u),{},{placement:null!=u&&u.placement?null==u?void 0:u.placement:v?"right":"top",content:null!=u&&u.content?null==u?void 0:u.content:e,updatePositionDeps:[P,D,e],isOpen:void 0!==(null==u?void 0:u.isOpen)?null==u?void 0:u.isOpen:D||P})},getInputProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ka(ka({ref:h},(0,ut.d)(O,S)),e)}}}(Ca(Ca({},e),{},{ref:t})),a=n.Component,r=n.index,l=n.renderThumb,i=n.showTooltip,s=n.getTooltipProps,u=n.getThumbProps,v=n.getInputProps,g=Ca(Ca({},u()),{},{index:r,children:ja(et.T,null,ja("input",v()))}),d=(0,ya.Q)({Component:a,props:g,renderCustom:l});return i?ja(wa.e,s(),d):d}));Sa.displayName="NextUI.SliderThumb";const Ia=Sa;var Za=(0,nt.tv)({slots:{base:" vg-flex vg-flex-col vg-w-full vg-gap-1 ",labelWrapper:" vg-w-full vg-flex vg-justify-between vg-items-center ",label:" ",value:" ",step:[" vg-h-1.5 "," vg-w-1.5 "," vg-absolute "," vg-rounded-full "," vg-bg-default-300/50 "," vg-data-[in-range=true]:bg-background/50 "],mark:[" vg-absolute "," vg-text-small "," vg-cursor-default "," vg-opacity-50 "," vg-data-[in-range=true]:opacity-100 "],trackWrapper:" vg-relative vg-flex vg-gap-2 ",track:[" vg-flex "," vg-w-full "," vg-relative "," vg-rounded-full "," vg-bg-default-300/50 "],filler:" vg-h-full vg-absolute ",thumb:[" vg-flex "," vg-justify-center "," vg-items-center "," vg-before:absolute "," vg-before:w-11 "," vg-before:h-11 "," vg-before:rounded-full "," vg-after:shadow-small "," vg-after:shadow-small "," vg-after:bg-background "," vg-data-[focused=true]:z-10 ",at.Dh],startContent:[],endContent:[]},variants:{size:{sm:{label:" vg-text-small ",value:" vg-text-small ",thumb:" vg-w-5 vg-h-5 vg-after:w-4 vg-after:h-4 ",step:" vg-data-[in-range=false]:bg-default-200 "},md:{thumb:" vg-w-6 vg-h-6 vg-after:w-5 vg-after:h-5 ",label:" vg-text-small ",value:" vg-text-small "},lg:{thumb:" vg-h-7 vg-w-7 vg-after:w-5 vg-after:h-5 ",step:" vg-w-2 vg-h-2 ",label:" vg-text-medium ",value:" vg-text-medium ",mark:" vg-mt-2 "}},radius:{none:{thumb:" vg-rounded-none vg-after:rounded-none "},sm:{thumb:" vg-rounded-[calc(theme(borderRadius.small)/2)] vg-after:rounded-[calc(theme(borderRadius.small)/3)] "},md:{thumb:" vg-rounded-[calc(theme(borderRadius.medium)/2)] vg-after:rounded-[calc(theme(borderRadius.medium)/3)] "},lg:{thumb:" vg-rounded-[calc(theme(borderRadius.large)/1.5)] vg-after:rounded-[calc(theme(borderRadius.large)/2)] "},full:{thumb:" vg-rounded-full vg-after:rounded-full "}},color:{foreground:{filler:" vg-bg-foreground ",thumb:" vg-bg-foreground "},primary:{filler:" vg-bg-primary ",thumb:" vg-bg-primary "},secondary:{filler:" vg-bg-secondary ",thumb:" vg-bg-secondary "},success:{filler:" vg-bg-success ",thumb:" vg-bg-success "},warning:{filler:" vg-bg-warning ",thumb:" vg-bg-warning "},danger:{filler:" vg-bg-danger ",thumb:" vg-bg-danger "}},isVertical:{true:{base:" vg-w-auto vg-h-full vg-flex-col-reverse vg-items-center ",trackWrapper:" vg-flex-col vg-h-full vg-justify-center vg-items-center ",filler:" vg-w-full vg-h-auto ",thumb:" vg-left-1/2 ",track:" vg-h-full vg-border-y-transparent ",labelWrapper:" vg-flex-col vg-justify-center vg-items-center ",step:[" vg-left-1/2 "," vg--translate-x-1/2 "," vg-translate-y-1/2 "],mark:[" vg-left-1/2 "," vg-ml-1 "," vg-translate-x-1/2 "," vg--translate-y-1/2 "]},false:{thumb:" vg-top-1/2 ",trackWrapper:" vg-items-center ",track:" vg-border-x-transparent ",step:[" vg-top-1/2 "," vg--translate-x-1/2 "," vg--translate-y-1/2 "],mark:[" vg-top-1/2 "," vg-mt-1 "," vg--translate-x-1/2 "," vg-translate-y-1/2 "]}},isDisabled:{false:{thumb:[" vg-cursor-grab "," vg-data-[dragging=true]:cursor-grabbing "]},true:{base:" vg-opacity-disabled ",thumb:" vg-cursor-default "}},hasMarks:{true:{base:" vg-mb-5 "},false:{}},showOutline:{true:{thumb:" vg-ring-2 vg-ring-background "},false:{thumb:" vg-ring-transparent vg-border-0 "}},hideValue:{true:{value:" vg-sr-only "}},hideThumb:{true:{thumb:" vg-sr-only ",track:" vg-overflow-hidden vg-cursor-pointer "}},hasSingleThumb:{true:{},false:{}},disableAnimation:{true:{thumb:" vg-data-[dragging=true]:after:scale-100 "},false:{thumb:" vg-after:transition-all vg-motion-reduce:after:transition-none ",mark:" vg-transition-opacity vg-motion-reduce:transition-none "}},disableThumbScale:{true:{},false:{thumb:" vg-data-[dragging=true]:after:scale-80 "}}},compoundVariants:[{size:["sm","md"],showOutline:!1,class:{thumb:" vg-shadow-small "}},{size:"sm",color:" vg-foreground ",class:{step:" vg-data-[in-range=true]:bg-foreground "}},{size:"sm",color:"primary",class:{step:" vg-data-[in-range=true]:bg-primary "}},{size:"sm",color:"secondary",class:{step:" vg-data-[in-range=true]:bg-secondary "}},{size:"sm",color:"success",class:{step:" vg-data-[in-range=true]:bg-success "}},{size:"sm",color:"warning",class:{step:" vg-data-[in-range=true]:bg-warning "}},{size:"sm",color:"danger",class:{step:" vg-data-[in-range=true]:bg-danger "}},{size:"sm",isVertical:!1,class:{track:" vg-h-1 vg-my-[calc((theme(spacing.5)-theme(spacing.1))/2)] vg-data-[thumb-hidden=false]:border-x-[calc(theme(spacing.5)/2)] "}},{size:"md",isVertical:!1,class:{track:" vg-h-3 vg-my-[calc((theme(spacing.6)-theme(spacing.3))/2)] vg-data-[thumb-hidden=false]:border-x-[calc(theme(spacing.6)/2)] "}},{size:"lg",isVertical:!1,class:{track:" vg-h-7 vg-my-[calc((theme(spacing.7)-theme(spacing.5))/2)] vg-data-[thumb-hidden=false]:border-x-[calc(theme(spacing.7)/2)] "}},{size:"sm",isVertical:!0,class:{track:" vg-w-1 vg-mx-[calc((theme(spacing.5)-theme(spacing.1))/2)] vg-data-[thumb-hidden=false]:border-y-[calc(theme(spacing.5)/2)] "}},{size:"md",isVertical:!0,class:{track:" vg-w-3 vg-mx-[calc((theme(spacing.6)-theme(spacing.3))/2)] vg-data-[thumb-hidden=false]:border-y-[calc(theme(spacing.6)/2)] "}},{size:"lg",isVertical:!0,class:{track:" vg-w-7 vg-mx-[calc((theme(spacing.7)-theme(spacing.5))/2)] vg-data-[thumb-hidden=false]:border-y-[calc(theme(spacing.7)/2)] "}},{color:" vg-foreground ",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-foreground "}},{color:"primary",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-primary "}},{color:"secondary",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-secondary "}},{color:"success",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-success "}},{color:"warning",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-warning "}},{color:"danger",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-danger "}},{color:" vg-foreground ",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-foreground "}},{color:"primary",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-primary "}},{color:"secondary",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-secondary "}},{color:"success",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-success "}},{color:"warning",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-warning "}},{color:"danger",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-danger "}}],defaultVariants:{size:"md",color:"primary",radius:"full",hideValue:!1,hideThumb:!1,isDisabled:!1,disableThumbScale:!1,disableAnimation:!1,showOutline:!1}}),Ea=n(55306),_a=n(29339),Ra=n(95156),Ma=n(92319),Ta=["ref","as","name","label","formatOptions","value","maxValue","minValue","step","showSteps","showTooltip","orientation","marks","startContent","endContent","fillOffset","className","classNames","renderThumb","renderLabel","renderValue","onChange","onChangeEnd","getValue","tooltipValueFormatOptions","tooltipProps"];function Va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Va(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var za=o.default.createElement;function Fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ua=(0,$e.Gp)((function(e,t){var n=function(e){var t,n,a=(0,$e.oe)(e,Za.variantKeys),i=(0,l.Z)(a,2),s=i[0],u=i[1],v=s.ref,g=s.as,d=s.name,f=s.label,m=s.formatOptions,p=s.value,b=s.maxValue,h=void 0===b?100:b,y=s.minValue,w=void 0===y?0:y,x=s.step,O=void 0===x?1:x,P=s.showSteps,N=void 0!==P&&P,k=s.showTooltip,j=void 0!==k&&k,D=s.orientation,C=void 0===D?"horizontal":D,S=s.marks,I=void 0===S?[]:S,Z=s.startContent,E=s.endContent,_=s.fillOffset,R=s.className,M=s.classNames,V=s.renderThumb,B=s.renderLabel,z=s.renderValue,F=s.onChange,L=s.onChangeEnd,U=s.getValue,A=s.tooltipValueFormatOptions,G=void 0===A?m:A,W=s.tooltipProps,H=void 0===W?{}:W,J=(0,c.Z)(s,Ta),q=g||"div",K="string"==typeof q,X=(0,vt.gy)(v),Q=(0,o.useRef)(null),Y=(0,Oa.U)(m),$=(0,Ra.j)().direction,ee=(0,o.useCallback)((function(e){return Math.min(Math.max(e,w),h)}),[w,h]),te=(0,o.useMemo)((function(){if(void 0!==p)return Array.isArray(p)?p.map(ee):ee(p)}),[p,ee]),ne=(0,_a.x)(Ba(Ba({},J),{},{value:te,isDisabled:null!==(t=null==e?void 0:e.isDisabled)&&void 0!==t&&t,orientation:C,step:O,minValue:w,maxValue:h,numberFormatter:Y,onChange:F,onChangeEnd:L})),ae=Ba({offset:5,delay:0,size:"sm",showArrow:!0,color:null!=e&&e.color?null==e?void 0:e.color:null===(n=Za.defaultVariants)||void 0===n?void 0:n.color,isDisabled:e.isDisabled},H),re=(0,Ma.o)(e,ne,Q),le=re.groupProps,oe=re.trackProps,ie=re.labelProps,se=re.outputProps,ue=(0,ot.X)({isDisabled:e.isDisabled}),ce=ue.isHovered,ve=ue.hoverProps,ge=(0,mt.W)(null==M?void 0:M.base,R),de="vertical"===C,fe=(null==I?void 0:I.length)>0,me=void 0===_&&1===ne.values.length,pe=(0,o.useMemo)((function(){return Za(Ba(Ba({},u),{},{hasMarks:fe,hasSingleThumb:me,isVertical:de,className:R}))}),[].concat((0,T.Z)(Object.values(u)),[de,me,fe,R])),be=[ne.values.length>1?ne.getThumbPercent(0):void 0!==_?ne.getValuePercent(_):0,ne.getThumbPercent(ne.values.length-1)].sort(),he=(0,l.Z)(be,2),ye=he[0],we=he[1],xe=1===ne.values.length?Y.format(ne.values[0]):Y.formatRange(ne.values[0],ne.values[ne.values.length-1]),Oe=N?Math.floor((h-w)/O)+1:0;return{Component:q,state:ne,value:xe,domRef:X,label:f,steps:Oe,marks:I,startContent:Z,endContent:E,getStepProps:function(e){var t=ne.getValuePercent(e*O+w);return{className:pe.step({class:null==M?void 0:M.step}),"data-slot":"step","data-in-range":t<=we&&t>=ye,style:(0,r.Z)({},de?"bottom":"rtl"===$?"right":"left","".concat(100*t,"%"))}},getBaseProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ba({ref:X,"data-orientation":ne.orientation,"data-slot":"base","data-hover":ce,className:pe.base({class:ge})},(0,ut.d)(le,ve,(0,Ea.z)(J,{enabled:K}),(0,Ea.z)(e)))},getValue:U,renderLabel:B,renderValue:z,getTrackWrapperProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ba({"data-slot":"track-wrapper",className:pe.trackWrapper({class:null==M?void 0:M.trackWrapper})},e)},getLabelWrapperProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ba({className:pe.labelWrapper({class:null==M?void 0:M.labelWrapper}),"data-slot":"labelWrapper"},e)},getLabelProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ba(Ba({"data-slot":"label",className:pe.label({class:null==M?void 0:M.label}),children:f},ie),e)},getValueProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ba(Ba({"data-slot":"value",className:pe.value({class:null==M?void 0:M.value}),children:U&&"function"==typeof U?U(ne.values):xe},se),e)},getTrackProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ba(Ba({ref:Q,"data-slot":"track","data-thumb-hidden":!(null==e||!e.hideThumb),"data-vertical":de,className:pe.track({class:null==M?void 0:M.track})},oe),t)},getFillerProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ba(Ba({"data-slot":"filler",className:pe.filler({class:null==M?void 0:M.filler})},e),{},{style:Ba(Ba({},e.style),{},(0,r.Z)({},de?"bottom":"rtl"===$?"right":"left","".concat(100*ye,"%")),de?{height:"".concat(100*(we-ye),"%")}:{width:"".concat(100*(we-ye),"%")})})},getThumbProps:function(e){return{name:d,index:e,state:ne,trackRef:Q,orientation:C,isVertical:de,tooltipProps:ae,showTooltip:j,renderThumb:V,formatOptions:G,className:pe.thumb({class:null==M?void 0:M.thumb})}},getMarkProps:function(e){var t=ne.getValuePercent(e.value);return{className:pe.mark({class:null==M?void 0:M.mark}),"data-slot":"mark","data-in-range":t<=we&&t>=ye,style:(0,r.Z)({},de?"bottom":"rtl"===$?"right":"left","".concat(100*t,"%"))}},getStartContentProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ba({"data-slot":"startContent",className:pe.startContent({class:null==M?void 0:M.startContent})},e)},getEndContentProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ba({"data-slot":"endContent",className:pe.endContent({class:null==M?void 0:M.endContent})},e)}}}(La(La({},e),{},{ref:t})),i=n.Component,s=n.state,u=n.label,v=n.steps,g=n.marks,d=n.startContent,f=n.endContent,m=n.getStepProps,p=n.getBaseProps,b=n.renderValue,h=n.renderLabel,y=n.getTrackWrapperProps,w=n.getLabelWrapperProps,x=n.getLabelProps,O=n.getValueProps,P=n.getTrackProps,N=n.getFillerProps,k=n.getThumbProps,j=n.getMarkProps,D=n.getStartContentProps,C=n.getEndContentProps;return za(i,p(),u&&za("div",w(),(0,ya.Q)({Component:"label",props:x(),renderCustom:h}),(0,ya.Q)({Component:"output",props:O(),renderCustom:b})),za("div",y(),d&&za("div",D(),d),za("div",P(),za("div",N()),Number.isFinite(v)&&Array.from({length:v},(function(e,t){return za("div",(0,a.Z)({key:t},m(t)))})),s.values.map((function(e,t){return za(Ia,(0,a.Z)({key:t},k(t)))})),(null==g?void 0:g.length)>0&&g.map((function(e,t){return za("div",(0,a.Z)({key:t},j(e)),e.label)}))),f&&za("div",C(),f)))}));Ua.displayName="NextUI.Slider";const Aa=Ua;var Ga,Wa,Ha=o.default.createElement,Ja=Kt.ZP.div(Ga||(Ga=(0,qt.Z)(["\n"]))),qa=Kt.ZP.span(Wa||(Wa=(0,qt.Z)(["\n  color: red;\n"])));function Ka(e){var t=e.id,n=e.setIntData,a=(e.intData,(0,Xt.mP)(t)),r=a.options,l=a.legend,i=a.error;return Ha(o.default.Fragment,null,Ha(Ja,null,Ha(Aa,{onChangeEnd:function(e){n((function(n){var a=n;return a[t]=e,a}))},size:"md",step:1,color:"primary",label:"Value",showSteps:!0,maxValue:r.length,minValue:1,defaultValue:Math.round(r.length/2),className:" vg-max-w-md vg-mb-1 "}),Ha("div",{className:" vg-w-full vg-flex vg-items-center vg-gap-4 vg-justify-between vg-text-tiny vg-font-bold "},Ha("p",null,l.labelFirst),Ha("p",null,l.labelLast))),Ha(qa,null,i&&"This field is required"))}var Xa=o.default.createElement;const Qa=function(e){var t=e.id,n=e.setIntData;e.intData;return Xa(cn.Z,{variant:"bordered",onChange:function(e){var a=e.target.value;n((function(e){var n=e;return n[t]=a,n}))},className:" vg-w-full ",type:"date"})};var Ya,$a,er,tr,nr=o.default.createElement;function ar(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,l=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw l}}}}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ir=Kt.ZP.form(Ya||(Ya=(0,qt.Z)(["\n  margin: 0;\n"]))),sr=Kt.ZP.div($a||($a=(0,qt.Z)(["\n  margin-bottom: 0;\n"]))),ur=Kt.ZP.h3(er||(er=(0,qt.Z)(["\n  margin-bottom: 5px;\n"]))),cr=Kt.ZP.p(tr||(tr=(0,qt.Z)(["\n  font-size: 0.8rem;\n  color: #5c5c5c;\n  margin-top: 0px;\n"]))),vr=function(e){var t=e.form;return o.default.useEffect((function(){var n=t.fields.map((function(e,t){return{label:e.label,id:e.id,index:t}}));e.setFormData(n)}),[]),nr("div",{className:" vg-flex vg-flex-col vg-gap-4 "},t.fields.map((function(t){var n,a,r,l,o,i=t.id,s=null,u=null!=t&&null!==(n=t.label)&&void 0!==n&&n.includes(":")?null==t||null===(a=t.label)||void 0===a?void 0:a.split(":")[1]:"text";switch(t.type){case"CHECKBOX":s=nr(gn,{setIntData:e.setIntData,intData:e.intData,id:i});break;case"RADIO":s=nr(Gn,{setIntData:e.setIntData,intData:e.intData,id:i});break;case"SHORT_ANSWER":s=nr(Hn,{setIntData:e.setIntData,intData:e.intData,inputType:u,id:i});break;case"LONG_ANSWER":s=nr(Yn,{inputType:u,id:i});break;case"RADIO_GRID":s=nr(sa,{setIntData:e.setIntData,intData:e.intData,id:i});break;case"CHECKBOX_GRID":s=nr(fa,{id:i});break;case"DROPDOWN":s=nr(ha,{setIntData:e.setIntData,intData:e.intData,id:i});break;case"LINEAR":s=nr(Ka,{setIntData:e.setIntData,intData:e.intData,id:i});break;case"DATE":s=nr(Qa,{setIntData:e.setIntData,intData:e.intData,id:i})}if(null!=t&&null!==(r=t.label)&&void 0!==r&&r.includes("VG_FileUpload")&&(s=nr("div",{className:" vg-w-full vg-h-36 "},nr(He,{callback:function(t){e.setIntData((function(e){var n=e,a=t.url;return n[i]=a,n}))},variant:"plain",maxSizeMB:10,consumeLT:!0}))),!s)return null;var c=(null!=t&&null!==(l=t.label)&&void 0!==l&&l.includes(":")?null==t||null===(o=t.label)||void 0===o||null===(o=o.split(":")[0])||void 0===o?void 0:o.replaceAll("_"," "):t.label||"").replaceAll("VG_FileUpload","");return nr(sr,{key:i},nr(ur,{className:"vg-message-form--q-label"},nr("p",{className:" vg-text-sm vg-opacity-80 "},c," ",t.required?nr("span",{className:" vg-text-danger-500 vg-font-bold vg-message-form--q-required"},"*"):"")),s,nr(cr,{className:"vg-message-form--q-helper"},t.description))})))};const gr=function(e){var t,n,a=e.form,r=(0,Xt.h1)({form:a}),s=o.default.useState({}),u=(0,l.Z)(s,2),c=u[0],v=u[1],g=o.default.useState({}),d=(0,l.Z)(g,2),f=d[0],p=d[1],y=(0,i.useRuntime)(),w=y.runtime,x=y.handlePushMessage,O=y.pushChatNotice,P=y.setRuntime,N=y.formattedTurnsValue,k=(0,o.useState)(!1),j=k[0],D=k[1],C=(0,o.useState)(!1),S=C[0],I=C[1],Z=(0,o.useRef)(null);o.default.useEffect((function(){var e,t,n=N[(null==N?void 0:N.length)-1];n&&((null==n||null===(e=n.messages)||void 0===e?void 0:e.length)>0&&(a.fields.find((function(e){return e.required}))&&null!=n&&null!==(t=n.messages)&&void 0!==t&&t.find((function(e){return"GoogleForm"===e.type}))?(P((function(e){return or(or({},e),{},{blockInput:!0})})),D(!0)):(P((function(e){return or(or({},e),{},{blockInput:!1})})),D(!1))));return function(){P((function(e){return or(or({},e),{},{blockInput:!1})}))}}),[]);var E=function(){var e=(0,V.Z)(z().mark((function e(t){var n,l,o,i,s,u,v,g,d,m,p,b;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(!0),n=or(or({},t),c),l=a.fields.filter((function(e){var t;return!(null==e||null===(t=e.label)||void 0===t||!t.includes(":"))})),o=ar(l),e.prev=4,s=z().mark((function e(){var t,a,r,l,o;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){return/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[ 0-9]{3}[-\s\.]?[ 0-9]{4,6}$/im.test(e)},t=i.value,"email"!==(a="email"===t.label.split(":")[1]?"email":"tel"===t.label.split(":")[1]?"tel":"text")){e.next=10;break}if(r=n[t.id],/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){e.next=10;break}return I(!1),e.abrupt("return",{v:O("Please input a valid email.","fail",2500)});case 10:if("tel"!==a){e.next=16;break}if(o=n[t.id],l(o)){e.next=16;break}return I(!1),e.abrupt("return",{v:O("Please input a valid phone number.","fail",2500)});case 16:case"end":return e.stop()}}),e)})),o.s();case 7:if((i=o.n()).done){e.next=14;break}return e.delegateYield(s(),"t0",9);case 9:if(!(u=e.t0)){e.next=12;break}return e.abrupt("return",u.v);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(4),o.e(e.t1);case 19:return e.prev=19,o.f(),e.finish(19);case 22:for(v in n)Object.prototype.hasOwnProperty.call(n,v)&&n[v]instanceof Array&&!n[v].length&&delete n[v];return e.next=25,r.submitToGoogleForms(n);case 25:if(g=Object.keys(n),d=g.map((function(e,t){var a,r;return{index:null===(a=f.find((function(t){return t.id===e})))||void 0===a?void 0:a.index,label:null===(r=f.find((function(t){return t.id===e})))||void 0===r?void 0:r.label,value:n[e],gform_id:e}})).sort((function(e,t){return e.index-t.index})),m=!0,a.fields.forEach((function(e){if(null!=e&&e.required){var t=d.find((function(t){return(null==t?void 0:t.gform_id)===(null==e?void 0:e.id)})),n=null!=e&&e.lines?null==e?void 0:e.lines:null;if(n){if((null==d?void 0:d.length)<n)return I(!1),m=!1,O("Please push required fields","fail",2500)}else if(!t)return I(!1),m=!1,O("Please push required fields","fail",2500)}})),m){e.next=32;break}return e.abrupt("return");case 32:return p=JSON.stringify({type:"VGVF_Channel",payload:d}),e.next=35,(0,h.cG)({translateTo:w.lang,text:"Successfully Submitted"});case 35:return b=e.sent,e.next=38,x(p,null,null,{from:"human",messages:[{from:"human",type:"info:success",item:b,delay:0}],ts:W()().unix()});case 38:P((function(e){return or(or({},e),{},{blockInput:!1})})),I(!1);case 40:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})));return function(t){return e.apply(this,arguments)}}(),_=N.length-1;return nr(Xt.F6,r,nr(ir,{ref:Z,className:" vg-p-5 vg-message-form--inner",onSubmit:r.handleSubmit(E)},a.title&&nr("div",{className:" vg-mb-3 vg-message-form--section1"},nr("h1",{className:" vg-font-bold vg-text-large vg-message-form--title"},a.title),a.description&&nr(Ze.Z,{className:" vg-text-sm vg-message-form--desc"},a.description)),nr(vr,{setFormData:p,setIntData:v,intData:c,form:a}),nr(m.Z,{isDisabled:S||_>(null==e?void 0:e.turnIndex)||w.manualControl,className:" vg-w-full vg-my-3 vg-message-form--submit",color:"primary",type:"submit"},nr(b.Z,{to:null===(t=w.variables)||void 0===t?void 0:t.lang,text:"Submit"})),!j&&nr(m.Z,{isDisabled:S||_>(null==e?void 0:e.turnIndex)||w.manualControl,variant:"flat",onPress:function(){x("VG_Cancel")},className:" vg-w-full vg-message-form--cancel",color:"danger"},nr(b.Z,{to:null===(n=w.variables)||void 0===n?void 0:n.lang,text:"Cancel"}))))};var dr=o.default.createElement;const fr=function(e){var t=o.default.useState(!1),n=(0,l.Z)(t,2),a=n[0],r=n[1];function i(){return(i=(0,V.Z)(z().mark((function e(t){var n;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.Z.get("".concat("https://voiceglow.org","/api/get-gform?form_id=").concat(t));case 2:n=e.sent,r(n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.default.useEffect((function(){!function(e){i.apply(this,arguments)}((e.hardLink||e.item.payload).includes("https://")?e.hardLink||e.item.payload:"https://"+(e.hardLink||e.item.payload))}),[]),a?dr("div",{className:" vg-w-full vg-h-auto vg-relative vg-message-form"},dr(gr,{messageIndex:e.messageIndex,turnIndex:e.turnIndex,form:a})):dr(Ie.Z,{className:" vg-w-full vg-h-72 vg-rounded-large "})};var mr=n(12085),pr=n.n(mr),br=o.default.createElement;const hr=function(e){var t=(0,o.useRef)(null),n=(0,o.useRef)(null),a=(0,o.useState)(!0),r=a[0],l=a[1],i=(0,o.useState)(0),s=i[0],u=i[1],c=(0,o.useState)(0),v=c[0],g=c[1],d=(0,o.useState)(!1),f=d[0],p=d[1],b=(0,o.useState)(!1),h=b[0],w=b[1],x=(0,o.useState)(!0),N=x[0],k=x[1],j=(0,o.useState)(1),D=j[0],C=j[1],S=[1,1.25,1.5,2],Z=(0,o.useState)(null),E=(Z[0],Z[1]);(0,o.useRef)(null);(0,o.useEffect)((function(){e.withWaves&&fetch(e.audioLink).then((function(e){return e.blob()})).then((function(e){E(e)}));var a=t.current,r=n.current,l=r.getContext("2d");try{!function(){var e;window.AudioContext=window.AudioContext||(null===(e=window)||void 0===e?void 0:e.webkitAudioContext);var t=new window.AudioContext,n=t.createAnalyser();t.createMediaElementSource(a).connect(n),n.connect(t.destination),n.fftSize=256;var o=n.frequencyBinCount,i=new Uint8Array(o),s=function e(){n.getByteFrequencyData(i);for(var t=0;t<o;t++)i[t]=.8*i[t];l.clearRect(0,0,r.width,r.height);for(var a=100/5.4,s=r.height+1,u=0;u<5;u++){var c=18.61851851851852*u*(r.width/100),v=i[u]/255*s;l.beginPath(),r.width,r.height;var g=getComputedStyle(document.getElementById("vg-theme-container")).getPropertyValue("--nextui-primary").split(" ").map((function(e){return Number(e.replaceAll("%",""))})),d="#".concat(pr().hsl.hex(g));l.fillStyle=d,l.fillRect(c,r.height-v-(0===u||2===u||4===u?2:1),a*(r.width/100)-2,v-(0===u||2===u||4===u?2:1))}requestAnimationFrame(e)};s(),a.addEventListener("play",s),a.addEventListener("pause",(function(){return cancelAnimationFrame(s)}))}()}catch(e){}}),[]),(0,o.useEffect)((function(){var e=t.current,n=function(){u(e.currentTime),g(e.duration)};return e.addEventListener("timeupdate",n),function(){e.removeEventListener("timeupdate",n)}}),[]);var _=function(e,n){try{var a=document.getElementById("vg-control-bar"),r=null==a?void 0:a.getBoundingClientRect(),l=(e.clientX-r.left)/Math.abs(r.left-r.right)*v;u(l),t.current.currentTime=l}catch(e){}},R=function(e){e.preventDefault(),w(!1),p(!1)},M=function(e){var t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(String(t).padStart(2,"0"),":").concat(String(n).padStart(2,"0"))};(0,o.useEffect)((function(){return document.addEventListener("mousemove",_),h||document.removeEventListener("mousemove",_),function(){document.removeEventListener("mousemove",_)}}),[h]);return br("div",{className:" vg-w-full vg-mx-auto vg-relative "},N&&br("div",{className:" vg-absolute vg-z-[20] vg-bg-background vg-w-full vg-h-full "},br(Ie.Z,{className:" vg-w-full vg-h-full vg-rounded-large "})),br(O.E.div,{className:" vg-flex vg-flex-col vg-items-center vg-p-4 vg-rounded-md vg-relative "},br("audio",{onLoadedData:function(){k(!1)},crossOrigin:"anonymous",id:"vg-audio-tag",ref:t,src:e.audioLink}),br("div",{className:" vg-flex vg-items-center vg-justify-between vg-gap-2 vg-w-full "},br(m.Z,{variant:"solid",color:"primary",isIconOnly:!0,className:" vg-p-2 vg-flex vg-items-center vg-justify-center vg-rounded-full vg-focus:outline-none vg-relative ",onClick:function(){r&&s!==v?(t.current.pause(),l(!1)):(t.current.play(),l(!0))}},br(P.M,null,s!==v&&r&&br(O.E.div,{className:" vg-absolute ",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},key:"play-icon"},br(I.Wh,{className:" vg-w-5 vg-h-5 "})),s!==v&&!r&&br(O.E.div,{className:" vg-absolute ",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},key:"pause-icon"},br(I.gmG,{className:" vg-w-5 vg-h-5 "})),s==v&&br(O.E.div,{className:" vg-absolute ",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},key:"replay-icon"},br(y.jZM,{className:" vg-w-5 vg-h-5 "})))),br("div",{className:" vg-flex vg-flex-col vg-w-full "},br(O.E.div,{id:"vg-control-bar",animate:{height:f?15:7},onClick:function(e){return _(e)},onMouseEnter:function(){return p(!0)},onMouseLeave:R,onMouseDown:function(e){e.preventDefault(),w(!0)},onMouseUp:R,transition:{type:"spring",stiffness:500,damping:50,mass:.5,delay:0},className:" vg-w-full vg-bg-background vg-rounded-full vg-overflow-hidden vg-cursor-pointer "},br(O.E.div,{className:" vg-bg-gradient-to-r vg-from-primary-500 vg-to-primary-700 vg-rounded-full ",style:{width:"".concat(s/v*100,"%")},initial:{width:0},animate:{width:"".concat(s/v*100,"%"),height:f?15:7},transition:{type:"spring",stiffness:500,damping:50,mass:.5,delay:0}})),br("div",{className:" vg-flex vg-items-center vg-justify-between vg-gap-1 vg-mt-2 "},br("div",{className:" vg-flex vg-items-center "},br("canvas",{ref:n,width:"20",height:"15"}),br(m.Z,{size:"sm",variant:"light",isIconOnly:!0,className:" vg-w-auto vg-p-1 vg-h-auto vg-text-sm vg-font-bold vg-underline vg-text-foreground vg-opacity-80 vg-leading-3 ",onClick:function(){return function(){var e=S.findIndex((function(e){return e===D}));if(S[e+1]){var n=S[e+1];C(n),t.current.playbackRate=n}else C(1),t.current.playbackRate=1}()}},D,"x")),br("span",{className:" vg-text-sm vg-text-foreground vg-opacity-80 vg-leading-3 "},M(s)," / ",M(v)))))))};var yr=o.default.createElement;function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Or=function(e){var t,n=(0,i.useRuntime)(),a=n.runtime,r=n.setRuntime;n.pushChatNotice,n.formattedTurnsValue;return yr(x.Z,{key:"chat_end_start_new",className:" vg-absolute vg-bottom-0 vg-w-full vg-h-[100px] vg-z-50 vg-rounded-large vg-notice-container vg-w-full vg-bg-background/50 vg-backdrop-blur "},yr("div",{className:" vg-p-5 "},yr("div",{className:" vg-flex vg-flex-col vg-gap-2 "},yr(m.Z,{onPress:function(){document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"chat_restart",data:{chatOpened:!0,ts:W()().unix()},ts:W()().unix()}})),r((function(e){return xr(xr({},e),{},{reload:!0,notice:xr(xr({},e.notice),{},{custom:null,active:!1})})}))},variant:"shadow",color:"primary"},yr(b.Z,{text:"Start New Conversation",to:null===(t=a.variables)||void 0===t?void 0:t.lang})),yr("p",{className:" vg-text-small vg-text-center vg-w-full vg-mt-1 vg-opacity-75 vg-footer-branding"}))))};var Pr=o.default.createElement;function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const jr=function(e){var t,a=(0,i.useRuntime)(),r=a.runtime,l=a.setRuntime,s=(a.pushChatNotice,a.formattedTurnsValue),u=a.lightConvoData,c=(0,o.useState)((null==u?void 0:u.ratingFrom5)||0),v=(c[0],c[1]);function g(){return(g=(0,V.Z)(z().mark((function e(){var t,a,l,o,i;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(n,68650));case 2:return t=e.sent,a=t.getFirestore,l=t.setDoc,o=t.doc,i=a(Le.l2,r.bucket),e.next=9,l(o(i,"voiceglow/".concat(r.variables.ID,"/convos/").concat(r.userID)),{state:"ended_chat"},{merge:!0});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return d=(0,V.Z)(z().mark((function e(){var t,a,l,o,i,s,u,c;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(n,68650));case 2:return a=e.sent,l=a.getFirestore,o=a.getDoc,i=a.doc,s=l(Le.l2,r.bucket),e.next=9,o(i(s,"voiceglow/".concat(r.variables.ID,"/convos/").concat(r.userID)));case 9:u=e.sent,c=null===(t=u.data())||void 0===t?void 0:t.ratingFrom5,v(c||0);case 12:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}return o.default.useEffect((function(){var t,n=s[(null==s?void 0:s.length)-1];null!=n&&null!==(t=n.messages)&&void 0!==t&&t.find((function(e){return"end"===e.type}))&&(l((function(t){return kr(kr({},t),{},{notice:kr(kr({},t.notice),{},{active:!1,custom:Pr(Or,{hasEverPaid:e.hasEverPaid})})})})),function(){g.apply(this,arguments)}())}),[s]),o.default.useEffect((function(){var t;null!=e&&e.isChatHistory&&null!=r&&null!==(t=r.variables)&&void 0!==t&&t.ID&&null!=r&&r.userID&&function(){d.apply(this,arguments)}()}),[null==e?void 0:e.isChatHistory,null==r?void 0:r.userID]),Pr("div",{key:"chatend_for_".concat(e.turnIndex,"_message_").concat(e.messageIndex),className:" vg-bg-content2 vg-w-full vg-h-auto vg-flex vg-flex-col vg-text-base vg-p-4 vg-rounded-large vg-chat-end"},Pr("p",null,Pr(b.Z,{to:null===(t=r.variables)||void 0===t?void 0:t.lang,text:"Chat has Ended."})))};var Dr=n(89583),Cr=o.default.createElement;const Sr=function(e){var t,n;(0,i.useRuntime)().runtime;return Cr("div",{className:" vg- vg-flex vg-items-center vg-gap-2 vg-py-2 vg-bg-content2 vg-rounded-lg vg-px-4 vg-text-small ".concat("info:primary"===e.message.type?" vg-bg-gradient-to-b vg-from-primary-400 vg-to-primary-500 vg-text-white ":" "," ").concat("info:default"===e.message.type?" vg-bg-content2 vg-text-foreground ":" "," ").concat("info:danger"===e.message.type?" vg-bg-danger-800 vg-text-danger-100 ":" "," ").concat("info:success"===e.message.type?" vg-bg-success-800 vg-text-success-100 ":" "," vg-vgc-info "),key:"chat-message-info-".concat(e.turnIndex,"-").concat(e.messageIndex)},Cr("div",{className:" vg-flex-shrink-0 vg-w-4 vg-h-4 vg-vgc-info--icon "},"info:default"===e.message.type||"info:primary"===e.message.type?Cr(U.JjM,{className:" vg-w-full vg-h-full "}):null,"info:success"===e.message.type?Cr(Dr.l_A,{className:" vg-w-full vg-h-full "}):null,"info:danger"===e.message.type?Cr(U.sQZ,{className:" vg-w-full vg-h-full "}):null),Cr("div",{className:" vg-vgc-info--text "},Cr(Ze.Z,null,(null===(t=e.message)||void 0===t||null===(t=t.item)||void 0===t?void 0:t.payload)||(null===(n=e.message)||void 0===n?void 0:n.item))))};var Ir=o.default.createElement;const Zr=function(e){var t,n=(0,i.useRuntime)().runtime,a=o.default.useState(!1),r=(0,l.Z)(a,2),s=r[0],u=r[1],c=String((null===(t=e.message)||void 0===t||null===(t=t.item)||void 0===t||null===(t=t.payload)||void 0===t?void 0:t.image)||(null==e?void 0:e.message)||"");return o.default.useEffect((function(){s&&fo("vg-chat-scroll-container").then((function(e){var t,a;e.scrollTo({top:null===(t=document.getElementById("vg-chat-scroll-container"))||void 0===t?void 0:t.scrollHeight,behavior:null!==(a=n.variables)&&void 0!==a&&a.disableSmoothScroll?"auto":"smooth"})}))}),[s]),Ir("div",{key:"chat_message_image_".concat(e.turnIndex,"_").concat(e.messageIndex),className:" ".concat("human"===e.message.from?" vg-w-[75%] ":" vg-w-full "," vg-h-full vg-rounded-large vg-overflow-none vg-relative vg-chat-message--image")},!s&&Ir(Ie.Z,{className:" vg-w-full vg-h-full vg-rounded-large vg-absolute vg-z-[10] vg-top-0 vg-left-0 "}),c?Ir(L.Z,{disableSkeleton:!0,onLoad:function(){return u(!0)},classNames:{wrapper:" vg-rounded-medium vg-overflow-none "},className:" vg-w-auto vg-h-auto vg-object-cover vg-rounded-medium vg-message-image ",src:null!=c&&c.includes("https://")?c:"https://".concat(c)}):null)};var Er=o.default.createElement;const _r=function(e){return Er(m.Z,{size:"sm",color:"primary",variant:"light",onPress:function(){return window.open(e.url,"_blank")},className:" vg-flex vg-gap-2 vg-items-center vg-w-auto vg-min-w-0 vg-max-w-auto vg-bg-primary-50 "},Er(Y.G1z,{className:" vg-w-4 vg-h-4 vg-flex-shrink-0 "}),Er("p",{className:" vg-text-tiny vg-underline "},e.filename," Â· ",e.sizeKB," KB"))};var Rr=o.default.createElement;const Mr=function(e){var t,n,a,r,l,o,s,u=(0,i.useRuntime)().runtime;return Rr("div",{className:" vg-w-full "},Rr(cn.Z,{className:" vg-mb-2 vg-disabled:opacity-100 vg-!opacity-100 ",label:Rr(b.Z,{to:null===(t=u.variables)||void 0===t?void 0:t.lang,text:"Email"}),value:null===(n=e.message)||void 0===n||null===(n=n.item)||void 0===n?void 0:n.email,isDisabled:!0}),Rr(F.Z,{className:" vg-mb-2 vg-disabled:opacity-100 vg-!opacity-100 ",label:Rr(b.Z,{to:null===(a=u.variables)||void 0===a?void 0:a.lang,text:"Message"}),value:null===(r=e.message)||void 0===r||null===(r=r.item)||void 0===r?void 0:r.message,isDisabled:!0}),Rr("div",{className:" vg-pl-0 vg-pb-2 vg-p-2 vg-rounded-large vg-flex vg-items-center vg-gap-2 vg-overflow-y-hidden vg-w-full vg-h-auto vg-pt-0 vg-flex vg-container-snap-chat "},Rr("div",{className:" vg-flex vg-gap-2 "},null===(l=e.message)||void 0===l||null===(l=l.item)||void 0===l||null===(l=l.attachmentLinks)||void 0===l?void 0:l.map((function(e,t){return Rr(_r,e)})),null===(o=e.message)||void 0===o||null===(o=o.item)||void 0===o||null===(o=o.attachmentLinks)||void 0===o?void 0:o.map((function(e,t){return Rr(_r,e)})),null===(s=e.message)||void 0===s||null===(s=s.item)||void 0===s||null===(s=s.attachmentLinks)||void 0===s?void 0:s.map((function(e,t){return Rr(_r,e)})))))};var Tr=o.default.createElement;const Vr=function(e){var t="chat-extension-container-".concat(e.messageIndex,"-").concat(e.turnIndex);return o.default.useEffect((function(){if(e.extension.render){var n=document.getElementById(t);e.extension.render({trace:e.item.item,element:n})}}),[]),Tr("div",{key:"chat-extension-".concat(e.messageIndex,"-").concat(e.turnIndex),id:t})};var Br=n(29505),zr=(0,ht.k)({name:"DropdownContext",errorMessage:"useDropdownContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Dropdown />`"}),Fr=(0,l.Z)(zr,2),Lr=Fr[0],Ur=Fr[1],Ar=n(65367),Gr=n(68335),Wr=(0,nt.tv)({base:[" vg-w-full "," vg-p-1 "," vg-min-w-[200px] "]}),Hr=((0,nt.tv)({slots:{base:[" vg-flex "," vg-group "," vg-gap-2 "," vg-items-center "," vg-justify-between "," vg-relative "," vg-px-2 "," vg-py-1.5 "," vg-w-full "," vg-h-full "," vg-box-border "," vg-rounded-small "," vg-outline-none "," vg-cursor-pointer "," vg-tap-highlight-transparent "," vg-data-[pressed=true]:opacity-70 "].concat((0,T.Z)(at.Dh),[" vg-data-[focus-visible=true]:dark:ring-offset-background-content1 "]),wrapper:" vg-w-full vg-flex vg-flex-col vg-items-start vg-justify-center ",title:" vg-flex-1 vg-text-small vg-font-normal vg-truncate ",description:[" vg-w-full "," vg-text-tiny "," vg-text-foreground-500 "," vg-group-hover:text-current "],selectedIcon:[" vg-text-inherit "," vg-w-3 "," vg-h-3 "," vg-flex-shrink-0 "],shortcut:[" vg-px-1 "," vg-py-0.5 "," vg-rounded "," vg-font-sans "," vg-text-foreground-500 "," vg-text-tiny "," vg-border-small "," vg-border-default-300 "," vg-group-hover:border-current "]},variants:{variant:{solid:{base:" "},bordered:{base:" vg-border-medium vg-border-transparent vg-bg-transparent "},light:{base:" vg-bg-transparent "},faded:{base:" vg-border-small vg-border-transparent vg-hover:border-default vg-data-[hover=true]:bg-default-100 "},flat:{base:" "},shadow:{base:" vg-data-[hover=true]:shadow-lg "}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},isDisabled:{true:{base:" vg-opacity-disabled vg-pointer-events-none "}},disableAnimation:{true:{},false:{}}},defaultVariants:{variant:"solid",color:"default",disableAnimation:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:" vg-data-[hover=true]:bg-default vg-data-[hover=true]:text-default-foreground "}},{variant:"solid",color:"primary",class:{base:" vg-data-[hover=true]:bg-primary vg-data-[hover=true]:text-primary-foreground "}},{variant:"solid",color:"secondary",class:{base:" vg-data-[hover=true]:bg-secondary vg-data-[hover=true]:text-secondary-foreground "}},{variant:"solid",color:"success",class:{base:" vg-data-[hover=true]:bg-success vg-data-[hover=true]:text-success-foreground "}},{variant:"solid",color:"warning",class:{base:" vg-data-[hover=true]:bg-warning vg-data-[hover=true]:text-warning-foreground "}},{variant:"solid",color:"danger",class:{base:" vg-data-[hover=true]:bg-danger vg-data-[hover=true]:text-danger-foreground "}},{variant:"shadow",color:"default",class:{base:" vg-data-[hover=true]:shadow-default/50 vg-data-[hover=true]:bg-default vg-data-[hover=true]:text-default-foreground "}},{variant:"shadow",color:"primary",class:{base:" vg-data-[hover=true]:shadow-primary/30 vg-data-[hover=true]:bg-primary vg-data-[hover=true]:text-primary-foreground "}},{variant:"shadow",color:"secondary",class:{base:" vg-data-[hover=true]:shadow-secondary/30 vg-data-[hover=true]:bg-secondary vg-data-[hover=true]:text-secondary-foreground "}},{variant:"shadow",color:"success",class:{base:" vg-data-[hover=true]:shadow-success/30 vg-data-[hover=true]:bg-success vg-data-[hover=true]:text-success-foreground "}},{variant:"shadow",color:"warning",class:{base:" vg-data-[hover=true]:shadow-warning/30 vg-data-[hover=true]:bg-warning vg-data-[hover=true]:text-warning-foreground "}},{variant:"shadow",color:"danger",class:{base:" vg-data-[hover=true]:shadow-danger/30 vg-data-[hover=true]:bg-danger vg-data-[hover=true]:text-danger-foreground "}},{variant:"bordered",color:"default",class:{base:" vg-data-[hover=true]:border-default "}},{variant:"bordered",color:"primary",class:{base:" vg-data-[hover=true]:border-primary vg-data-[hover=true]:text-primary "}},{variant:"bordered",color:"secondary",class:{base:" vg-data-[hover=true]:border-secondary vg-data-[hover=true]:text-secondary "}},{variant:"bordered",color:"success",class:{base:" vg-data-[hover=true]:border-success vg-data-[hover=true]:text-success "}},{variant:"bordered",color:"warning",class:{base:" vg-data-[hover=true]:border-warning vg-data-[hover=true]:text-warning "}},{variant:"bordered",color:"danger",class:{base:" vg-data-[hover=true]:border-danger vg-data-[hover=true]:text-danger "}},{variant:"flat",color:"default",class:{base:" vg-data-[hover=true]:bg-default/40 vg-data-[hover=true]:text-default-foreground "}},{variant:"flat",color:"primary",class:{base:" vg-data-[hover=true]:bg-primary/20 vg-data-[hover=true]:text-primary "}},{variant:"flat",color:"secondary",class:{base:" vg-data-[hover=true]:bg-secondary/20 vg-data-[hover=true]:text-secondary "}},{variant:"flat",color:"success",class:{base:" vg-data-[hover=true]:bg-success/20 vg-data-[hover=true]:text-success "}},{variant:"flat",color:"warning",class:{base:" vg-data-[hover=true]:bg-warning/20 vg-data-[hover=true]:text-warning "}},{variant:"flat",color:"danger",class:{base:" vg-data-[hover=true]:bg-danger/20 vg-data-[hover=true]:text-danger "}},{variant:"faded",color:"default",class:{base:" vg-data-[hover=true]:text-default-foreground "}},{variant:"faded",color:"primary",class:{base:" vg-data-[hover=true]:text-primary "}},{variant:"faded",color:"secondary",class:{base:" vg-data-[hover=true]:text-secondary "}},{variant:"faded",color:"success",class:{base:" vg-data-[hover=true]:text-success "}},{variant:"faded",color:"warning",class:{base:" vg-data-[hover=true]:text-warning "}},{variant:"faded",color:"danger",class:{base:" vg-data-[hover=true]:text-danger "}},{variant:"light",color:"default",class:{base:" vg-data-[hover=true]:text-default-500 "}},{variant:"light",color:"primary",class:{base:" vg-data-[hover=true]:text-primary "}},{variant:"light",color:"secondary",class:{base:" vg-data-[hover=true]:text-secondary "}},{variant:"light",color:"success",class:{base:" vg-data-[hover=true]:text-success "}},{variant:"light",color:"warning",class:{base:" vg-data-[hover=true]:text-warning "}},{variant:"light",color:"danger",class:{base:" vg-data-[hover=true]:text-danger "}}]}),(0,nt.tv)({slots:{base:" vg-relative vg-mb-2 ",heading:" vg-pl-1 vg-text-tiny vg-text-foreground-500 ",group:" vg-data-[has-title=true]:pt-1 ",divider:" vg-mt-2 "}}),(0,nt.tv)({base:" vg-w-full vg-flex vg-flex-col vg-gap-0.5 vg-p-1 "}),n(48255)),Jr=["as","triggerRef","isOpen","defaultOpen","onOpenChange","type","trigger","placement","isDisabled","closeOnSelect","shouldBlockScroll","classNames","disableAnimation","onClose","className"],qr=["onKeyDown","onPress","onPressStart"];function Kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qr(e){var t=e.as,n=e.triggerRef,a=e.isOpen,r=e.defaultOpen,l=e.onOpenChange,i=e.type,s=void 0===i?"menu":i,u=e.trigger,v=void 0===u?"press":u,g=e.placement,d=void 0===g?"bottom":g,f=e.isDisabled,m=void 0!==f&&f,p=e.closeOnSelect,b=void 0===p||p,h=e.shouldBlockScroll,y=void 0===h||h,w=e.classNames,x=e.disableAnimation,O=void 0!==x&&x,P=e.onClose,N=e.className,k=(0,c.Z)(e,Jr),j=t||"div",D=(0,o.useRef)(null),C=n||D,S=(0,o.useRef)(null),I=(0,o.useRef)(null),Z=(0,Ar.W)({trigger:v,isOpen:a,defaultOpen:r,onOpenChange:function(e){null==l||l(e),e||null==P||P()}}),E=(0,Gr.u)({type:s,trigger:v,isDisabled:m},Z,C),_=E.menuTriggerProps,R=E.menuProps,M=(0,o.useMemo)((function(){return Wr({className:N})}),[N]);return{Component:j,menuRef:S,menuProps:R,classNames:M,closeOnSelect:b,onClose:Z.close,autoFocus:Z.focusStrategy||!0,disableAnimation:O,getPopoverProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Xr(Xr({state:Z,placement:d,ref:I,disableAnimation:O,shouldBlockScroll:y,scrollRef:S,triggerRef:C},(0,ut.d)(k,e)),{},{classNames:Xr(Xr(Xr({},w),e.classNames),{},{content:(0,mt.W)(M,null==w?void 0:w.content,e.className)})})},getMenuProps:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Xr({ref:(0,Hr.l)(t,S),menuProps:R},(0,ut.d)(e,{onAction:function(){var t;(void 0===(t=null==e?void 0:e.closeOnSelect)||t)&&b&&Z.close()}}))},getMenuTriggerProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(_.onKeyDown,_.onPress,_.onPressStart,(0,c.Z)(_,qr));return Xr(Xr({},(0,ut.d)(n,e)),{},{ref:(0,Hr.l)(t,D)})}}}var Yr=["children"],$r=o.default.createElement,el=function(e){var t=e.children,n=Qr((0,c.Z)(e,Yr)),a=o.default.Children.toArray(t),r=(0,l.Z)(a,2),i=r[0],s=r[1];return $r(Lr,{value:n},$r(Br.j,n.getPopoverProps(),i,s))};el.displayName="NextUI.Dropdown";const tl=el;var nl=n(90351),al=["children"],rl=o.default.createElement,ll=(0,$e.Gp)((function(e,t){var n=Ur().getMenuTriggerProps,a=e.children,r=(0,c.Z)(e,al);return rl(nl.b,n(r),a)}));ll.displayName="NextUI.DropdownTrigger";const ol=ll;var il=n(4671),sl=n(63062),ul=n(13833),cl=o.default.createElement;function vl(e,t){var n=Ur().getMenuProps;return cl(il.g,null,cl(sl.MT,{contain:!0,restoreFocus:!0},cl(ul.U,n(e,t))))}const gl=(0,$e.Gp)(vl);vl.displayName="NextUI.DropdownMenu";var dl=n(32616),fl=n(4511),ml=o.default.createElement;const pl=function(e){try{var t,n=(0,i.useRuntime)(),a=(n.handlePushMessage,n.runtime),r=n.confirmedBucket,s=e.message.item,u=o.default.useState(s.payload.buttons[0]),c=(0,l.Z)(u,2),v=c[0],g=c[1],d=(null==v?void 0:v.buttons)||[],f=o.default.useState(d[0]),p=(0,l.Z)(f,2),b=p[0],h=p[1];return ml(fl.SV,{FallbackComponent:function(){return ml("div",null,ml("div",null,"Something went wrong!"))}},ml("div",{className:" vg-flex vg-flex-col vg-gap-2 vg-chat-message-text-inner-content vg-w-full "},ml(tl,{className:" vg-w-full "},ml(ol,{className:" vg-w-full vg-relative "},ml(m.Z,{variant:"bordered",className:" vg-capitalize vg-w-full "},null==v?void 0:v.label,ml(Y.kc8,{className:" vg-w-6 vg-h-6 vg-flex-shrink-0 "}))),ml(gl,{"aria-label":"Single selection example",variant:"flat",disallowEmptySelection:!0,selectionMode:"single",selectedKeys:[null==v?void 0:v.value],onSelectionChange:function(e){var t,n=(0,T.Z)(e)[0];g(s.payload.buttons.find((function(e){return e.value===n}))),h(null===(t=s.payload.buttons.find((function(e){return e.value===n})))||void 0===t?void 0:t.buttons[0])}},(null===(t=s.payload.buttons)||void 0===t?void 0:t.length)&&s.payload.buttons.map((function(e,t){return ml(dl.W,{key:e.value},e.label)})))),ml(tl,null,ml(ol,null,ml(m.Z,{variant:"bordered",className:" vg-capitalize vg-w-full "},null==b?void 0:b.label,ml(Y.kc8,{className:" vg-w-6 vg-h-6 vg-flex-shrink-0 "}))),ml(gl,{"aria-label":"Single selection example",variant:"flat",disallowEmptySelection:!0,selectionMode:"single",selectedKeys:[null==b?void 0:b.value],onSelectionChange:function(e){var t=(0,T.Z)(e)[0];h(d.find((function(e){return e.value===t})))}},(null==d?void 0:d.length)&&d.map((function(e,t){return ml(dl.W,{key:e.value},e.label)})))),ml(m.Z,{color:"primary",onPress:function(){(0,i.handlePushMessageNoInteract)({agentID:a.variables.ID,userID:a.userID,action:{type:"default",payload:{type:"MultiDropdown",payload:{selectedButton:v,selectedNestedButton:b}}},messages:[{from:"human",type:"info:success",item:"Submission successful!",delay:0}],bucket:r,vf_variables:{multiDropdown:JSON.stringify({selectedButton:v,selectedNestedButton:b})},origin:"web-chat"})},className:" vg-font-bold "},"Submit")))}catch(e){return ml("div",{className:" vg-bg-danger-800 vg-text-danger-100 vg-p-4 vg-rounded-large "},ml("div",null,"Something went wrong! ",e.toString()),ml("div",null,"Make sure the payload interface matches that in the default example."))}};var bl=o.default.createElement;function hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function yl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hl(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const wl=function(e){var t,n=(0,i.useRuntime)(),a=n.setRuntime,r=n.runtime,s=n.confirmedBucket,u=n.formattedTurnsValue,c=(null==e||null===(t=e.message)||void 0===t||null===(t=t.item)||void 0===t||null===(t=t.payload)||void 0===t?void 0:t.options)||{},v=o.default.useState((null==c?void 0:c.defaultValue)||0),g=(0,l.Z)(v,2),d=g[0],f=g[1],p=o.default.useState(!1),y=(0,l.Z)(p,2),w=y[0],x=y[1],O=u.length-1;o.default.useEffect((function(){null!=c&&c.canCancel||a((function(e){return yl(yl({},e),{},{blockInput:!0})}))}),[]);var P=function(){var e=(0,V.Z)(z().mark((function e(t){var n;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,(0,h.cG)({text:"cancel"===t?"Operation cancelled":"Submitted successfully",translateTo:r.variables.lang});case 3:return n=e.sent,e.next=6,(0,i.handlePushMessageNoInteract)({agentID:r.variables.ID,userID:r.userID,action:void 0,messages:[{from:"human",type:"cancel"===t?"info:danger":"info:success",item:n,delay:0}],bucket:s,origin:"web-chat"});case 6:return e.next=8,new Promise((function(e){return setTimeout(e,1e3)}));case 8:return e.next=10,(0,i.handlePushMessageNoInteract)({agentID:r.variables.ID,userID:r.userID,action:{type:t,payload:{type:"Slider",payload:{value:d}}},bucket:s,vf_variables:{vg_slider_response:JSON.stringify({value:d})},origin:"web-chat"});case 10:x(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return bl("div",{className:" vg-flex vg-flex-col vg-w-full vg-gap-2 "},bl(Aa,{isDisabled:w||e.turnIndex!==O||e.isChatHistory,classNames:{base:"vg-slider",label:"vg-slider--label",value:"vg-slider--value"},showSteps:!0,size:(null==c?void 0:c.size)||"lg",label:(null==c?void 0:c.label)||"NO LABEL",onChange:function(e){f(e)},value:d,step:(null==c?void 0:c.step)||1,maxValue:(null==c?void 0:c.maxValue)||100,minValue:(null==c?void 0:c.minValue)||0,renderValue:function(){return"".concat(d," ").concat((null==c?void 0:c.valueLabel)||"")}}),bl("div",{className:" vg-grid ".concat(c.canCancel?" vg-grid-cols-2 ":" vg-grid-cols-1 "," vg-gap-2 ")},bl(m.Z,{color:"primary",size:"sm",isDisabled:w||e.turnIndex!==O||e.isChatHistory,onPress:function(){P("default")},className:" vg-w-full vg-font-bold "},bl(b.Z,{to:r.variables.lang},"Submit")),null!=c&&c.canCancel?bl(m.Z,{color:"danger",size:"sm",isDisabled:w||e.turnIndex!==O||!(null!=c&&c.canCancel),onPress:function(){P("cancel")},className:" vg-w-full "},bl(b.Z,{to:r.variables.lang},"Cancel")):null))};var xl=n(57897),Ol=n(58473),Pl=(0,nt.tv)({slots:{base:[" vg-relative "," vg-max-w-fit "," vg-inline-flex "," vg-items-center "," vg-justify-between "," vg-box-border "," vg-whitespace-nowrap "],content:" vg-flex-1 vg-text-inherit vg-font-normal ",dot:[" vg-w-2 "," vg-h-2 "," vg-ml-1 "," vg-rounded-full "],avatar:" vg-flex-shrink-0 ",closeButton:[" vg-z-10 "," vg-appearance-none "," vg-outline-none "," vg-select-none "," vg-transition-opacity "," vg-opacity-70 "," vg-hover:opacity-100 "," vg-cursor-pointer "," vg-active:opacity-disabled "," vg-tap-highlight-transparent "]},variants:{variant:{solid:{},bordered:{base:" vg-border-medium vg-bg-transparent "},light:{base:" vg-bg-transparent "},flat:{},faded:{base:" vg-border-medium "},shadow:{},dot:{base:" vg-border-medium vg-border-default vg-text-foreground vg-bg-transparent "}},color:{default:{dot:" vg-bg-default-400 "},primary:{dot:" vg-bg-primary "},secondary:{dot:" vg-bg-secondary "},success:{dot:" vg-bg-success "},warning:{dot:" vg-bg-warning "},danger:{dot:" vg-bg-danger "}},size:{sm:{base:" vg-px-1 vg-h-6 vg-text-tiny ",content:" vg-px-1 ",closeButton:" vg-text-medium ",avatar:" vg-w-4 vg-h-4 "},md:{base:" vg-px-1 vg-h-7 vg-text-small ",content:" vg-px-2 ",closeButton:" vg-text-large ",avatar:" vg-w-5 vg-h-5 "},lg:{base:" vg-px-2 vg-h-8 vg-text-medium ",content:" vg-px-2 ",closeButton:" vg-text-xl ",avatar:" vg-w-6 vg-h-6 "}},radius:{none:{base:" vg-rounded-none "},sm:{base:" vg-rounded-small "},md:{base:" vg-rounded-medium "},lg:{base:" vg-rounded-large "},full:{base:" vg-rounded-full "}},isOneChar:{true:{},false:{}},isCloseable:{true:{},false:{}},hasStartContent:{true:{}},hasEndContent:{true:{}},isDisabled:{true:{base:" vg-opacity-disabled vg-pointer-events-none "}},isCloseButtonFocusVisible:{true:{closeButton:[].concat((0,T.Z)(at.jR),[" vg-ring-1 "," vg-rounded-full "])}}},defaultVariants:{variant:"solid",color:"default",size:"md",radius:"full",isDisabled:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:Ol.J.solid.default}},{variant:"solid",color:"primary",class:{base:Ol.J.solid.primary}},{variant:"solid",color:"secondary",class:{base:Ol.J.solid.secondary}},{variant:"solid",color:"success",class:{base:Ol.J.solid.success}},{variant:"solid",color:"warning",class:{base:Ol.J.solid.warning}},{variant:"solid",color:"danger",class:{base:Ol.J.solid.danger}},{variant:"shadow",color:"default",class:{base:Ol.J.shadow.default}},{variant:"shadow",color:"primary",class:{base:Ol.J.shadow.primary}},{variant:"shadow",color:"secondary",class:{base:Ol.J.shadow.secondary}},{variant:"shadow",color:"success",class:{base:Ol.J.shadow.success}},{variant:"shadow",color:"warning",class:{base:Ol.J.shadow.warning}},{variant:"shadow",color:"danger",class:{base:Ol.J.shadow.danger}},{variant:"bordered",color:"default",class:{base:Ol.J.bordered.default}},{variant:"bordered",color:"primary",class:{base:Ol.J.bordered.primary}},{variant:"bordered",color:"secondary",class:{base:Ol.J.bordered.secondary}},{variant:"bordered",color:"success",class:{base:Ol.J.bordered.success}},{variant:"bordered",color:"warning",class:{base:Ol.J.bordered.warning}},{variant:"bordered",color:"danger",class:{base:Ol.J.bordered.danger}},{variant:"flat",color:"default",class:{base:Ol.J.flat.default}},{variant:"flat",color:"primary",class:{base:Ol.J.flat.primary}},{variant:"flat",color:"secondary",class:{base:Ol.J.flat.secondary}},{variant:"flat",color:"success",class:{base:Ol.J.flat.success}},{variant:"flat",color:"warning",class:{base:Ol.J.flat.warning}},{variant:"flat",color:"danger",class:{base:Ol.J.flat.danger}},{variant:"faded",color:"default",class:{base:Ol.J.faded.default}},{variant:"faded",color:"primary",class:{base:Ol.J.faded.primary}},{variant:"faded",color:"secondary",class:{base:Ol.J.faded.secondary}},{variant:"faded",color:"success",class:{base:Ol.J.faded.success}},{variant:"faded",color:"warning",class:{base:Ol.J.faded.warning}},{variant:"faded",color:"danger",class:{base:Ol.J.faded.danger}},{variant:"light",color:"default",class:{base:Ol.J.light.default}},{variant:"light",color:"primary",class:{base:Ol.J.light.primary}},{variant:"light",color:"secondary",class:{base:Ol.J.light.secondary}},{variant:"light",color:"success",class:{base:Ol.J.light.success}},{variant:"light",color:"warning",class:{base:Ol.J.light.warning}},{variant:"light",color:"danger",class:{base:Ol.J.light.danger}},{isOneChar:!0,size:"sm",class:{base:" vg-w-5 vg-h-5 vg-min-w-5 vg-min-h-5 "}},{isOneChar:!0,size:"md",class:{base:" vg-w-6 vg-h-6 vg-min-w-6 vg-min-h-6 "}},{isOneChar:!0,size:"lg",class:{base:" vg-w-7 vg-h-7 vg-min-w-7 vg-min-h-7 "}},{isOneChar:!0,isCloseable:!1,class:{base:" vg-px-0 vg-justify-center ",content:" vg-px-0 vg-flex-none "}},{isOneChar:!0,isCloseable:!0,class:{base:" vg-w-auto "}},{hasStartContent:!0,size:"sm",class:{content:" vg-pl-0.5 "}},{hasStartContent:!0,size:["md","lg"],class:{content:" vg-pl-1 "}},{hasEndContent:!0,size:"sm",class:{content:" vg-pr-0.5 "}},{hasEndContent:!0,size:["md","lg"],class:{content:" vg-pr-1 "}}]}),Nl=["ref","as","children","avatar","startContent","endContent","onClose","classNames","className"];function kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kl(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dl=o.default.createElement;function Cl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Sl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cl(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Il=(0,$e.Gp)((function(e,t){var n=function(e){var t=(0,$e.oe)(e,Pl.variantKeys),n=(0,l.Z)(t,2),a=n[0],r=n[1],i=a.ref,s=a.as,u=a.children,v=a.avatar,g=a.startContent,d=a.endContent,f=a.onClose,m=a.classNames,p=a.className,b=(0,c.Z)(a,Nl),h=s||"div",y=(0,vt.gy)(i),w=(0,mt.W)(null==m?void 0:m.base,p),x=!!f,O="dot"===e.variant,P=(0,st.F)(),N=P.focusProps,k=P.isFocusVisible,j=(0,o.useMemo)((function(){return"string"==typeof u&&1===(null==u?void 0:u.length)}),[u]),D=(0,o.useMemo)((function(){return!!v||!!g}),[v,g]),C=(0,o.useMemo)((function(){return!!d||x}),[d,x]),S=(0,o.useMemo)((function(){return Pl(jl(jl({},r),{},{hasStartContent:D,hasEndContent:C,isOneChar:j,isCloseable:x,isCloseButtonFocusVisible:k}))}),[].concat((0,T.Z)(Object.values(r)),[k,D,C,j,x])),I=(0,it.r)({isDisabled:!(null==e||!e.isDisabled),onPress:f}).pressProps,Z=function(e){return(0,o.isValidElement)(e)?(0,o.cloneElement)(e,{className:(0,mt.W)("max-h-[80%]",e.props.className)}):null};return{Component:h,children:u,slots:S,classNames:m,isDot:O,isCloseable:x,startContent:function(e){return(0,o.isValidElement)(e)?(0,o.cloneElement)(e,{className:S.avatar({class:null==m?void 0:m.avatar})}):null}(v)||Z(g),endContent:Z(d),getCloseButtonProps:function(){return jl({role:"button",tabIndex:0,className:S.closeButton({class:null==m?void 0:m.closeButton})},(0,ut.d)(I,N))},getChipProps:function(){return jl({ref:y,className:S.base({class:w})},b)}}}(Sl(Sl({},e),{},{ref:t})),a=n.Component,r=n.children,i=n.slots,s=n.classNames,u=n.isDot,v=n.isCloseable,g=n.startContent,d=n.endContent,f=n.getCloseButtonProps,m=n.getChipProps,p=(0,o.useMemo)((function(){return u&&!g?Dl("span",{className:i.dot({class:null==s?void 0:s.dot})}):g}),[i,g,u]),b=(0,o.useMemo)((function(){return v?Dl("span",f(),d||Dl(xl.f,null)):d}),[d,v,f]);return Dl(a,m(),p,Dl("span",{className:i.content({class:null==s?void 0:s.content})},r),b)}));Il.displayName="NextUI.Chip";const Zl=Il;var El=n(49472),_l=o.default.createElement;function Rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Tl=function(e){var t=(0,o.useState)([]),n=t[0],r=t[1],i=(0,o.useState)(!1),s=i[0],u=i[1],c=(0,o.useState)(0),v=c[0],g=c[1],d=(0,o.useState)([]),f=d[0],m=d[1],p=(0,o.useState)([]),y=p[0],x=p[1],O=o.default.useState({fileName:!1}),P=(0,l.Z)(O,2),N=(P[0],P[1]),k=(0,o.useState)([]),j=(k[0],k[1],(0,o.useState)([])),D=j[0],C=j[1],S=(0,Be.cF)(Le.l2,"voiceglow-eu");o.default.useEffect((function(){if(null!=f&&f.length&&!e.lightMode)return e.uploadTasksCallback&&e.uploadTasksCallback(f),f.forEach((function(e){e.on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);g(t)}),(function(e){}),(function(){u(!1),g(0)}))})),function(){f.forEach((function(e){return e.cancel()}))}}),[f]);var I=function(){var t=(0,V.Z)(z().mark((function t(n){var a;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isDisabled){t.next=2;break}return t.abrupt("return");case 2:e.onStartUpload&&e.onStartUpload(),a=n.map((function(t){var n,a=t.size,l=e.path||"/public",o=(null===(n=t.name)||void 0===n||null===(n=n.split(".")[1])||void 0===n?void 0:n.toLowerCase())||!1;if(e.accept&&!e.accept.includes(o))return alert("Only ".concat(e.accept.join(", ")," files are allowed"));if(e.maxSizeMB&&1e6*e.maxSizeMB<a)return alert("Max size: ".concat(e.maxSizeMB,"MB"));var i=(0,h.D1)(10),s="".concat(l,"/").concat(i,".").concat(t.name.split(".")[1]),c=(0,Be.iH)(S,"".concat(s));if(!e.lightMode){var v=(0,Be.B0)(c,t,{cacheControl:"public,max-age=31536000"});return v.on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);g(t)}),(function(e){}),(function(){(0,Be.Jt)(c).then(function(){var n=(0,V.Z)(z().mark((function n(o){var u,c,v;return z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u={url:o,path:"".concat(l),id:e.id||i,dbFilePath:s,name:t.name,bucket:"voiceglow-eu",serverFilename:"".concat(i,"-").concat(t.name),sizeMbs:a/1e6},e.callback&&e.callback(u),null!=e&&e.userId&&(v=Math.min(Math.round((null===El.R||void 0===El.R||null===(c=El.R.COSTS_CREDITS)||void 0===c?void 0:c.FILE_UPLOADED_PER_MB)*(t.size/1e6)),100),fetch("".concat((0,H.Sw)({region:"voiceglow-eu"===(null==e?void 0:e.bucket)?"eu":"na"}),"/public/users/").concat(e.userId,"/consume-credits"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({consume:v,logData:{amount:v,agentId:null==e?void 0:e.agentId,causedBy:"agent",logMessage:"File with size ".concat(a/1e6," MBs was uploaded through an agent, consuming ").concat(v," credits")}})})),r((function(e){return[].concat((0,T.Z)(e),[u])})),N((function(e){return Ml(Ml({},e),{},{fileName:t.name})}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})),u(!0),v}var d={id:i,serverFilename:"".concat(i,"-").concat(t.name),serverFilePath:s,file:t};C((function(t){var n=[].concat((0,T.Z)(t),[d]);return e.lightCallback&&e.lightCallback(n),n}))})),x((function(e){return[].concat((0,T.Z)(e),(0,T.Z)(a.filter((function(e){return null!==e}))))})),m(a.filter((function(e){return null!==e})));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();o.default.useEffect((function(){null!=e&&e.setLoading&&((null==n?void 0:n.length)===(null==y?void 0:y.length)?e.setLoading(!1):e.setLoading(!0))}),[y,n]);var Z=(0,ze.uI)({onDrop:I,multiple:!0}),E=Z.getRootProps,_=Z.getInputProps;return Z.isDragActive,_l("div",{className:" vg-flex vg-flex-col vg-gap-2 vg-w-full vg-h-full "},_l("div",{className:" vg-w-full vg-h-full vg-mx-auto vg-p-2 vg-rounded-lg vg-transition-all vg-duration-500 ".concat(e.isDisabled&&" vg-opacity-75 "," vg-upload-container")},_l("div",(0,a.Z)({},E(),{className:" vg-w-full vg-h-full vg-flex-all-center vg-border-dashed vg-border-2 ".concat(n.length>0?" vg-border-foreground ":" vg-border-primary-400 "," vg-rounded-lg ").concat(e.className||" "," vg-transition-all vg-duration-500 vg-upload-drop-container")}),_l("input",_()),n.length>0&&!s&&"img"==e.type?n.map((function(e,t){return _l("img",{key:t,className:" vg-w-32 vg-h-32 vg-upload--img-placeholder",src:e.url})})):!n.length&&!s&&_l(w.IEK,{className:" vg-w-12 vg-h-12 vg-upload--icon"}),s?_l(o.default.Fragment,null,_l(Fe.Z,{className:" vg-mb-2 vg-upload-spinner",color:"primary"}),_l("p",{className:" vg-opacity-50 vg-mb-2 vg-text-small vg-text-center vg-leading-5 vg-upload-text"},_l(b.Z,{text:"Uploading.."})," ",_l("br",null),_l(b.Z,{text:"Please Keep This Tab Open"})),_l("div",{className:" vg-w-[80%] vg-h-5 vg-bg-primary-100 vg-rounded-full vg-overflow-hidden vg-mx-auto vg-upload-loading-container"},_l("div",{className:" vg-h-full vg-bg-primary-700 vg-relative vg-upload-loading--bar",style:{width:"".concat(v||1,"%")}},_l("p",{className:" vg-absolute vg-right-1 vg-top-[2px] vg-text-small vg-text-primary-100 vg-upload-loading--text"},"".concat(v||1,"%"))))):_l(o.default.Fragment,null,n.length>0&&e.showUrls&&!e.lightMode?_l("div",{className:" vg-text-foreground "},_l("div",{className:" vg-mb-1 vg-flex vg-items-center vg-font-medium "},_l(he.DVR,{className:" vg-w-4 vg-h-4 vg-mr-2 "}),_l("p",null,_l(b.Z,{text:"Uploaded Successfully"}))),n.map((function(e,t){return _l("p",{key:t,className:" vg-opacity-75 vg-text-center "},(0,h.MB)(e.name,20))}))):_l(o.default.Fragment,null,_l("p",{className:" vg-text-small "},_l(b.Z,{text:"Drag and Drop Here"})),e.maxSizeMB&&_l("p",{className:" vg-opacity-75 vg-mb-3 vg-text-small "},_l(b.Z,{text:"Max Size:"})," ",_l("strong",null,e.maxSizeMB,"MB")),e.accept?_l("p",{className:" vg-opacity-75 vg-text-small "},_l(b.Z,{text:"Only"})," ",e.accept.length?e.accept.map((function(e){return e+" "})):""," ",_l(b.Z,{text:"Files"})):"")))),_l("div",null,(null==D?void 0:D.length)>0?D.map((function(t){return _l(Zl,{variant:"light",onClose:function(){C((function(n){var a=n.filter((function(e){return e.id!==t.id}));return e.lightCallback&&e.lightCallback(D.filter((function(e){return e.id!==t.id}))),a}))}},_l("p",{className:" vg-text-foreground "},t.file.name))})):null))};var Vl=o.default.createElement;function Bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bl(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Fl=function(e){var t,n,a,r=(0,i.useRuntime)(),s=r.setRuntime,u=r.runtime,c=r.confirmedBucket,v=r.formattedTurnsValue,g=(null==e||null===(t=e.message)||void 0===t||null===(t=t.item)||void 0===t||null===(t=t.payload)||void 0===t?void 0:t.options)||{},d=o.default.useState((null==g?void 0:g.defaultValue)||0),f=(0,l.Z)(d,2),p=f[0],h=(f[1],o.default.useState(!1)),y=(0,l.Z)(h,2),w=y[0],x=y[1],O=v.length-1,P=o.default.useState([]),N=(0,l.Z)(P,2),k=N[0],j=N[1];o.default.useEffect((function(){null!=g&&g.canCancel||s((function(e){return zl(zl({},e),{},{blockInput:!0})}))}),[]);var D=function(){var e=(0,V.Z)(z().mark((function e(t){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,(0,i.handlePushMessageNoInteract)({agentID:u.variables.ID,userID:u.userID,action:void 0,messages:[{from:"human",type:"cancel"===t?"info:danger":"info:success",item:"cancel"===t?"Operation cancelled":"Submitted successfully",delay:0}],bucket:c,origin:"web-chat"});case 3:return e.next=5,new Promise((function(e){return setTimeout(e,1e3)}));case 5:return e.next=7,(0,i.handlePushMessageNoInteract)({agentID:u.variables.ID,userID:u.userID,action:{type:t,payload:{type:"MultiFileUpload",payload:{value:p}}},bucket:c,vf_variables:{vg_filesupload_response:JSON.stringify({files:k.map((function(e){return{url:e.url,name:e.name,sizeMegabytes:e.sizeMbs}}))})},origin:"web-chat"});case 7:x(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Vl("div",{className:" vg-w-full vg-h-full vg-flex vg-flex-col vg-gap-1 vg-multiupload--container"},Vl("div",{style:{height:150+10*k.length},className:" vg-w-full vg-text-foreground vg-multiupload--dropbox"},Vl(Tl,{loading:w,setLoading:x,bucket:c,agentId:null==u||null===(n=u.variables)||void 0===n?void 0:n.ID,userId:null===(a=u.variables)||void 0===a?void 0:a.ownerID,variant:"plain",showUrls:!0,callback:function(e){j((function(t){return[].concat((0,T.Z)(t),[e])}))}})),Vl("div",{className:" vg-w-full vg-grid vg-grid-cols-2 vg-gap-2 vg-multiupload--buttons"},Vl(m.Z,{className:" ".concat(!1===(null==g?void 0:g.canCancel)?" vg-col-span-full ":" "," vg-multiupload--submit"),isLoading:w,isDisabled:!(null!=k&&k.length)||O!==e.turnIndex,color:"primary",onPress:function(){D("default")}},Vl(b.Z,null,"Submit")),!1===(null==g?void 0:g.canCancel)?null:Vl(m.Z,{className:"vg-multiupload--cancel",color:"danger",isDisabled:w||!1===(null==g?void 0:g.canCancel)||O!==e.turnIndex,onPress:function(){D("cancel")}},Vl(b.Z,null,"Cancel"))))};var Ll=o.default.createElement,Ul=u()((function(){return n.e(413).then(n.bind(n,1413))}),{loading:function(){return Ll(Gl,{variant:"no-avatar"})},loadableGenerated:{webpack:function(){return[1413]}}}),Al=u()((function(){return Promise.all([n.e(893),n.e(414)]).then(n.bind(n,31414))}),{loadableGenerated:{webpack:function(){return[31414]}}}),Gl=u()((function(){return Promise.resolve().then(n.bind(n,45392))}),{loadableGenerated:{webpack:function(){return[45392]}}});const Wl=function(e){var t,n,r,s,u,c,v,g,d,m,p,b=(0,f.B)().config,h=(0,i.useRuntime)(),y=h.runtime,w=(h.handlePushMessage,h.formattedTurnsValue),O=(0,k.F)().theme,N=e.turnIndex,j=e.messageIndex,D=e.messageItem,C=e.turn,S=e.turnsWithoutButtonMessages||w,I=o.default.useState(!1),Z=(0,l.Z)(I,2),E=Z[0],_=Z[1],R=o.default.useState(!1),M=(0,l.Z)(R,2),V=M[0],B=M[1],z=(null===(t=S[N])||void 0===t||null===(t=t.messages)||void 0===t?void 0:t.length)-1,F=null!=b&&null!==(n=b.extensions)&&void 0!==n&&n.length?(0,T.Z)((null==b?void 0:b.extensions)||[]):[],L=o.default.useMemo((function(){var t,n,r,l,i,s;return Ll(o.default.Fragment,null,F.find((function(e){return e.name===(null==D?void 0:D.type)}))?Ll(Vr,{item:D,extension:F.find((function(e){return e.name===(null==D?void 0:D.type)})),messageIndex:j,turnIndex:N}):null,"text"===(null==D?void 0:D.type)?Ll(Ut.Z,{feedback:null==D?void 0:D.feedback,isChatHistory:e.isChatHistory,className:" vg- ".concat("human"===D.from&&" vg-w-auto vg-max-w-[75%] "," vg- ").concat("human"===D.from&&" ".concat(O.includes("dark")?" vg-bg-primary-300 ":" vg-bg-primary-600 "," vg-p-3 vg-rounded-tl-[25px] vg-rounded-bl-[25px] vg-rounded-tr-[25px] vg-rounded-br-[5px] ")," vg-justify-self-end vg-message-text-").concat(D.from," "),key:"text___view_".concat(N,"_").concat(j),message:D}):"","Flowise"!==(null==D?void 0:D.type)||e.isChatHistory?null:Ll(Ul,{message:D,turnIndex:N,messageIndex:j}),"MultiDropdown"===(null==D?void 0:D.type)?Ll(pl,{turnIndex:N,message:D,messageIndex:j}):null,null!=D&&null!==(t=D.type)&&void 0!==t&&t.includes("info")?Ll(Sr,{message:D,turnIndex:N,messageIndex:j}):"","EmailForm"===(null==D?void 0:D.type)?Ll(Mr,{messageIndex:j,turnIndex:N,message:D}):null,"choice"===(null==D?void 0:D.type)&&"in-footer"!==(null==y||null===(n=y.variables)||void 0===n?void 0:n.buttonsLayout)?Ll($.Z,{isCarousel:"horizontal"===(null===(r=y.variables)||void 0===r?void 0:r.buttonsLayout),messageTurnIndex:N,key:"button_turn_".concat(N,"_message_").concat(j),size:"md",item:D.item,index:j,className:" vg-tw-ltr vg-buttons-message--btn",containerClassname:"tw-ltr vg-buttons-message-btn-container"}):null,"jsx"===(null==D?void 0:D.type)?Ll("div",{className:" vg-w-full vg-h-auto vg-message-custom-jsx"},D.item):null,"carousel"===(null==D?void 0:D.type)?Ll("div",{key:"carosel_for_".concat(N),className:" vg-w-full vg-h-auto vg-message-carousel-container"},Ll(Ve,{turnIndex:N,messageIndex:j,lastBotMessageIndex:C.messages.length-1,cards:(null===(l=D.item)||void 0===l||null===(l=l.payload)||void 0===l?void 0:l.cards)||D.item})):null,"cardV2"===(null==D?void 0:D.type)?Ll("div",{key:"card_for_".concat(N,"_message_").concat(j),className:" vg-w-full vg-h-auto vg-relative vg-message-card-container"},Ll(_e,(0,a.Z)({},null==D||null===(i=D.item)||void 0===i?void 0:i.payload,{turnIndex:N}))):null,"visual"===(null==D?void 0:D.type)?Ll(Zr,{messageIndex:j,turnIndex:N,message:D}):null,"FileUpload"===(null==D?void 0:D.type)?Ll(Xe,{turnIndex:N,messageIndex:j}):null,"MultiFileUpload"===(null==D?void 0:D.type)?Ll(Fl,{turnIndex:N,messageIndex:j,message:D}):null,"MultiSelect"===(null==D?void 0:D.type)?Ll(Lt,{turnIndex:N,messageIndex:j,buttons:(null==D||null===(s=D.item)||void 0===s||null===(s=s.payload)||void 0===s?void 0:s.buttons)||D.item}):null,"Embed"===(null==D?void 0:D.type)||"iFrame"===(null==D?void 0:D.type)?Ll("div",{key:"embed_".concat(N,"_message_").concat(j),className:" vg-w-full vg-h-auto "},Ll(Jt,{iFrame:"iFrame"===(null==D?void 0:D.type),itemData:D.item})):null,"GoogleForm"===(null==D?void 0:D.type)?Ll("div",{key:"gfrom_".concat(N,"_message_").concat(j),className:" vg-w-full vg-h-auto "},Ll(fr,{turnIndex:N,messageIndex:j,item:D.item})):null,"VoiceNote"===(null==D?void 0:D.type)?Ll("div",{key:"voicenote_".concat(N,"_message_").concat(j),className:" vg-w-full vg-h-auto "},Ll(hr,{audioLink:D.item.payload,withWaves:!0})):null,"Slider"===(null==D?void 0:D.type)?Ll("div",{key:"slider_".concat(N,"_message_").concat(j),className:" vg-w-full vg-h-auto vg-p-4 vg-rounded-large vg-bg-content2 "},Ll(wl,{turnIndex:N,messageIndex:j,message:D,isChatHistory:e.isChatHistory})):null,"end"===(null==D?void 0:D.type)?Ll(jr,{isChatHistory:e.isChatHistory,hasEverPaid:e.hasEverPaid,turnIndex:N,messageIndex:j}):null)}),[D,null==D?void 0:D.type,null===(r=D.item)||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.message,null===(s=D.item)||void 0===s||null===(s=s.payload)||void 0===s?void 0:s.buttons,null===(u=D.item)||void 0===u||null===(u=u.payload)||void 0===u?void 0:u.image,null==D||null===(c=D.item)||void 0===c||null===(c=c.payload)||void 0===c?void 0:c.title,null==D||null===(v=D.item)||void 0===v||null===(v=v.payload)||void 0===v?void 0:v.imageUrl,null==D||null===(g=D.item)||void 0===g||null===(g=g.payload)||void 0===g||null===(g=g.description)||void 0===g?void 0:g.text,b,null==D||null===(d=D.item)||void 0===d||null===(d=d.payload)||void 0===d?void 0:d.url]);return Ll("div",{key:"container_turn_".concat(N,"_message_").concat(j,"_from_").concat(D.from),className:" vg-flex vg-relative vg-flex-col vg-gap-2 vg-h-full vg-message-container vg-message-container-".concat(D.from," ")},Ll(P.M,null,Ll(x.Z,{onMouseEnter:function(){return B(!0)},onMouseLeave:function(){return B(!1)},id:"turn_".concat(N,"_message_").concat(j),className:" ".concat("carousel"===(null==D?void 0:D.type)?" ":" vg-mx-4 vg-md:mx-6 "," vg-relative vg-h-full vg-flex vg-gap-2 vg-overflow-y-hidden vg-overflow-x-hidden vg-message-outer-container"),divKey:"turn_".concat(N,"_message_").concat(j,"_from_").concat(D.from)},"carousel"!==(null==D?void 0:D.type)&&Ll("div",{className:" vg-w-10 vg-flex vg-items-end vg-message-avatar-container"},"bot"===D.from&&(j===z||e.isChatHistory)&&Ll(Me.Z,{key:"chat_avatar_".concat(N,"_").concat(j)})),Ll("div",{onMouseLeave:function(){return _(!1)},onMouseEnter:function(){return _(!0)},className:" vg-transition-all vg-duration-300 vg-ease-in-out ".concat((D.isLoading," vg-opacity-100 ")," vg-group vg-relative vg-text-medium vg-h-auto vg-flex vg-gap-2 ").concat("choice"===(null==D?void 0:D.type)?" vg-w-[90%] ":" "," ").concat("GoogleForm"===D.type?" vg-overflow-x-auto ":" "," ").concat("bot"!==D.from||"text"!==(null==D?void 0:D.type)&&"Flowise"!==(null==D?void 0:D.type)&&"GoogleForm"!==(null==D?void 0:D.type)&&"VoiceNote"!==(null==D?void 0:D.type)?" ":" vg-bg-content2 vg-p-1 ".concat("text"===(null==D?void 0:D.type)?" vg-max-w-[75%] ":" vg-w-[75%] "," vg-rounded-tl-large vg-rounded-bl-[5px] vg-rounded-tr-large vg-rounded-br-large vg-max-w-[500px] vg-message-inner-container-bot")," ").concat("human"===D.from?"vg-message-inner-container-human vg-text-white vg-justify-self-end vg-w-full vg-flex-row-reverse ":" "," ").concat("bot"===D.from&&"text"!==(null==D?void 0:D.type)&&"Flowise"!==(null==D?void 0:D.type)&&"carousel"!==(null==D?void 0:D.type)?" vg-max-w-[700px] ":" "," ").concat("carousel"===(null==D?void 0:D.type)||"Embed"===(null==D?void 0:D.type)||"iFrame"===(null==D?void 0:D.type)||"FileUpload"===(null==D?void 0:D.type)||"MultiFileUpload"===(null==D?void 0:D.type)||"MultiSelect"===(null==D?void 0:D.type)||"MultiDropdown"===(null==D?void 0:D.type)||"Slider"===D.type?" vg-w-full ":" "," ")},L,Ll(P.M,null,"text"===(null==D?void 0:D.type)&&"bot"===D.from&&null!==(m=y.variables)&&void 0!==m&&m.recordChatHistory&&(E||null!=y&&null!==(p=y.variables)&&void 0!==p&&null!==(p=p.ui)&&void 0!==p&&p.enableFixedFeedbackBtns)&&!e.isChatHistory?Ll(Al,{turnIndex:N,messageIndex:j}):""),Ll(P.M,null,V&&"text"===(null==D?void 0:D.type)&&"human"===D.from?Ll(Ye,{ts:D.ts,turnIndex:N,messageIndex:j}):"")),Ll(P.M,null,V&&"text"===(null==D?void 0:D.type)&&"bot"===D.from?Ll(Ye,{ts:D.ts,turnIndex:N,messageIndex:j}):""))))};var Hl=(0,nt.tv)({base:" vg-w-px vg-h-px vg-inline-block ",variants:{isInline:{true:" vg-inline-block ",false:" vg-block "}},defaultVariants:{isInline:!1}}),Jl={px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},ql=["as","className","x","y"];function Kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ql=function(e){var t;return null!==(t=Jl[e])&&void 0!==t?t:e};var Yl=o.default.createElement;function $l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var eo=(0,$e.Gp)((function(e,t){var n=function(e){var t=(0,$e.oe)(e,Hl.variantKeys),n=(0,l.Z)(t,2),a=n[0],r=n[1],i=a.as,s=a.className,u=a.x,v=void 0===u?1:u,g=a.y,d=void 0===g?1:g,f=(0,c.Z)(a,ql),m=i||"span",p=(0,o.useMemo)((function(){return Hl(Xl(Xl({},r),{},{className:s}))}),[].concat((0,T.Z)(Object.values(r)),[s])),b=Ql(v),h=Ql(d);return{Component:m,getSpacerProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Xl(Xl(Xl({},e),f),{},{"aria-hidden":(0,gt.PB)(!0),className:(0,mt.W)(p,e.className),style:Xl(Xl(Xl({},e.style),f.style),{},{marginLeft:b,marginTop:h})})}}}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),i=n.Component,s=n.getSpacerProps;return Yl(i,(0,a.Z)({ref:t},s()))}));eo.displayName="NextUI.Spacer";const to=eo;var no=n(45392),ao=n(60619),ro=o.default.createElement;const lo=function(e){var t,n,a=(null===(t=e.sources)||void 0===t?void 0:t.filter((function(e){var t;return null===(t=e.payload)||void 0===t?void 0:t.url})).length)>0,r=null===(n=e.sources)||void 0===n?void 0:n.filter((function(e,t,n){return t===n.findIndex((function(t){var n,a;return(null===(n=t.payload)||void 0===n?void 0:n.url)===(null===(a=e.payload)||void 0===a?void 0:a.url)}))}));return a?ro("div",{className:" vg-w-[90%] vg-mx-auto "},ro(Ne.default,{width:350,className:" vg-flex vg-flex-col vg-gap-2 vg-w-full ",key:"sources-".concat(e.turnIndex),label:"Sources"},r.filter((function(e){var t;return null===(t=e.payload)||void 0===t?void 0:t.url})).map((function(e,t){var n,a,r;return ro("a",{target:"_blank",href:null===(n=e.payload)||void 0===n?void 0:n.url,key:t,className:" vg-flex vg-gap-2 vg-justify-between vg-items-center vg-w-full vg-text-left vg-items-center vg-gap-1 vg-p-4 vg-rounded-large vg-bg-content2 "},ro("div",{className:" vg-flex vg-gap-4 vg-items-center vg-grow "},ro(I.gjK,{className:" vg-w-8 vg-h-8 vg-flex-shrink-0 "}),ro("div",{className:" vg-w-full vg-flex vg-flex-col "},ro("p",{className:" vg-w-full vg-w-24 vg-truncate vg-text-base vg-font-bold vg-opacity-80 "},null===(a=e.payload)||void 0===a?void 0:a.doc_name),ro("p",{className:" vg-text-tiny vg-opacity-80 vg-w-52 vg-truncate "},null===(r=e.payload)||void 0===r?void 0:r.urlDescription))),ro(y.sOJ,{className:" vg-w-4 vg-h-4 vg-flex-shrink-0 "}))})))):null};var oo=o.default.createElement;function io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function so(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?io(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const uo=function(e){var t,n,a,r,s,u,c,v,g,d=(0,f.B)(),m=(d.config,d.safeOwnerData,o.default.useState([])),p=(0,l.Z)(m,2),b=p[0],h=p[1],y=(0,i.useRuntime)(),w=y.runtime,O=y.setRuntime,N=y.formattedTurnsValue,k=o.default.useState([]),j=(0,l.Z)(k,2),D=j[0],C=j[1],S=o.default.useState(0),I=(0,l.Z)(S,2),Z=I[0],E=I[1],_=(0,ao.Z)((null==e||null===(t=e.localRuntimeData)||void 0===t?void 0:t.soundEffectUrl)||(null==w||null===(n=w.variables)||void 0===n?void 0:n.soundEffectUrl)||"https://pub-78d23252e3324567b5ee23d57acddddd.r2.dev/mixkit-correct-answer-tone-2870.wav",{soundEnabled:(null==e||null===(a=e.localRuntimeData)||void 0===a?void 0:a.soundEffectEnabled)||(null==w||null===(r=w.variables)||void 0===r?void 0:r.soundEffectEnabled)}),R=(0,l.Z)(_,1)[0],M=o.default.useMemo((function(){return Number(w.defaultMessageDelay||1e3)}),[w.defaultMessageDelay]),V=o.default.useMemo((function(){return N.map((function(e){var t;return so(so({},e),{},{messages:"in-footer"===(null==w||null===(t=w.variables)||void 0===t?void 0:t.buttonsLayout)?e.messages.filter((function(e){return"choice"!==e.type})):e.messages})}))}),[N]);return o.default.useEffect((function(){var t;if("vg"!==(null==w||null===(t=w.variables)||void 0===t?void 0:t.agentPlatform)){if(D.forEach(clearTimeout),N.length){O((function(e){return so(so({},e),{},{showInstantly:!1})}));var n=N[N.length-1],a=b[b.length-1];return n.messages.filter((function(e){var t;return"VGVF_Channel"!==e.type&&"VG_Response"!==e.type&&"VG_Cancel"!==e.payload&&("in-footer"!==(null==w||null===(t=w.variables)||void 0===t?void 0:t.buttonsLayout)||"choice"!==e.type)})).forEach((function(e,t){var r,l=n.messages.slice(0,t).reduce((function(e,t){return e+((null==t?void 0:t.delay)||M)}),0),o=null!=w&&w.showInstantly&&0===(null==b?void 0:b.length)||"human"===(null==e?void 0:e.from)||(null==a?void 0:a.from)===(null==n?void 0:n.from)?0:(e.delay||M)+l,i=setTimeout((function(){var e=(0,T.Z)(N),a=e.length-1,r=e[a].messages[t];document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"new_message",data:r,ts:W()().unix()}}));var l={from:n.from,messages:"bot"===n.from?n.messages.slice(0,t+1):n.messages};e[a]=l,h(e)}),"vg"===(null==w||null===(r=w.variables)||void 0===r?void 0:r.agentPlatform)?0:o);C((function(e){return[].concat((0,T.Z)(e),[i])}))})),function(){D.forEach(clearTimeout)}}h([])}else{if(e.autoScroll){var r=document.getElementById("vg-chat-scroll-container");r.scrollTop=r.scrollHeight}h(N)}}),[N]),o.default.useEffect((function(){var e,t,n,a,r;if(0===N.length&&E(0),(n="vg-chat-scroll-container",new Promise((function(e){if(document.getElementById(n))return e(document.getElementById(n));var t=new MutationObserver((function(a){document.getElementById(n)&&(t.disconnect(),e(document.getElementById(n)))}));t.observe(document.body,{childList:!0,subtree:!0})}))).then((function(e){var t,n=document.getElementById("vg-chat-scroll-container");null!=n&&n.scrollHeight&&(null==e||e.scrollTo({top:null==n?void 0:n.scrollHeight,behavior:null!==(t=w.variables)&&void 0!==t&&t.disableSmoothScroll?"auto":"smooth"}))})),null!==(e=V[V.length-1])&&void 0!==e&&null!==(e=e.messages)&&void 0!==e&&e.length&&null!==(t=b[b.length-1])&&void 0!==t&&null!==(t=t.messages)&&void 0!==t&&t.length)if((null===(a=V[V.length-1])||void 0===a||null===(a=a.messages)||void 0===a?void 0:a.length)===(null===(r=b[b.length-1])||void 0===r||null===(r=r.messages)||void 0===r?void 0:r.length)&&b.length===V.length){var l,o="human"===V[V.length-1].from;!1===o&&(null==V?void 0:V.length)>Z&&null!=w&&null!==(l=w.variables)&&void 0!==l&&l.soundEffectEnabled&&!w.showVapiUI&&(R(),E((function(e){return V.length}))),O((function(e){return so(so({},e),{},{loading:o})}))}else O((function(e){return so(so({},e),{},{loading:!0})}));else O((function(e){return so(so({},e),{},{loading:!0})}))}),[N,b,w.loading,w.blockLoading]),o.default.useEffect((function(){b.length>0&&(null==N?void 0:N.length)===b.length?O((function(e){return so(so({},e),{},{showInstantly:!0})})):O((function(e){return so(so({},e),{},{showInstantly:!1})}))}),[b]),oo(x.Z,{className:" vg-flex vg-flex-col vg-gap-5 vg-pt-[20px] vg-pb-[50px] vg-chat--current-convo",key:"vg-chat-scroll-container-2"},null!==(s=w.variables)&&void 0!==s&&s.enableVGHandoff?oo(ke.default,{localRuntimeData:null==e?void 0:e.localRuntimeData,setLocalData:null==e?void 0:e.setLocalData,active:(null==w||null===(u=w.variables)||void 0===u?void 0:u.fixedHandoffPopup)||e.hasScrolledUp||0===e.prevScrollPos||!b.find((function(e){return"human"===e.from}))}):null,oo(P.M,null,oo(Se,{localRuntimeData:null==e?void 0:e.localRuntimeData,setLocalData:null==e?void 0:e.setLocalData})),oo(to,{className:" vg-opacity-25 vg-bg-primary "}),b.map((function(t,n){var a;return oo("div",{key:"turn_container_number_".concat(n),className:" vg-w-full vg-h-auto vg-relative vg-flex vg-flex-col vg-gap-2 vg-chat-turn-container"},t.messages.map((function(a,r){return a&&null!=a&&a.type?oo(Wl,{turnsWithoutButtonMessages:V,hasEverPaid:e.hasEverPaid,turnIndex:n,messageIndex:r,turn:t,messageItem:a}):null})),null!=t&&null!==(a=t.sources)&&void 0!==a&&a.length?oo(lo,{turnIndex:n,sources:t.sources}):null)})),!w.blockLoading&&(null!=w&&w.forceLoading||w.loading||(null===(c=b[b.length-1])||void 0===c||null===(c=c.messages)||void 0===c?void 0:c.length)!==(null===(v=V[V.length-1])||void 0===v?void 0:v.messages.length))?oo("div",{key:"loading_runtime_avatar__main",className:" vg-mx-6 vg-relative vg-w-auto vg-h-auto vg--mt-2 "},oo(no.default,null)):null,null!==(g=w.debugMessages)&&void 0!==g&&g.length&&w.isSuperAdmin?oo(Ne.default,{className:" vg-mb-20 ",key:"view-sources-for-preview",label:"Debug"},oo("div",{className:" vg-w-full vg-h-auto vg-flex vg-flex-col vg-gap-2 vg-px-10 "},w.debugMessages.map((function(e,t){return oo("div",{key:"debug_message_".concat(t),className:" vg-w-full vg-h-auto vg-flex vg-flex-col vg-gap-2 "},oo("p",{className:" vg-text-small vg-opacity-80 "},null==e?void 0:e.content))})))):null)};var co=o.default.createElement;const vo=function(e){var t,n=(0,i.useRuntime)(),a=n.runtime,r=(n.setRuntime,null==a||null===(t=a.variables)||void 0===t||null===(t=t.tabs)||void 0===t?void 0:t.find((function(e){return"faq"===e.key})));return co("div",{className:"vg-faq-tab"},null!=r&&r.iframeUrl?co("iframe",{style:{height:(null==r?void 0:r.iframeHeight)||500},id:"faq-iframe",className:" vg-w-[90%] vg-mx-auto vg-mt-2 vg-tab-iframe ",src:null==r?void 0:r.iframeUrl}):null)};var go=o.default.createElement;u()((function(){return Promise.resolve().then(n.bind(n,10695))}),{loadableGenerated:{webpack:function(){return[10695]}}}),u()((function(){return Promise.resolve().then(n.bind(n,7860))}),{loadableGenerated:{webpack:function(){return[7860]}}});function fo(e){return new Promise((function(t){if(document.getElementById(e))return t(document.getElementById(e));var n=new MutationObserver((function(a){document.getElementById(e)&&(n.disconnect(),t(document.getElementById(e)))}));n.observe(document.body,{childList:!0,subtree:!0})}))}const mo=function(e){var t,n,a,r,s,u,c=(0,f.B)().config,v=(0,i.useRuntime)(),g=v.runtime,m=(v.formattedTurnsValue,o.default.useState([])),p=(0,l.Z)(m,2),b=(p[0],p[1],o.default.useState(!0)),h=(0,l.Z)(b,2),y=h[0],w=h[1],x=o.default.useState(0),O=(0,l.Z)(x,2),N=O[0],k=O[1],j=o.default.useState(!0),D=(0,l.Z)(j,2),C=D[0],S=D[1];var I=o.default.useMemo((function(){return go(uo,{localRuntimeData:e.localRuntimeData,setLocalData:e.setLocalData,hasEverPaid:e.hasEverPaid,hasScrolledUp:y,autoScroll:C,prevScrollPos:N})}),[null==g?void 0:g.selectedSessionId,e.hasEverPaid,e.localRuntimeData,y,C,N]);return go("div",{className:" ".concat(("tabs"===(null==g||null===(t=g.variables)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.widgetType)&&(null==g||g.tabKey)," ")," ").concat("full-width"===(null==c?void 0:c.render)?" ":" vg-md:rounded-large "," vg-w-full vg-h-full vg-bg-gradient-to-b vg-from-background/90 vg-to-background/100 vg-text-foreground vg-relative vg-chat-container")},"home"===g.tabKey&&"tabs"===(null==g||null===(n=g.variables)||void 0===n||null===(n=n.ui)||void 0===n?void 0:n.widgetType)?go("div",{className:" vg-h-[85%] vg-overflow-y-auto vg-overflow-x-hidden vg-w-full "},go(M,{responsive:e.responsive,setChatOpen:e.setChatOpen,setChatMinimized:e.setChatMinimized}),"home"===g.tabKey&&"tabs"===(null==g||null===(a=g.variables)||void 0===a||null===(a=a.ui)||void 0===a?void 0:a.widgetType)?go(be,{localRuntimeData:e.localRuntimeData,setLocalData:e.setLocalData,hasEverPaid:e.hasEverPaid}):null):go(M,{responsive:e.responsive,setChatOpen:e.setChatOpen,setChatMinimized:e.setChatMinimized}),go(d,{onScroll:function(e){var t=e.target,n=t.scrollTop,a=n-N>10,r=N-n>10,l=t.scrollHeight-t.clientHeight;Math.abs(n-N)>10&&k(n),a?w(!1):r&&l>=n&&w(!0);var o=Math.abs(l-n);S(o<10)},id:"vg-chat-scroll-container",className:" vg-overflow-y-auto ".concat((null!==(r=g.variables)&&void 0!==r&&r.branding," vg-h-[100%] ")," ").concat(g.showVapiUI||null!=g&&g.callOngoing?" vg-pb-80 ":" "," ").concat("in-footer"===(null==g||null===(s=g.variables)||void 0===s?void 0:s.buttonsLayout)?" vg-pb-52 ":" vg-pb-36 "," vg-flex vg-flex-col vg-gap-5 vg-relative vg-container-snap-chat vg-chat-scroll-container")},go(P.M,null,"tabs"===(null==g||null===(u=g.variables)||void 0===u||null===(u=u.ui)||void 0===u?void 0:u.widgetType)?g.selectedSessionId?I:"convos"===g.tabKey?go(Pe,{localRuntimeData:e.localRuntimeData,setLocalData:e.setLocalData,hasEverPaid:e.hasEverPaid}):"home"===(null==g?void 0:g.tabKey)?null:"faq"===(null==g?void 0:g.tabKey)?go(vo,{localRuntimeData:e.localRuntimeData,setLocalData:e.setLocalData,hasEverPaid:e.hasEverPaid}):null:I)),go(ve,{hasEverPaid:e.hasEverPaid}))};var po=n(60428),bo=n(47516),ho=n(81873),yo=o.default.createElement;function wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wo(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Oo=function(e){var t,n=(0,i.useRuntime)(),a=n.runtime,r=n.setRuntime,s=o.default.useState(!1),u=(0,l.Z)(s,2),c=u[0],v=u[1],g=Math.round((e.duration||1e3)/1e3),d=function(){r((function(e){return xo(xo({},e),{},{notice:xo(xo({},e.notice),{},{active:!1})})}))};return yo(P.M,null,e.custom&&o.default.isValidElement(e.custom)?yo(o.default.Fragment,null,e.custom):null,e.active?yo(O.E.div,{id:"vg-notice-container",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",stiffness:500,damping:65,mass:.5},layout:!0,className:" vg- ".concat("default"===e.type&&" vg-bg-base-200 vg-text-primary vg-notice--default"," vg- ").concat("success"===e.type&&" vg-bg-success-100 vg-border-2 vg-border-success-600 vg-text-success-800 vg-notice--success"," vg- ").concat("fail"===e.type&&" vg-bg-danger-100 vg-border-2 vg-border-danger-600 vg-text-danger-800 vg-notice--danger"," vg- ").concat(e.className||" vg-fixed vg-z-[200] vg-w-[25rem] vg-backdrop-blur vg-py-5 vg-text-small vg-flex vg-justify-center vg-rounded-large vg-notice"," vg- ")},yo("div",{className:" vg-px-5 vg-w-full vg-flex vg-items-center vg-gap-3 vg-notice--inner"},yo("div",{className:" vg-w-[10%] vg-notice-left"},"default"===e.type&&yo(Re.Vjl,{className:" vg-w-6 vg-h-6 vg-notice--default-icon"}),"success"===e.type&&yo(he.Gy1,{className:" vg-w-6 vg-h-6 vg-notice--success-icon"}),"fail"===e.type&&yo(bo.dqF,{className:" vg-w-full vg-h-full vg-notice--danger-icon"})),yo(b.Z,{to:null==a||null===(t=a.variables)||void 0===t?void 0:t.lang,className:" vg-w-[90%] vg-notice-message--text"},e.message),yo("div",{className:" vg-w-[8%] vg-notice-controller"},yo("button",{onClick:function(){return e.manualRemove?c?d():"":d()},className:" vg-w-full vg-h-full vg-notice-btn--close"},yo(po.$,{size:30,strokeWidth:4,isPlaying:!0,duration:g,colors:["#ffffff","#000000"],colorsTime:[.5,g],onComplete:function(){v(!0),e.manualRemove||d()}},(function(t){var n=t.remainingTime;return yo("div",{className:" vg-text-small vg-flex-all-center vg-notice-timer"}," ",n&&e.manualRemove?"":yo(ho.u5Z,{className:" vg-w-3 vg-h-3 vg-notice-timer--icon"}))})))))):null)};var Po=(0,nt.tv)({slots:{base:" vg-group vg-relative vg-max-w-fit vg-inline-flex vg-items-center vg-justify-start vg-cursor-pointer vg-touch-none vg-tap-highlight-transparent ",wrapper:[" vg-px-1 "," vg-relative "," vg-inline-flex "," vg-items-center "," vg-justify-start "," vg-flex-shrink-0 "," vg-overflow-hidden "," vg-bg-default-200 "," vg-rounded-full "].concat((0,T.Z)(at.ID)),thumb:[" vg-z-10 "," vg-flex "," vg-items-center "," vg-justify-center "," vg-bg-white "," vg-shadow-small "," vg-rounded-full "," vg-origin-right "],startContent:" vg-z-0 vg-absolute vg-left-1.5 vg-text-current ",endContent:" vg-z-0 vg-absolute vg-right-1.5 vg-text-default-600 ",thumbIcon:" vg-text-black ",label:" vg-relative vg-text-foreground vg-select-none "},variants:{color:{default:{wrapper:[" vg-group-data-[selected=true]:bg-default-400 "," vg-group-data-[selected=true]:text-default-foreground "]},primary:{wrapper:[" vg-group-data-[selected=true]:bg-primary "," vg-group-data-[selected=true]:text-primary-foreground "]},secondary:{wrapper:[" vg-group-data-[selected=true]:bg-secondary "," vg-group-data-[selected=true]:text-secondary-foreground "]},success:{wrapper:[" vg-group-data-[selected=true]:bg-success "," vg-group-data-[selected=true]:text-success-foreground "]},warning:{wrapper:[" vg-group-data-[selected=true]:bg-warning "," vg-group-data-[selected=true]:text-warning-foreground "]},danger:{wrapper:[" vg-group-data-[selected=true]:bg-danger "," vg-data-[selected=true]:text-danger-foreground "]}},size:{sm:{wrapper:" vg-w-10 vg-h-6 vg-mr-2 ",thumb:[" vg-w-4 vg-h-4 vg-text-tiny "," vg-group-data-[selected=true]:ml-4 "],endContent:" vg-text-tiny ",startContent:" vg-text-tiny ",label:" vg-text-small "},md:{wrapper:" vg-w-12 vg-h-7 vg-mr-2 ",thumb:[" vg-w-5 vg-h-5 vg-text-small "," vg-group-data-[selected=true]:ml-5 "],endContent:" vg-text-small ",startContent:" vg-text-small ",label:" vg-text-medium "},lg:{wrapper:" vg-w-14 vg-h-8 vg-mr-2 ",thumb:[" vg-w-6 vg-h-6 vg-text-medium "," vg-group-data-[selected=true]:ml-6 "],endContent:" vg-text-medium ",startContent:" vg-text-medium ",label:" vg-text-large "}},isDisabled:{true:{base:" vg-opacity-disabled vg-pointer-events-none "}},disableAnimation:{true:{wrapper:" vg-transition-none ",thumb:" vg-transition-none "},false:{wrapper:" vg-transition-background ",thumb:" vg-transition-all ",startContent:[" vg-opacity-0 "," vg-scale-50 "," vg-transition-transform-opacity "," vg-group-data-[selected=true]:scale-100 "," vg-group-data-[selected=true]:opacity-100 "],endContent:[" vg-opacity-100 "," vg-transition-transform-opacity "," vg-group-data-[selected=true]:translate-x-3 "," vg-group-data-[selected=true]:opacity-0 "]}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1,disableAnimation:!1},compoundVariants:[{disableAnimation:!1,size:"sm",class:{thumb:[" vg-group-data-[pressed=true]:w-5 "," vg-group-data-[selected]:group-data-[pressed]:ml-3 "]}},{disableAnimation:!1,size:"md",class:{thumb:[" vg-group-data-[pressed=true]:w-6 "," vg-group-data-[selected]:group-data-[pressed]:ml-4 "]}},{disableAnimation:!1,size:"lg",class:{thumb:[" vg-group-data-[pressed=true]:w-7 "," vg-group-data-[selected]:group-data-[pressed]:ml-5 "]}}]}),No=n(63921),ko=["ref","as","name","value","isReadOnly","autoFocus","startContent","endContent","defaultSelected","isSelected","children","thumbIcon","className","classNames","onChange","onValueChange"];function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Do(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Co=o.default.createElement;function So(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?So(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zo=(0,$e.Gp)((function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,$e.oe)(e,Po.variantKeys),n=(0,l.Z)(t,2),a=n[0],r=n[1],i=a.ref,s=a.as,u=a.name,v=a.value,g=void 0===v?"":v,d=a.isReadOnly,f=void 0!==d&&d,m=a.autoFocus,p=void 0!==m&&m,b=a.startContent,h=a.endContent,y=a.defaultSelected,w=a.isSelected,x=a.children,O=a.thumbIcon,P=a.className,N=a.classNames,k=a.onChange,j=a.onValueChange,D=(0,c.Z)(a,ko),C=s||"label",S=(0,o.useRef)(null),I=(0,vt.rV)(i,S),Z=(0,o.useId)(),E=(0,o.useMemo)((function(){var t=D["aria-label"]||"string"==typeof x?x:void 0;return{name:u,value:g,children:x,autoFocus:p,defaultSelected:y,isSelected:w,isDisabled:!!e.isDisabled,isReadOnly:f,"aria-label":t,"aria-labelledby":D["aria-labelledby"]||Z,onChange:j}}),[g,u,Z,x,p,f,w,y,e.isDisabled,D["aria-label"],D["aria-labelledby"],j]),_=(0,tt.l)(E),R=(0,No.h)(E,_,S),M=R.inputProps,V=R.isPressed,B=R.isReadOnly,z=(0,st.F)({autoFocus:M.autoFocus}),F=z.focusProps,L=z.isFocused,U=z.isFocusVisible,A=(0,ot.X)({isDisabled:M.disabled}),G=A.hoverProps,W=A.isHovered,H=E.isDisabled||B,J=(0,o.useState)(!1),q=J[0],K=J[1],X=(0,it.r)({isDisabled:H,onPressStart:function(e){"keyboard"!==e.pointerType&&K(!0)},onPressEnd:function(e){"keyboard"!==e.pointerType&&K(!1)}}).pressProps,Q=!H&&(q||V),Y=M.checked,$=M.disabled,ee=(0,o.useMemo)((function(){return Po(Do({},r))}),(0,T.Z)(Object.values(r))),te=(0,mt.W)(null==N?void 0:N.base,P),ne=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Do(Do({},e),{},{"aria-hidden":!0,className:(0,mt.W)(ee.wrapper({class:(0,mt.W)(null==N?void 0:N.wrapper,null==e?void 0:e.className)}))})}),[ee,null==N?void 0:N.wrapper]),ae=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Do(Do({},e),{},{className:ee.thumb({class:(0,mt.W)(null==N?void 0:N.thumb,null==e?void 0:e.className)})})}),[ee,null==N?void 0:N.thumb]),re=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Do(Do({},e),{},{id:Z,className:ee.label({class:(0,mt.W)(null==N?void 0:N.label,null==e?void 0:e.className)})})}),[ee,null==N?void 0:N.label,$,Y]),le=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeStateProps:!1};return(0,ut.d)({width:"1em",height:"1em",className:ee.thumbIcon({class:(0,mt.W)(null==N?void 0:N.thumbIcon)})},e.includeStateProps?{isSelected:Y}:{})}),[ee,null==N?void 0:N.thumbIcon,Y]),oe=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Do(Do({width:"1em",height:"1em"},e),{},{className:ee.startContent({class:(0,mt.W)(null==N?void 0:N.startContent,null==e?void 0:e.className)})})}),[ee,null==N?void 0:N.startContent,Y]),ie=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Do(Do({width:"1em",height:"1em"},e),{},{className:ee.endContent({class:(0,mt.W)(null==N?void 0:N.endContent,null==e?void 0:e.className)})})}),[ee,null==N?void 0:N.endContent,Y]);return{Component:C,slots:ee,classNames:N,domRef:I,children:x,thumbIcon:O,startContent:b,endContent:h,isHovered:W,isSelected:Y,isPressed:Q,isFocused:L,isFocusVisible:U,isDisabled:$,getBaseProps:function(e){return Do(Do({},(0,ut.d)(G,X,D,e)),{},{ref:I,className:ee.base({class:(0,mt.W)(te,null==e?void 0:e.className)}),"data-disabled":(0,gt.PB)($),"data-selected":(0,gt.PB)(Y),"data-readonly":(0,gt.PB)(B),"data-focus":(0,gt.PB)(L),"data-focus-visible":(0,gt.PB)(U),"data-hover":(0,gt.PB)(W),"data-pressed":(0,gt.PB)(Q)})},getWrapperProps:ne,getInputProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Do(Do({},(0,ut.d)(M,F,e)),{},{ref:S,id:M.id,onChange:(0,ct.t)(k,M.onChange)})},getLabelProps:re,getThumbProps:ae,getThumbIconProps:le,getStartContentProps:oe,getEndContentProps:ie}}(Io(Io({},e),{},{ref:t})),a=n.Component,r=n.children,i=n.startContent,s=n.endContent,u=n.thumbIcon,v=n.getBaseProps,g=n.getInputProps,d=n.getWrapperProps,f=n.getThumbProps,m=n.getThumbIconProps,p=n.getLabelProps,b=n.getStartContentProps,h=n.getEndContentProps,y="function"==typeof u?u(m({includeStateProps:!0})):u&&(0,o.cloneElement)(u,m()),w=i&&(0,o.cloneElement)(i,b()),x=s&&(0,o.cloneElement)(s,h());return Co(a,v(),Co(et.T,null,Co("input",g())),Co("span",d(),i&&w,Co("span",f(),u&&y),s&&x),r&&Co("span",p(),r))}));Zo.displayName="NextUI.Switch";const Eo=Zo;var _o=o.default.createElement;function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var To=u()((function(){return Promise.all([n.e(349),n.e(753)]).then(n.bind(n,11753))}),{loadableGenerated:{webpack:function(){return[11753]}}});const Vo=function(e){var t,n,r,s,u,c,v,g,d,p,b,h,y=(0,f.B)().config,w=(0,i.useRuntime)(),O=w.runtime,N=w.setRuntime,k=null!==(t=O.variables)&&void 0!==t&&t.fontFamily?null===(n=O.variables)||void 0===n||null===(n=n.fontFamily)||void 0===n?void 0:n.split(" ").join("+"):"DM+Sans",j=o.default.useState(!1),D=(0,l.Z)(j,2);D[0],D[1];return _o(o.default.Fragment,null,e.test?_o(o.default.Fragment,null,_o(m.Z,{variant:"bordered",color:"primary",className:" vg-w-72 vg-mx-auto vg-font-bold ",size:"md",onPress:function(){N((function(e){return Mo(Mo({},e),{},{reload:!0})}))}},"Reset Agent"),_o(Eo,{onValueChange:function(t){null!=e&&e.setLocalData&&e.setLocalData((function(e){return Mo(Mo({},e),{},{ui:Mo(Mo({},e.ui),{},{widgetType:t?"tabs":"direct-chat"})})}))},isSelected:"tabs"===(null==O||null===(r=O.variables)||void 0===r||null===(r=r.ui)||void 0===r?void 0:r.widgetType)},"Enable Tabs (NEW ðŸ‘€)")):null,_o(x.Z,{id:"vg-mother-container",style:{background:null!=O&&null!==(s=O.variables)&&void 0!==s&&s.chatBgURL&&"false"!==(null==O||null===(u=O.variables)||void 0===u?void 0:u.chatBgURL)?"url(".concat((null===(c=O.variables)||void 0===c?void 0:c.chatBgURL)||"",")"):(null===(v=O.variables)||void 0===v||null===(v=v.theme)||void 0===v||v.split("-")[1],"unset"),fontFamily:(null===(g=O.variables)||void 0===g?void 0:g.fontFamily)||"DM Sans"},divKey:"chat_overlay_main",className:" ".concat(e.responsive?" vg-w-full vg-h-full vg-relative vg-object-cover vg-overflow-hidden vg-shadow vg-shadow-foreground-100 vg-overlay-root-container":" vg-h-screen-fix vg-md:h-[85dvh] vg-md:max-h-[700px] vg-w-[100vw] vg-md:w-[425px] vg-2xl:w-[430px] vg-md:rounded-large vg-relative vg-object-cover vg-overflow-hidden vg-shadow vg-shadow-foreground-100 vg-border-none vg-md:border vg-md:border-primary-100 vg-overlay-root-container"," ")},(e.shouldContinue,_o(o.default.Fragment,null,_o(P.M,null,null!=O&&null!==(d=O.variables)&&void 0!==d&&null!==(d=d.vapi)&&void 0!==d&&d.id&&O.showVapiUI&&null!=O&&null!==(p=O.variables)&&void 0!==p&&null!==(p=p.vapiConfig)&&void 0!==p&&p.enableVapiOnWeb?_o(To,{test:e.test,agentData:O.variables,config:y,onNoThanks:function(){N((function(e){return Mo(Mo({},e),{},{showVapiUI:!e.showVapiUI})}))}}):null),null!==(b=O.variables)&&void 0!==b&&b.ADVANCED_customCSS&&e.test?_o("style",{dangerouslySetInnerHTML:{__html:null===(h=O.variables)||void 0===h?void 0:h.ADVANCED_customCSS}}):null,"inherit"!==k&&!0===e.test?_o(o.default.Fragment,null,_o("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),_o("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:""}),_o("link",{href:"https://fonts.googleapis.com/css2?family=".concat(k,":wght@400;500;700&display=swap"),rel:"stylesheet"})):null,_o("div",{id:"vg-inner-container",className:" vg-h-[100%] vg-chat-view-container"},_o(mo,(0,a.Z)({},e,{test:e.test}))),_o(Oo,(0,a.Z)({className:" vg-absolute vg-bottom-0 vg-w-full vg-h-auto vg-py-5 vg-z-[999] vg-rounded-large vg-notice-container"},O.notice))))))}},7860:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var a=n(73850),r=n(17828),l=n(84962),o=n(59748),i=n(1451),s=o.default.createElement;const u=function(e){var t=(0,o.useState)(!1),n=t[0],u=t[1];return s("div",{className:" vg-w-full vg-h-full "},s(r.M,null,s(l.E.div,{className:" vg-mx-auto vg-overflow-x-hidden vg-relative ".concat(n?" vg-overflow-y-hidden ":" vg-very-cool-fade vg-overflow-y-auto "," "),initial:{height:20,opacity:0,marginBottom:0},animate:{height:n?(null==e?void 0:e.activeHeight)||200:70,opacity:1,marginBottom:10,width:(null==e?void 0:e.width)||400},exit:{height:20,opacity:0,marginBottom:0},key:e.key,transition:{duration:n?.3:0}},e.children),s(l.E.div,{className:" vg-w-full vg-flex vg-justify-center ",key:"close-button-".concat(e.key)},s(a.Z,{onPress:function(){return u((function(e){return!e}))},className:" vg-w-24 vg-h-auto vg-pl-5 vg-p-2 ".concat(e.btnClassname," vg-border vg-border-foreground-300 vg-opacity-80 "),variant:"light",isIconOnly:!0},e.label,s(n?i.q8j:i.gPZ,{className:" vg-w-5 vg-h-5 "})))))}}}]);